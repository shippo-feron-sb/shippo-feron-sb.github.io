"use strict";(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[1386],{"./app/actions/carrier-accounts.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FD:()=>createCarrierAccount,IF:()=>editCarrierAccount,Pf:()=>carrierAccountsClearState,QO:()=>editCarrierAccountServiceLevels,QY:()=>connectCarrierAccountSuccess,fz:()=>connectCarrierAccount});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/actions/constants.ts");function carrierAccountsClearState(){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.u.CARRIER_ACCOUNTS_CLEAR_STATE}}function connectCarrierAccount(payload){return{payload,type:_constants__WEBPACK_IMPORTED_MODULE_0__.u.CONNECT_CARRIER_ACCOUNT}}function connectCarrierAccountSuccess(payload){return{payload,type:_constants__WEBPACK_IMPORTED_MODULE_0__.u.CONNECT_CARRIER_ACCOUNT_SUCCESS}}function editCarrierAccount(payload){return{payload,type:_constants__WEBPACK_IMPORTED_MODULE_0__.u.EDIT_CARRIER_ACCOUNT}}function editCarrierAccountServiceLevels(payload){return{payload,type:_constants__WEBPACK_IMPORTED_MODULE_0__.u.EDIT_CARRIER_ACCOUNT_SERVICE_LEVELS}}function createCarrierAccount(payload){return{payload,type:_constants__WEBPACK_IMPORTED_MODULE_0__.u.CREATE_CARRIER_ACCOUNT}}},"./app/contexts/GlobalComponentsProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>useGlobalComponentsContext});var react=__webpack_require__("./node_modules/react/index.js");__webpack_require__("./node_modules/@goshippo/libraries/dist/esm/shared/NoticeAlert/index.js");__webpack_require__("./app/utils/translate.ts"),__webpack_require__("./node_modules/react-redux/es/index.js");var GlobalComponentsContext=(0,react.createContext)({snackbar:{addSnackbarAlert:function(){},addSnackbarActionAlert:function(){}}}),useGlobalComponentsContext=function(){return{snackbar:(0,react.useContext)(GlobalComponentsContext).snackbar}}},"./app/hooks/useRequest.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>useRequest});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),axios__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/axios/index.js"),axios__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");function useRequest(){var _this=this,_a=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.CR)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),2),loading=_a[0],setLoading=_a[1],_b=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.CR)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),2),data=_b[0],setData=_b[1],_c=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.CR)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),2),error=_c[0],setError=_c[1],_d=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.CR)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(void 0),2),errorDetails=_d[0],setErrorDetails=_d[1],unmountedRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(!1);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){return function(){unmountedRef.current=!0}}),[]);var reset=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(){setLoading(!1),setData(null),setError(null),setErrorDetails(void 0)}),[]),request=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(requestFunction){return setLoading(!0),setData(null),setError(null),(0,tslib__WEBPACK_IMPORTED_MODULE_2__.mG)(_this,void 0,void 0,(function(){var response,e_1;return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Jh)(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,requestFunction()];case 1:return response=_a.sent(),unmountedRef.current?[2]:(setData(response),setLoading(!1),[3,3]);case 2:return e_1=_a.sent(),unmountedRef.current?[2]:(axios__WEBPACK_IMPORTED_MODULE_0___default().isAxiosError(e_1)?setError(e_1.message):setError((null==e_1?void 0:e_1.message)||"An error was encountered loading data"),setErrorDetails(e_1.response),setLoading(!1),[3,3]);case 3:return[2]}}))}))}),[]);return{request,reset,loading,data,error,errorDetails}}},"./app/pages/Settings/Carriers/VerifyCarrier/FedExInternationalSection.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{IC:()=>RequiredError,T5:()=>FedExInternationalSection});var RequiredError,tslib__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_emotion_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@goshippo/components/esm/IconButton/IconButton.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@goshippo/components/esm/FormControlLabel/FormControlLabel.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@goshippo/components/esm/Checkbox/Checkbox.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@goshippo/components/esm/Alert/Alert.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@goshippo/components/esm/AlertTitle/AlertTitle.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/@mui/icons-material/esm/Done.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/@mui/icons-material/esm/Delete.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_sentry_browser__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@sentry/core/esm/exports.js"),_SignPad_SignPad__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/pages/Settings/Carriers/VerifyCarrier/SignPad/SignPad.tsx"),_constants_responsive__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/constants/responsive.ts"),dataURLtoBlob=function(dataURL){try{if("string"!=typeof dataURL||!dataURL)return null;for(var arr=dataURL.split(","),mime_1=arr[0].split(":")[1].split(";")[0],bstr=atob(arr[1]),n=bstr.length,u8arr=new Uint8Array(n);n--;)u8arr[n]=bstr.charCodeAt(n);return new Blob([u8arr],{type:mime_1})}catch(error){return _sentry_browser__WEBPACK_IMPORTED_MODULE_4__.Tb(error),null}},getImageDimensions=function(file){return new Promise((function(resolve,reject){var img=new Image;img.onload=function(){resolve({width:img.width,height:img.height})},img.onerror=function(error){reject(error)},img.src=URL.createObjectURL(file)}))};!function(RequiredError){RequiredError.LOGO_REQUIRED="logo_required",RequiredError.SIGNATURE_REQUIRED="signature_required",RequiredError.BOTH_REQUIRED="both_required",RequiredError.NONE=""}(RequiredError||(RequiredError={}));var templateObject_1,templateObject_2,templateObject_3,StyledUploadContainer=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.Z)(_goshippo_components__WEBPACK_IMPORTED_MODULE_5__.Z)(templateObject_1||(templateObject_1=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.cy)(["\n  width: 100%;\n  justify-content: space-between;\n  flex-direction: row;\n"],["\n  width: 100%;\n  justify-content: space-between;\n  flex-direction: row;\n"]))),StyledPreview=_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.Z.div(templateObject_2||(templateObject_2=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.cy)(["\n  width: ",";\n  height: ",";\n  border: 1px solid ",";\n  display: flex;\n  padding: ",";\n  position: relative;\n  & .image {\n    width: 100%;\n    height: auto;\n    object-fit: contain;\n  }\n\n  @media screen and (max-width: ","px) {\n    width: ",";\n    height: ",";\n  }\n"],["\n  width: ",";\n  height: ",";\n  border: 1px solid ",";\n  display: flex;\n  padding: ",";\n  position: relative;\n  & .image {\n    width: 100%;\n    height: auto;\n    object-fit: contain;\n  }\n\n  @media screen and (max-width: ","px) {\n    width: ",";\n    height: ",";\n  }\n"])),_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.Z.spacing(18),_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.Z.spacing(10),_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.Z.palette.grey[300],_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.Z.spacing(1),_constants_responsive__WEBPACK_IMPORTED_MODULE_3__.C.SmallMobile,_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.Z.spacing(10),_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.Z.spacing(6)),StyledIconButton=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.Z)(_goshippo_components__WEBPACK_IMPORTED_MODULE_8__.Z)(templateObject_3||(templateObject_3=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.cy)(["\n  position: absolute;\n  right: 0;\n  margin: -10px -5px;\n"],["\n  position: absolute;\n  right: 0;\n  margin: -10px -5px;\n"]))),FedExInternationalSection=function(_a){var t=_a.t,requiredError=_a.requiredError,assetReferences=_a.assetReferences,showFedExInternational=_a.showFedExInternational,onChangeCheckbox=_a.onChangeCheckbox,onImageUpload=_a.onImageUpload,_b=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.CR)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),2),openSignPad=_b[0],setOpenSignPad=_b[1],_c=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.CR)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),2),uploadError=_c[0],setUploadError=_c[1],_d=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.CR)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({companyLogo:"",digitalSignature:""}),2),logoURLs=_d[0],setLogoURLs=_d[1],fileReaderRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new FileReader),companyLogoUploaded=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),digitalSignatureUploaded=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),handleImageUpload=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(){onImageUpload&&onImageUpload({companyLogo:companyLogoUploaded.current,digitalSignature:digitalSignatureUploaded.current})}),[onImageUpload]);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){var listener,reader=fileReaderRef.current;return fileReaderRef.current&&(listener=fileReaderRef.current.addEventListener("load",(function(){setLogoURLs((0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({},logoURLs),{companyLogo:(null==reader?void 0:reader.result)||""})),companyLogoUploaded.current=dataURLtoBlob((null==reader?void 0:reader.result)||null),handleImageUpload()}))),function(){listener&&(null==reader||reader.removeEventListener("load",listener))}}),[handleImageUpload,setLogoURLs,logoURLs]);var handleLogoUploadChange=function(e){return(0,tslib__WEBPACK_IMPORTED_MODULE_6__.mG)(void 0,void 0,void 0,(function(){var file,_a,width,height,error_1,_b;return(0,tslib__WEBPACK_IMPORTED_MODULE_6__.Jh)(this,(function(_c){switch(_c.label){case 0:if(!e.target.files||0===e.target.files.length)return[2];if(!(file=e.target.files[0]))return[2];_c.label=1;case 1:return _c.trys.push([1,3,,4]),[4,getImageDimensions(file)];case 2:return _a=_c.sent(),width=_a.width,height=_a.height,width>700||height>50?(setUploadError("dimension_error"),[2]):[3,4];case 3:return error_1=_c.sent(),_sentry_browser__WEBPACK_IMPORTED_MODULE_4__.Tb(error_1),setUploadError("dimension_error"),[2];case 4:return file.size>5242880?(setUploadError("size_error"),[2]):(setUploadError(""),null===(_b=fileReaderRef.current)||void 0===_b||_b.readAsDataURL(file),[2])}}))}))},handleSignPadOpen=function(){setOpenSignPad(!0)},handleSignPadClose=function(){setOpenSignPad(!1)},handleClearImage=function(type){var _a;setLogoURLs((0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({},logoURLs),((_a={})[type]="",_a))),"companyLogo"===type?companyLogoUploaded.current=null:digitalSignatureUploaded.current=null,handleImageUpload()},derivedRequiredError=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((function(){if(requiredError&&!uploadError)switch(requiredError){case RequiredError.LOGO_REQUIRED:return t("settings:carriers:accountValidation:fedexInternational:companyLogoRequired");case RequiredError.SIGNATURE_REQUIRED:return t("settings:carriers:accountValidation:fedexInternational:digitalSignatureRequired");case RequiredError.BOTH_REQUIRED:return t("settings:carriers:accountValidation:fedexInternational:companyLogoAndDigitalSignatureRequired");default:return""}return""}),[requiredError,t,uploadError]);return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.BX)(_goshippo_components__WEBPACK_IMPORTED_MODULE_10__.Z,{children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_5__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({style:{marginBottom:_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.Z.spacing(1.5)}},{children:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_11__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({component:"h2",variant:"bodyEmphasized"},{children:t("settings:carriers:accountValidation:fedexInternational:title")}))})),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_5__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({style:{marginLeft:_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.Z.spacing(2),marginBottom:_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.Z.spacing(3)}},{children:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_12__.Z,{label:t("settings:carriers:accountValidation:fedexInternational:checkboxLabel"),control:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_13__.Z,{checked:showFedExInternational,onChange:onChangeCheckbox})})})),showFedExInternational&&(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.BX)(_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.HY,{children:[derivedRequiredError&&(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_5__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({style:{marginBottom:_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.Z.spacing(2)}},{children:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_14__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({severity:"error"},{children:derivedRequiredError}))})),uploadError?(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_5__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({style:{marginBottom:_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.Z.spacing(2)}},{children:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.BX)(_goshippo_components__WEBPACK_IMPORTED_MODULE_14__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({severity:"error"},{children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_15__.Z,{children:t("settings:carriers:accountValidation:fedexInternational:fileTooLargeErrorTitle")}),t("size_error"===uploadError?"settings:carriers:accountValidation:fedexInternational:fileSizeError":"settings:carriers:accountValidation:fedexInternational:fileDimensionError")]}))})):(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_5__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({style:{marginBottom:_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.Z.spacing(3)}},{children:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_11__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({component:"p",variant:"body"},{children:t("settings:carriers:accountValidation:fedexInternational:description")}))})),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.BX)(StyledUploadContainer,{children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.BX)(_goshippo_components__WEBPACK_IMPORTED_MODULE_5__.Z,{children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.BX)(_goshippo_components__WEBPACK_IMPORTED_MODULE_5__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({flexDirection:"row"},{children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_11__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({component:"h2",variant:"bodyEmphasized",style:{marginBottom:_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.Z.spacing(1.5)}},{children:t("settings:carriers:accountValidation:fedexInternational:companyLogo")})),(null==assetReferences?void 0:assetReferences.companyLogo)&&(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_16__.Z,{style:{marginLeft:_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.Z.spacing(1)},color:"primary"})]})),logoURLs.companyLogo?(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.BX)(StyledPreview,{children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(StyledIconButton,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({size:"small","aria-label":"delete",onClick:function(){return handleClearImage("companyLogo")}},{children:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_18__.Z,{})})),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)("img",{className:"image",src:logoURLs.companyLogo,alt:"company logo"})]}):(null==assetReferences?void 0:assetReferences.companyLogo)?(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.BX)(_goshippo_components__WEBPACK_IMPORTED_MODULE_17__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({component:"label",variant:"outlined",color:"primary"},{children:[t("settings:carriers:accountValidation:fedexInternational:change"),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)("input",{type:"file",accept:".png,.gif",onChange:handleLogoUploadChange,hidden:!0})]})):(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.BX)(_goshippo_components__WEBPACK_IMPORTED_MODULE_17__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({component:"label",variant:"contained",color:"primary"},{children:[t("settings:carriers:accountValidation:fedexInternational:upload"),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)("input",{type:"file",accept:".png,.gif",onChange:handleLogoUploadChange,hidden:!0})]}))]}),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.BX)(_goshippo_components__WEBPACK_IMPORTED_MODULE_5__.Z,{children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.BX)(_goshippo_components__WEBPACK_IMPORTED_MODULE_5__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({flexDirection:"row"},{children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_11__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({component:"h2",variant:"bodyEmphasized",style:{marginBottom:_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.Z.spacing(1.5)}},{children:t("settings:carriers:accountValidation:fedexInternational:digitalSignature")})),(null==assetReferences?void 0:assetReferences.digitalSignature)&&(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_16__.Z,{style:{marginLeft:_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.Z.spacing(1)},color:"primary"})]})),logoURLs.digitalSignature?(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.BX)(StyledPreview,{children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(StyledIconButton,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({size:"small","aria-label":"delete",onClick:function(){return handleClearImage("digitalSignature")}},{children:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_18__.Z,{})})),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)("img",{className:"image",src:logoURLs.digitalSignature,alt:"digital signature"})]}):(null==assetReferences?void 0:assetReferences.companyLogo)?(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_17__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({onClick:handleSignPadOpen,variant:"outlined",color:"primary"},{children:t("settings:carriers:accountValidation:fedexInternational:change")})):(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_17__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({onClick:handleSignPadOpen,variant:"contained",color:"primary"},{children:t("settings:carriers:accountValidation:fedexInternational:addSignature")}))]})]}),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.tZ)(_SignPad_SignPad__WEBPACK_IMPORTED_MODULE_2__.R,{t,open:openSignPad,onClose:handleSignPadClose,onSubmit:function(dataURL){setLogoURLs((0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_6__.pi)({},logoURLs),{digitalSignature:dataURL})),digitalSignatureUploaded.current=dataURLtoBlob(dataURL),handleImageUpload(),handleSignPadClose()}})]})]})}},"./app/pages/Settings/Carriers/VerifyCarrier/SignPad/SignPad.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>SignPad});var templateObject_1,templateObject_2,templateObject_3,templateObject_4,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),Dialog=__webpack_require__("./node_modules/@goshippo/components/esm/Dialog/Dialog.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),Box=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),DialogActions=__webpack_require__("./node_modules/@goshippo/components/esm/DialogActions/DialogActions.js"),DialogTitle=__webpack_require__("./node_modules/@goshippo/components/esm/DialogTitle/DialogTitle.js"),IconButton=__webpack_require__("./node_modules/@goshippo/components/esm/IconButton/IconButton.js"),Close=__webpack_require__("./node_modules/@mui/icons-material/esm/Close.js"),DialogContent=__webpack_require__("./node_modules/@goshippo/components/esm/DialogContent/DialogContent.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),TextField=__webpack_require__("./node_modules/@goshippo/components/esm/TextField/TextField.js"),Button=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),react=__webpack_require__("./node_modules/react/index.js"),options={font:function(length){return length>28?"9px 'Rock Salt'":length>20?"12px 'Rock Salt'":length>12?"15px 'Rock Salt'":"20px 'Rock Salt'"},fillStyle:shippoTheme.Z.palette.text.primary,width:240,height:25,paddingX:120,paddingY:21,customFont:{name:"'Rock Salt'",url:"https://fonts.googleapis.com/css2?family=Rock+Salt"}},displayOptions={font:function(length){return length>28?"22px 'Rock Salt'":length>20?"28px 'Rock Salt'":length>12?"40px 'Rock Salt'":"65px 'Rock Salt'"},fillStyle:shippoTheme.Z.palette.text.primary,width:560,height:160,paddingX:275,paddingY:130,customFont:{name:"'Rock Salt'",url:"https://fonts.googleapis.com/css2?family=Rock+Salt"}},drawImage=function(options,textString){var font=options.font,fillStyle=options.fillStyle,width=options.width,height=options.height,paddingX=options.paddingX,paddingY=options.paddingY,canvasSelectorDom=document.createElement("canvas");canvasSelectorDom.setAttribute("width","".concat(width,"px")),canvasSelectorDom.setAttribute("height","".concat(height,"px"));var context=canvasSelectorDom.getContext("2d");return context&&(context.font=font(textString.length),context.textAlign="center",context.fillStyle=fillStyle,context.fillText(textString,paddingX,paddingY)),canvasSelectorDom.toDataURL()},responsive=__webpack_require__("./app/constants/responsive.ts"),StyledDialog=(0,emotion_styled_browser_esm.Z)(Dialog.Z)(templateObject_1||(templateObject_1=(0,tslib_es6.cy)(["\n  & .MuiPaper-root {\n    border-radius: 16px;\n  }\n"],["\n  & .MuiPaper-root {\n    border-radius: 16px;\n  }\n"]))),StyledSignCanvas=(0,emotion_styled_browser_esm.Z)("img")(templateObject_2||(templateObject_2=(0,tslib_es6.cy)(["\n  height: ",";\n  width: ",";\n\n  @media screen and (max-width: ","px) {\n    width: ",";\n  }\n"],["\n  height: ",";\n  width: ",";\n\n  @media screen and (max-width: ","px) {\n    width: ",";\n  }\n"])),shippoTheme.Z.spacing(10),shippoTheme.Z.spacing(35),responsive.C.SmallMobile,shippoTheme.Z.spacing(24)),StyledCanvasContainer=(0,emotion_styled_browser_esm.Z)(Box.Z)(templateObject_3||(templateObject_3=(0,tslib_es6.cy)(["\n  margin: auto;\n  display: 'flex';\n  justify-content: 'center';\n  height: ",";\n  width: ",";\n  border-bottom: 2px solid;\n\n  @media screen and (max-width: ","px) {\n    width: ",";\n  }\n"],["\n  margin: auto;\n  display: 'flex';\n  justify-content: 'center';\n  height: ",";\n  width: ",";\n  border-bottom: 2px solid;\n\n  @media screen and (max-width: ","px) {\n    width: ",";\n  }\n"])),shippoTheme.Z.spacing(10),shippoTheme.Z.spacing(35),responsive.C.SmallMobile,shippoTheme.Z.spacing(24)),StyledDialogActions=(0,emotion_styled_browser_esm.Z)(DialogActions.Z)(templateObject_4||(templateObject_4=(0,tslib_es6.cy)(["\n  display: flex;\n  justify-content: space-between;\n  padding: ",";\n  padding-top: ",";\n"],["\n  display: flex;\n  justify-content: space-between;\n  padding: ",";\n  padding-top: ",";\n"])),shippoTheme.Z.spacing(4),shippoTheme.Z.spacing(0)),SignPad=function(_a){var t=_a.t,open=_a.open,onClose=_a.onClose,onSubmit=_a.onSubmit,_b=(0,tslib_es6.CR)((0,react.useState)(""),2),inputValue=_b[0],setInputValue=_b[1],inputRef=(0,react.useRef)(null),_c=function(textString){var _a=(0,tslib_es6.CR)((0,react.useState)(!1),2),isReady=_a[0],setIsReady=_a[1],_b=(0,tslib_es6.CR)((0,react.useState)(null),2),imageData=_b[0],setImageData=_b[1],_c=(0,tslib_es6.CR)((0,react.useState)(null),2),displayImageData=_c[0],setDisplayImageData=_c[1];return(0,react.useEffect)((function(){var linkElement=document.createElement("link");linkElement.rel="stylesheet",linkElement.href=options.customFont.url;var head=document.head;return head.appendChild(linkElement),linkElement.onload=function(){setIsReady(!0)},function(){head.removeChild(linkElement)}}),[]),(0,react.useEffect)((function(){if(isReady){var imageDataUrl=drawImage(options,textString);setImageData(imageDataUrl);var displayImageDataUrl=drawImage(displayOptions,textString);setDisplayImageData(displayImageDataUrl)}}),[isReady,textString]),{imageData,displayImageData}}(inputValue),imageData=_c.imageData,displayImageData=_c.displayImageData;return(0,emotion_react_jsx_runtime_browser_esm.BX)(StyledDialog,(0,tslib_es6.pi)({open,onClose},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(DialogTitle.Z,(0,tslib_es6.pi)({style:{padding:"".concat(shippoTheme.Z.spacing(4)),paddingBottom:"".concat(shippoTheme.Z.spacing(1))}},{children:t("settings:carriers:accountValidation:signature:title")})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(IconButton.Z,(0,tslib_es6.pi)({"aria-label":"close",onClick:onClose,sx:{position:"absolute",right:8,top:8,color:function(theme){return theme.palette.grey[500]}}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Close.Z,{})})),(0,emotion_react_jsx_runtime_browser_esm.BX)(DialogContent.Z,(0,tslib_es6.pi)({style:{padding:"".concat(shippoTheme.Z.spacing(4)),paddingTop:"".concat(shippoTheme.Z.spacing(1))}},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",variant:"body"},{children:t("settings:carriers:accountValidation:signature:instruction")})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(TextField.Z,{inputRef,fullWidth:!0,style:{marginTop:shippoTheme.Z.spacing(2)},label:t("settings:carriers:accountValidation:signature:label"),onChange:function(e){return setInputValue(e.target.value)}}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",variant:"body",sx:{marginTop:shippoTheme.Z.spacing(4)}},{children:t("settings:carriers:accountValidation:signature:previewLabel")})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(StyledCanvasContainer,{children:displayImageData&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(StyledSignCanvas,{src:displayImageData})})]})),(0,emotion_react_jsx_runtime_browser_esm.BX)(StyledDialogActions,{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Button.Z,(0,tslib_es6.pi)({size:"medium",onClick:function(){setInputValue(""),inputRef.current&&(inputRef.current.value="")},color:"secondary"},{children:t("settings:carriers:accountValidation:signature:clear")})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Button.Z,(0,tslib_es6.pi)({size:"medium",onClick:function(){onSubmit(imageData||"")},color:"primary",disabled:!inputValue},{children:t("settings:carriers:accountValidation:signature:submit")}))]})]}))}},"./app/pages/Settings/Carriers/VerifyCarrier/ValidateAccountContainer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>ValidateAccountContainer});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),react=__webpack_require__("./node_modules/react/index.js"),Box=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),TextField=__webpack_require__("./node_modules/@goshippo/components/esm/TextField/TextField.js"),MenuItem=__webpack_require__("./node_modules/@goshippo/components/esm/MenuItem/MenuItem.js"),Divider=__webpack_require__("./node_modules/@goshippo/components/esm/Divider/Divider.js"),colors=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),Button=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),CircularProgress=__webpack_require__("./node_modules/@goshippo/components/esm/CircularProgress/CircularProgress.js"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.js"),type=__webpack_require__("./app/pages/Settings/Carriers/VerifyCarrier/type.ts");function ValidateByPin(_a){var t=_a.t,formMethods=_a.formMethods,isSendingPin=_a.isSendingPin,hasSentVerificationPin=_a.hasSentVerificationPin,onSendVerificationPin=_a.onSendVerificationPin,setValue=formMethods.setValue;(0,react.useEffect)((function(){setValue("verification_option",type.q7.SMS)}),[setValue]);var OPTIONS=[{label:t("settings:carriers:accountValidation:contactMethod:options:text"),value:type.q7.SMS},{label:t("settings:carriers:accountValidation:contactMethod:options:email"),value:type.q7.EMAIL},{label:t("settings:carriers:accountValidation:contactMethod:options:phone"),value:type.q7.PHONE},{label:"Invoice",value:type.q7.INVOICE}],control=formMethods.control,errors=formMethods.formState.errors;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Box.Z,(0,tslib_es6.pi)({sx:{borderLeft:"4px solid ".concat(colors.O.gray50),pl:shippoTheme.Z.spacing(2)}},{children:(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack.Z,(0,tslib_es6.pi)({spacing:shippoTheme.Z.spacing(2)},{children:[(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack.Z,(0,tslib_es6.pi)({direction:"row",spacing:shippoTheme.Z.spacing(2)},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(index_esm.Qr,{name:"verification_option",control,render:function(_a){var field=_a.field;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(TextField.Z,(0,tslib_es6.pi)({select:!0,fullWidth:!0,label:t("settings:carriers:accountValidation:contactMethod:title")},field,{ref:null},{children:OPTIONS.map((function(option,idx){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(MenuItem.Z,(0,tslib_es6.pi)({sx:option.value===type.q7.INVOICE?{display:"none"}:{},value:option.value},{children:option.label}),"".concat(idx,"-").concat(option.value))}))}))}}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Button.Z,(0,tslib_es6.pi)({variant:"contained",color:"primary",onClick:onSendVerificationPin,disabled:isSendingPin,startIcon:isSendingPin?(0,emotion_react_jsx_runtime_browser_esm.tZ)(CircularProgress.Z,{}):null},{children:t(hasSentVerificationPin?"settings:carriers:accountValidation:resend":"settings:carriers:accountValidation:send")}))]})),hasSentVerificationPin&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(index_esm.Qr,{name:"verification_sms_pin",control,render:function(_a){var field=_a.field;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(TextField.Z,(0,tslib_es6.pi)({},field,{required:!0,type:"text",error:!!errors.verification_sms_pin,label:t("settings:carriers:accountValidation:contactMethod:placeholder"),helperText:errors.verification_sms_pin?t(errors.verification_sms_pin.message):"",variant:"outlined",fullWidth:!0,ref:null}))}})]}))}))}var DatePicker=__webpack_require__("./node_modules/@goshippo/components/esm/DatePicker/DatePicker.js"),useFedExAccountVerification=__webpack_require__("./app/pages/Settings/Carriers/hooks/useFedExAccountVerification.ts"),moment=__webpack_require__("./node_modules/moment/moment.js");function ValidateByInvoice(_a){var t=_a.t,formMethods=_a.formMethods,control=formMethods.control,setValue=formMethods.setValue,errors=formMethods.formState.errors,currencyOptions=(0,useFedExAccountVerification.U)();return(0,react.useEffect)((function(){setValue("verification_option",type.q7.INVOICE)}),[setValue]),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Box.Z,(0,tslib_es6.pi)({sx:{borderLeft:"4px solid ".concat(colors.O.gray50),pl:shippoTheme.Z.spacing(2)}},{children:(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack.Z,(0,tslib_es6.pi)({spacing:shippoTheme.Z.spacing(2)},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(index_esm.Qr,{name:"verification_option",control,render:function(_a){var field=_a.field;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(TextField.Z,(0,tslib_es6.pi)({sx:{display:"none"}},field,{ref:null}))}}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(index_esm.Qr,{name:"verification_invoice_number",rules:{required:!0},control,render:function(_a){var field=_a.field;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(TextField.Z,(0,tslib_es6.pi)({},field,{type:"text",error:!!errors.verification_invoice_number,label:t("settings:carriers:accountValidation:invoiceFields:numberPlaceholder"),helperText:errors.verification_invoice_number?t(errors.verification_invoice_number.message):"",variant:"outlined",fullWidth:!0,required:!0,ref:null}))}}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(index_esm.Qr,{name:"verification_invoice_currency",rules:{required:!0},control,render:function(_a){var field=_a.field;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(TextField.Z,(0,tslib_es6.pi)({},field,{select:!0,error:!!errors.verification_invoice_currency,label:t("settings:carriers:accountValidation:invoiceFields:currencyPlaceholder"),helperText:errors.verification_invoice_currency?t(errors.verification_invoice_currency.message):"",fullWidth:!0,required:!0,ref:null},{children:currencyOptions.map((function(option,idx){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(MenuItem.Z,(0,tslib_es6.pi)({value:option.value.toString()},{children:option.label}),"".concat(idx,"-").concat(option.value))}))}))}}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(index_esm.Qr,{name:"verification_invoice_date",control,render:function(_a){var field=_a.field;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(DatePicker.Z,{label:t("settings:carriers:accountValidation:invoiceFields:datePlaceholder"),value:moment(field.value),inputRef:field.ref,onChange:function(date){field.onChange((null==date?void 0:date.format(type.H5))||"")},renderInput:function(params){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(TextField.Z,(0,tslib_es6.pi)({},params,{error:!!errors.verification_invoice_date,helperText:errors.verification_invoice_date?t(errors.verification_invoice_date.message):"",required:!0,variant:"outlined",fullWidth:!0}))}})}}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(index_esm.Qr,{name:"verification_invoice_amount",control,render:function(_a){var field=_a.field;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(TextField.Z,(0,tslib_es6.pi)({},field,{type:"number",error:!!errors.verification_invoice_amount,label:t("settings:carriers:accountValidation:invoiceFields:amountPlaceholder"),helperText:errors.verification_invoice_amount?t(errors.verification_invoice_amount.message):"",required:!0,variant:"outlined",fullWidth:!0,ref:null}))}})]}))}))}var VerificationMethod={PIN:"PIN",INVOICE:"INVOICE"};function ValidateAccountContainer(_a){var formMethods=_a.formMethods,isSendingPin=_a.isSendingPin,hasSentVerificationPin=_a.hasSentVerificationPin,onSendVerificationPin=_a.onSendVerificationPin,onVerificationFormSubmit=_a.onVerificationFormSubmit,t=_a.t,_b=(0,tslib_es6.CR)((0,react.useState)(VerificationMethod.PIN),2),verificationMethod=_b[0],setVerificationMethod=_b[1],OPTIONS=[{label:t("settings:carriers:accountValidation:validationType:PIN:title"),value:VerificationMethod.PIN},{label:t("settings:carriers:accountValidation:validationType:INVOICE:title"),value:VerificationMethod.INVOICE}];return(0,emotion_react_jsx_runtime_browser_esm.BX)(emotion_react_jsx_runtime_browser_esm.HY,{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Box.Z,(0,tslib_es6.pi)({sx:{p:shippoTheme.Z.spacing(2.75),mb:shippoTheme.Z.spacing(1.25)}},{children:(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack.Z,(0,tslib_es6.pi)({spacing:2},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({variant:"bodyEmphasized",component:"p",sx:{fontWeight:700}},{children:t("settings:carriers:accountValidation:title")})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(TextField.Z,(0,tslib_es6.pi)({select:!0,name:"verificationMethod",fullWidth:!0,label:t("settings:carriers:accountValidation:validationType:title"),defaultValue:VerificationMethod.PIN,onChange:function(event){setVerificationMethod(event.target.value)},helperText:t("settings:carriers:accountValidation:validationType:".concat(verificationMethod,":subText"))},{children:OPTIONS.map((function(option,idx){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(MenuItem.Z,(0,tslib_es6.pi)({value:option.value},{children:option.label}),"".concat(idx,"-").concat(option.value))}))})),(0,emotion_react_jsx_runtime_browser_esm.BX)("form",(0,tslib_es6.pi)({onSubmit:formMethods.handleSubmit(onVerificationFormSubmit),"data-testid":"validate-account-container",noValidate:!0},{children:[verificationMethod===VerificationMethod.PIN&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(ValidateByPin,{t,isSendingPin,formMethods,hasSentVerificationPin,onSendVerificationPin}),verificationMethod===VerificationMethod.INVOICE&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(ValidateByInvoice,{t,formMethods})]}))]}))})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Divider.Z,{})]})}},"./app/pages/Settings/Carriers/VerifyCarrier/type.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{CU:()=>DefaultInitialDate,H5:()=>FedExAPIDateFormat,Rr:()=>DefaultVerificationOption,q7:()=>VerificationOptions,v5:()=>DefaultCurrencyOption});var moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/moment/moment.js"),_constants_currency__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/constants/currency.ts"),VerificationOptions={SMS:"SMS",EMAIL:"EMAIL",PHONE:"PHONE",INVOICE:"INVOICE"},DefaultVerificationOption=VerificationOptions.SMS,DefaultCurrencyOption=_constants_currency__WEBPACK_IMPORTED_MODULE_1__.Q.USD.iso,FedExAPIDateFormat="YYYY-MM-DD",DefaultInitialDate=moment__WEBPACK_IMPORTED_MODULE_0__().format(FedExAPIDateFormat)},"./app/pages/Settings/Carriers/hooks/useFedExAccountVerification.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>createCurrencyOptions,n:()=>useFedExAccountVerification});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react=__webpack_require__("./node_modules/react/index.js"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.js"),carrier_accounts_service=__webpack_require__("./app/services/carrier-accounts.service.ts"),CarrierAccount=__webpack_require__("./app/types/CarrierAccount.ts"),type=__webpack_require__("./app/pages/Settings/Carriers/VerifyCarrier/type.ts"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),carrier_accounts_actions=__webpack_require__("./app/actions/carrier-accounts.actions.ts"),useRequest=__webpack_require__("./app/hooks/useRequest.ts"),esm_exports=__webpack_require__("./node_modules/@sentry/core/esm/exports.js"),handleFedexVerificationError=function(t,addSnackbarActionAlert,errorDetails){addSnackbarActionAlert({message:errorDetails||t("carriers.form.fedexVerificationError"),severity:"error"})},GlobalComponentsProvider=__webpack_require__("./app/contexts/GlobalComponentsProvider.tsx"),zod=__webpack_require__("./node_modules/@hookform/resolvers/zod/dist/zod.mjs"),lib=__webpack_require__("./node_modules/zod/lib/index.mjs"),validationFormZodResolver=lib.z.object({verification_option:lib.z.enum([type.q7.SMS,type.q7.EMAIL,type.q7.PHONE,type.q7.INVOICE]),verification_sms_pin:lib.z.string().optional(),verification_invoice_number:lib.z.string().optional(),verification_invoice_amount:lib.z.string().optional(),verification_invoice_date:lib.z.string().optional(),verification_invoice_currency:lib.z.string().optional()}).refine((function(data){return data.verification_option===type.q7.INVOICE||!!data.verification_sms_pin}),{message:"settings:carriers:form:requiredError",path:["verification_sms_pin"]}).refine((function(data){if(data.verification_option===type.q7.INVOICE)return!0;return/^\d{7}$/.test(data.verification_sms_pin||"")}),{message:"settings:carriers:accountValidation:contactMethod:pinValidationLength",path:["verification_sms_pin"]}).refine((function(data){return data.verification_option!==type.q7.INVOICE||!!(data.verification_invoice_number&&data.verification_invoice_amount&&data.verification_invoice_date&&data.verification_invoice_currency)}),(function(data){var message="settings:carriers:form:requiredError",path=[];return data.verification_option!==type.q7.INVOICE?{message:"",path}:data.verification_invoice_number?data.verification_invoice_amount?data.verification_invoice_date?data.verification_invoice_currency?{message,path}:{message,path:["verification_invoice_currency"]}:{message,path:["verification_invoice_date"]}:{message,path:["verification_invoice_amount"]}:{message,path:["verification_invoice_number"]}})),constants_currency=__webpack_require__("./app/constants/currency.ts"),useFedExInternationalSection=__webpack_require__("./app/pages/Settings/Carriers/hooks/useFedExInternationalSection.ts"),createCurrencyOptions=function(){return Object.keys(constants_currency.Q).map((function(currency){return{label:"".concat(constants_currency.Q[currency].iso," (").concat(constants_currency.Q[currency].symbol,")"),value:constants_currency.Q[currency].iso}}))},useFedExAccountVerification=function(_a){var t=_a.t,_b=(0,tslib_es6.CR)((0,react.useState)(!1),2),showFedExVerification=_b[0],setShowFedExVerification=_b[1],_c=(0,tslib_es6.CR)((0,react.useState)(!1),2),showPinField=_c[0],setShowPinField=_c[1],fedexCarrierAccountRef=(0,react.useRef)(null),formMethods=(0,index_esm.cI)({mode:"onSubmit",reValidateMode:"onSubmit",resolver:(0,zod.F)(validationFormZodResolver),defaultValues:{verification_option:type.Rr,verification_sms_pin:"",verification_invoice_number:"",verification_invoice_amount:"",verification_invoice_date:type.CU,verification_invoice_currency:type.v5}}),_d=(0,useFedExInternationalSection.l)(),uploadedImage=_d.uploadedImage,showFedExInternational=_d.showFedExInternational,showFedExImageUploadError=_d.showFedExImageUploadError,validateImageUpload=_d.validateImageUpload,handleImageUpload=_d.handleImageUpload,onFedExInternationalCheckboxChange=_d.onFedExInternationalCheckboxChange,handleSubmit=formMethods.handleSubmit,getValues=formMethods.getValues,_e=function(_a){var t=_a.t,_b=(0,useRequest.Z)(),requestPin=_b.request,requestingPin=_b.loading,requestPinResponse=_b.data,requestPinError=_b.error,requestPinErrorDetails=_b.errorDetails,addSnackbarActionAlert=(0,GlobalComponentsProvider.X)().snackbar.addSnackbarActionAlert;return(0,react.useEffect)((function(){var _a,_b;"PENDING"===(null===(_b=null===(_a=null==requestPinResponse?void 0:requestPinResponse.data)||void 0===_a?void 0:_a.parameters)||void 0===_b?void 0:_b.verification_status)&&addSnackbarActionAlert({message:t("carriers.form.pinSent"),severity:"success"})}),[t,requestPinResponse,addSnackbarActionAlert]),(0,react.useEffect)((function(){var _a;requestPinError&&handleFedexVerificationError(t,addSnackbarActionAlert,null===(_a=null==requestPinErrorDetails?void 0:requestPinErrorDetails.data)||void 0===_a?void 0:_a.detail)}),[addSnackbarActionAlert,requestPinErrorDetails,requestPinError,t]),{requestPin,requestingPin,requestPinResponse,requestPinError}}({t}),requestPin=_e.requestPin,requestingPin=_e.requestingPin,requestPinResponse=_e.requestPinResponse,_f=function(_a){var t=_a.t,uploadedImage=_a.uploadedImage,_b=(0,useRequest.Z)(),requestVerification=_b.request,requestingVerification=_b.loading,requestVerificationResponse=_b.data,requestVerificationError=_b.error,requestVerificationErrorDetails=_b.errorDetails,dispatch=(0,es.I0)(),_c=(0,tslib_es6.CR)((0,react.useState)(!1),2),uploadingImage=_c[0],setUploadingImage=_c[1],addSnackbarActionAlert=(0,GlobalComponentsProvider.X)().snackbar.addSnackbarActionAlert;return(0,react.useEffect)((function(){!requestVerificationError&&requestVerificationResponse&&(0,tslib_es6.mG)(void 0,void 0,void 0,(function(){var carrierAccount,error_1,error_2;return(0,tslib_es6.Jh)(this,(function(_a){switch(_a.label){case 0:if(!(carrierAccount=CarrierAccount.im(requestVerificationResponse.data)).objectId)return[3,9];if(!(null==uploadedImage?void 0:uploadedImage.companyLogo))return[3,4];setUploadingImage(!0),_a.label=1;case 1:return _a.trys.push([1,3,,4]),[4,(0,carrier_accounts_service.N9)(carrierAccount.objectId,uploadedImage.companyLogo)];case 2:return _a.sent(),[3,4];case 3:return error_1=_a.sent(),esm_exports.Tb(new Error("Failed to upload company logo",error_1)),[3,4];case 4:if(!(null==uploadedImage?void 0:uploadedImage.digitalSignature))return[3,9];_a.label=5;case 5:return _a.trys.push([5,7,,8]),[4,(0,carrier_accounts_service.TQ)(carrierAccount.objectId,uploadedImage.digitalSignature)];case 6:return _a.sent(),[3,8];case 7:return error_2=_a.sent(),esm_exports.Tb(new Error("Failed to upload digital signature",error_2)),[3,8];case 8:setUploadingImage(!1),_a.label=9;case 9:return dispatch((0,carrier_accounts_actions.QY)({carrierAccount})),[2]}}))}))}),[t,requestVerificationResponse,requestVerificationError,addSnackbarActionAlert,dispatch,uploadedImage]),(0,react.useEffect)((function(){var _a;requestVerificationError&&handleFedexVerificationError(t,addSnackbarActionAlert,null===(_a=null==requestVerificationErrorDetails?void 0:requestVerificationErrorDetails.data)||void 0===_a?void 0:_a.detail)}),[requestVerificationError,requestVerificationErrorDetails,addSnackbarActionAlert,t]),{requestVerification,requestingVerification:requestingVerification||uploadingImage,requestVerificationResponse,requestVerificationError}}({t,uploadedImage}),requestVerification=_f.requestVerification,requestingVerification=_f.requestingVerification;return(0,react.useEffect)((function(){var _a,_b;if("PENDING"===(null===(_b=null===(_a=null==requestPinResponse?void 0:requestPinResponse.data)||void 0===_a?void 0:_a.parameters)||void 0===_b?void 0:_b.verification_status)){var carrierAccount=CarrierAccount.im(requestPinResponse.data);fedexCarrierAccountRef.current=carrierAccount,setShowPinField(!0)}}),[t,requestPinResponse]),{formMethods,requestingVerification,requestingPin,showFedExVerification,fedexCarrierAccountRef,showPinField,showFedExInternational,showFedExImageUploadError,validateImageUpload,handleImageUpload,onFedExInternationalCheckboxChange,generateVerificationCode:function(){if(fedexCarrierAccountRef.current){var verificationOption=getValues("verification_option")||type.Rr,carrierAccount=function(carrierData,verificationOption){var carrierAccount=(0,tslib_es6.pi)((0,tslib_es6.pi)({},carrierData),{parameters:(0,tslib_es6.pi)((0,tslib_es6.pi)({},null==carrierData?void 0:carrierData.parameters),{verification_option:verificationOption,use_multi_factor_registration:!0})});return"objectOwner"in carrierAccount&&delete carrierAccount.objectOwner,carrierAccount}(fedexCarrierAccountRef.current,verificationOption);requestPin((function(){return(0,tslib_es6.mG)(void 0,void 0,void 0,(function(){var jsonCarrierAccount;return(0,tslib_es6.Jh)(this,(function(_a){switch(_a.label){case 0:return jsonCarrierAccount=CarrierAccount.au(carrierAccount),[4,(0,carrier_accounts_service.fz)(jsonCarrierAccount)];case 1:return[2,_a.sent()]}}))}))}))}},setShowFedExVerification,onVerificationFormSubmit:handleSubmit((function(verificationData){if(fedexCarrierAccountRef.current){var carrierAccount=function(carrierData,verificationData){var _a,carrierAccount=(0,tslib_es6.pi)((0,tslib_es6.pi)({},carrierData),{parameters:(0,tslib_es6.pi)((0,tslib_es6.pi)({},null==carrierData?void 0:carrierData.parameters),verificationData)});return"objectOwner"in carrierAccount&&delete carrierAccount.objectOwner,"use_multi_factor_registration"in carrierAccount.parameters&&(null===(_a=carrierAccount.parameters)||void 0===_a||delete _a.use_multi_factor_registration),carrierAccount}(fedexCarrierAccountRef.current,verificationData);requestVerification((function(){return(0,tslib_es6.mG)(void 0,void 0,void 0,(function(){var jsonCarrierAccount,_a;return(0,tslib_es6.Jh)(this,(function(_b){switch(_b.label){case 0:return jsonCarrierAccount=CarrierAccount.au(carrierAccount),"INVOICE"!==(null===(_a=carrierAccount.parameters)||void 0===_a?void 0:_a.verification_option)?[3,2]:[4,(0,carrier_accounts_service.fz)(jsonCarrierAccount)];case 1:case 3:return[2,_b.sent()];case 2:return[4,(0,carrier_accounts_service.IF)(jsonCarrierAccount,(null==carrierAccount?void 0:carrierAccount.objectId)||"")]}}))}))}))}}))}}},"./app/pages/Settings/Carriers/hooks/useFedExInternationalSection.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>useFedExInternationalSection});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_VerifyCarrier_FedExInternationalSection__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/pages/Settings/Carriers/VerifyCarrier/FedExInternationalSection.tsx"),useFedExInternationalSection=function(){var _a=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.CR)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),showFedExInternational=_a[0],setShowFedExInternational=_a[1],_b=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.CR)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(_VerifyCarrier_FedExInternationalSection__WEBPACK_IMPORTED_MODULE_1__.IC.NONE),2),showFedExImageUploadError=_b[0],setShowFedExImageUploadError=_b[1],_c=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.CR)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),2),uploadedImage=_c[0],setUploadedImage=_c[1],validateImageUpload=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){return!showFedExInternational||((null==uploadedImage?void 0:uploadedImage.companyLogo)||(null==uploadedImage?void 0:uploadedImage.digitalSignature)?(null==uploadedImage?void 0:uploadedImage.companyLogo)?(null==uploadedImage?void 0:uploadedImage.digitalSignature)?(setShowFedExImageUploadError(_VerifyCarrier_FedExInternationalSection__WEBPACK_IMPORTED_MODULE_1__.IC.NONE),!0):(setShowFedExImageUploadError(_VerifyCarrier_FedExInternationalSection__WEBPACK_IMPORTED_MODULE_1__.IC.SIGNATURE_REQUIRED),!1):(setShowFedExImageUploadError(_VerifyCarrier_FedExInternationalSection__WEBPACK_IMPORTED_MODULE_1__.IC.LOGO_REQUIRED),!1):(setShowFedExImageUploadError(_VerifyCarrier_FedExInternationalSection__WEBPACK_IMPORTED_MODULE_1__.IC.BOTH_REQUIRED),!1))}),[showFedExInternational,uploadedImage]);return{uploadedImage,showFedExInternational,showFedExImageUploadError,validateImageUpload,handleImageUpload:function(files){setUploadedImage(files)},onFedExInternationalCheckboxChange:function(e){setShowFedExInternational(e.target.checked),e.target.checked||setUploadedImage(null)}}}},"./app/services/carrier-accounts.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{IF:()=>editCarrierAccount,N9:()=>uploadCompanyLogo,TQ:()=>uploadDigitalSignature,fz:()=>connectCarrierAccount});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_services_api__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/services/api.ts");function connectCarrierAccount(carrierAccount){return _services_api__WEBPACK_IMPORTED_MODULE_0__.ZP.request({url:"/carrier_accounts",method:"POST",data:(0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)({},carrierAccount)})}function uploadCompanyLogo(accountObjectId,companyLogo){var formData=new FormData;return formData.append("file",companyLogo),formData.append("document_type","LETTERHEAD"),_services_api__WEBPACK_IMPORTED_MODULE_0__.ZP.request({url:"/carrier_accounts/".concat(accountObjectId,"/documents"),method:"POST",data:formData})}function uploadDigitalSignature(accountObjectId,digitalSignature){var formData=new FormData;return formData.append("file",digitalSignature),formData.append("document_type","SIGNATURE"),_services_api__WEBPACK_IMPORTED_MODULE_0__.ZP.request({url:"/carrier_accounts/".concat(accountObjectId,"/documents"),method:"POST",data:formData})}function editCarrierAccount(carrierAccount,id){return _services_api__WEBPACK_IMPORTED_MODULE_0__.ZP.request({url:"/carrier_accounts/".concat(id),method:"PUT",data:(0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)({},carrierAccount)})}}}]);