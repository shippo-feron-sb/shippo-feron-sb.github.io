(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[4853],{"./app/assets/icons/icon_close_dark_gray.svg":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"11ea1e7b9e1a66b45e38548d461d3a95.svg"},"./app/assets/orders/insurance.svg":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"369726724d8882695053905ed7115fda.svg"},"./app/assets/orders/signature.svg":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"b44511cd477e0360254ae297441ef457.svg"},"./app/constants/signatureConfirmation.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Md:()=>STANDARD_COST,Y_:()=>signatureConfirmationMap,mS:()=>getSignatureConfirmationOrDefault,zr:()=>ADULT_COST});var _a,_pages_Orders_Blackbeard_LabelPurchase_modules_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/types.ts"),standardSignatureConfirmationOption={value:_pages_Orders_Blackbeard_LabelPurchase_modules_types__WEBPACK_IMPORTED_MODULE_0__.zT.STANDARD,label:"Anyone can sign"},adultSignatureConfirmationOption={value:_pages_Orders_Blackbeard_LabelPurchase_modules_types__WEBPACK_IMPORTED_MODULE_0__.zT.ADULT,label:"An adult must sign",addToolTip:!0},signatureConfirmationMap=((_a={})[_pages_Orders_Blackbeard_LabelPurchase_modules_types__WEBPACK_IMPORTED_MODULE_0__.zT.ADULT]=adultSignatureConfirmationOption,_a[_pages_Orders_Blackbeard_LabelPurchase_modules_types__WEBPACK_IMPORTED_MODULE_0__.zT.STANDARD]=standardSignatureConfirmationOption,_a),getSignatureConfirmationOrDefault=function(value){return value&&signatureConfirmationMap[value]||standardSignatureConfirmationOption},STANDARD_COST=2,ADULT_COST=5},"./app/pages/Orders/All/OrderDetailsPage/Tabs/ShipmentExtrasCard/Insurance/ShipmentInsuranceModal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Insurance_ShipmentInsuranceModal});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),hooks=__webpack_require__("./app/pages/Orders/All/OrderDetailsPage/Tabs/ShipmentExtrasCard/Insurance/hooks.ts"),Dialog=__webpack_require__("./node_modules/@goshippo/components/esm/Dialog/Dialog.js"),DialogTitle=__webpack_require__("./node_modules/@goshippo/components/esm/DialogTitle/DialogTitle.js"),Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),IconButton=__webpack_require__("./node_modules/@goshippo/components/esm/IconButton/IconButton.js"),Close=__webpack_require__("./node_modules/@mui/icons-material/esm/Close.js"),Divider=__webpack_require__("./node_modules/@goshippo/components/esm/Divider/Divider.js"),DialogContent=__webpack_require__("./node_modules/@goshippo/components/esm/DialogContent/DialogContent.js"),DialogActions=__webpack_require__("./node_modules/@goshippo/components/esm/DialogActions/DialogActions.js"),Button=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),utils=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/utils.ts"),react=__webpack_require__("./node_modules/react/index.js"),SimplifiedInsuranceView=__webpack_require__("./app/pages/Orders/All/OrderDetailsPage/Tabs/ShipmentExtrasCard/Insurance/SimplifiedInsuranceModal/SimplifiedInsuranceView.tsx");const Insurance_SimplifiedInsuranceModal=function(_a){var control=_a.control,currency=_a.currency,insured=_a.insured,onClose=_a.onClose,onClickSubmit=_a.onClickSubmit,getValues=_a.getValues,setValue=_a.setValue,errors=_a.errors,onDisableInsured=_a.onDisableInsured,onEnableInsured=_a.onEnableInsured,t=_a.t,userInsuranceRate=_a.userInsuranceRate,insuredValue=_a.insuredValue,totalItemsValue=_a.totalItemsValue,order=_a.order,isBatch=_a.isBatch,rateCostOnly=_a.rateCostOnly,_b=(0,tslib_es6.zs)((0,react.useState)(insured?insuredValue!==totalItemsValue?"custom":"hasInsurance":"noAddedInsurance"),2),insuranceValueType=_b[0],setInsuranceValueType=_b[1],showItemValueTotal=totalItemsValue&&"0"!==totalItemsValue?totalItemsValue:void 0,insuranceCost=(0,react.useMemo)((function(){var selectedPriceToCalculate="hasInsurance"===insuranceValueType&&showItemValueTotal?showItemValueTotal:insuredValue,selectedPriceNumPlusOrderRate=(selectedPriceToCalculate?Number(selectedPriceToCalculate.replace(/,/g,"")):0)+rateCostOnly;return(0,utils.kB)(userInsuranceRate,selectedPriceNumPlusOrderRate)}),[insuredValue,userInsuranceRate,insuranceValueType]),onInsuranceValueTypeChange=(0,react.useCallback)((function(event){setInsuranceValueType(event.target.value)}),[setInsuranceValueType,insuranceValueType]);(0,react.useEffect)((function(){"noAddedInsurance"===insuranceValueType?onDisableInsured():onEnableInsured(),setValue("insuranceType",insuranceValueType),"hasInsurance"===insuranceValueType&&setValue("amount",null!=showItemValueTotal?showItemValueTotal:insuredValue)}),[insuranceValueType]);var submitButtonLabel="noAddedInsurance"===insuranceValueType?t("orders:phrases:continue"):"".concat(t("orders:shipmentExtras:addFor")," ").concat(t("translations:currency",{value:{value:insuranceCost,currency_iso:currency.iso}}));return(0,emotion_react_jsx_runtime_browser_esm.Y)(Dialog.A,(0,tslib_es6.Cl)({open:!0,onClose},{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(emotion_react_jsx_runtime_browser_esm.FK,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(DialogTitle.A,(0,tslib_es6.Cl)({id:"modal-title"},{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(Stack.A,(0,tslib_es6.Cl)({direction:"row"},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"h3",variant:"bodyEmphasized",align:"center",alignSelf:"center",flex:"1"},{children:t("orders:insurance:basicHeadline")})),(0,emotion_react_jsx_runtime_browser_esm.Y)(IconButton.A,(0,tslib_es6.Cl)({onClick:onClose,sx:{padding:0}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Close.A,{})}))]}))})),(0,emotion_react_jsx_runtime_browser_esm.Y)(Divider.A,{}),(0,emotion_react_jsx_runtime_browser_esm.Y)(DialogContent.A,(0,tslib_es6.Cl)({sx:{minWidth:"700px"}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(SimplifiedInsuranceView.w,{control,currency,getValues,errors,t,onInsuranceValueTypeChange,showItemValueTotal,insuranceValueType,insured,addInsuranceButtonName:submitButtonLabel,order,isBatch})})),(0,emotion_react_jsx_runtime_browser_esm.Y)(Divider.A,{}),(0,emotion_react_jsx_runtime_browser_esm.FD)(DialogActions.A,(0,tslib_es6.Cl)({style:{padding:"1rem 0.85rem",justifyContent:"space-between"}},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Button.A,(0,tslib_es6.Cl)({onClick:onClose,variant:"text",color:"secondary"},{children:t("orders:phrases:cancel")})),(0,emotion_react_jsx_runtime_browser_esm.Y)(Button.A,(0,tslib_es6.Cl)({onClick:onClickSubmit,"data-testid":"simple-insurance-modal-btn"},{children:submitButtonLabel}))]}))]})}))};var ShipmentExtrasCard_hooks=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/hooks.ts"),helpers=__webpack_require__("./app/pages/Orders/All/OrderDetailsPage/Tabs/ShipmentExtrasCard/Insurance/helpers.ts");const Insurance_ShipmentInsuranceModal=function(_a){var _b,_c,onClose=_a.onClose,onSubmit=_a.onSubmit,t=_a.t,order=_a.order,batchEntry=_a.batchEntry,isBatch=_a.isBatch,extrasInsurance=(0,ShipmentExtrasCard_hooks.xx)(!!isBatch,null===(_b=null==batchEntry?void 0:batchEntry.extras)||void 0===_b?void 0:_b.insurance),defaultInsuranceValues=(0,hooks.Fk)(order,batchEntry,extrasInsurance),userInsuranceRate=(0,hooks.zO)(batchEntry),rateCostOnly=(0,hooks.zB)(batchEntry),insuranceModalState=(0,hooks.hp)(defaultInsuranceValues,(function(newInsuranceValues){onSubmit(newInsuranceValues),newInsuranceValues.insuranceType?(0,utils.$H)(newInsuranceValues.amount,userInsuranceRate,newInsuranceValues.insuranceType):(0,utils.lZ)(newInsuranceValues.amount,userInsuranceRate)}));return(0,emotion_react_jsx_runtime_browser_esm.Y)(Insurance_SimplifiedInsuranceModal,(0,tslib_es6.Cl)({},insuranceModalState,{onClose,t,userInsuranceRate,totalItemsValue:null===(_c=(0,helpers.Bq)(order))||void 0===_c?void 0:_c.toString(),order,isBatch,rateCostOnly}))}},"./app/pages/Orders/All/OrderDetailsPage/Tabs/ShipmentExtrasCard/Insurance/SimplifiedInsuranceModal/SimplifiedInsuranceView.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>SimplifiedInsuranceView});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),Box=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),FormControl=__webpack_require__("./node_modules/@goshippo/components/esm/FormControl/FormControl.js"),RadioGroup=__webpack_require__("./node_modules/@goshippo/components/esm/RadioGroup/RadioGroup.js"),FormControlLabel=__webpack_require__("./node_modules/@goshippo/components/esm/FormControlLabel/FormControlLabel.js"),Radio=__webpack_require__("./node_modules/@goshippo/components/esm/Radio/Radio.js"),TextField=__webpack_require__("./node_modules/@goshippo/components/esm/TextField/TextField.js"),InputAdornment=__webpack_require__("./node_modules/@goshippo/components/esm/InputAdornment/InputAdornment.js"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.js"),validations=__webpack_require__("./app/utils/validations.ts");const SimplifiedInsuranceModal_InsuranceValueField=function(_a){var getValues=_a.getValues,control=_a.control,errors=_a.errors,t=_a.t,disabled=_a.disabled,currency=_a.currency,multipleSelectedLabelMsg=_a.multipleSelectedLabelMsg;return(0,emotion_react_jsx_runtime_browser_esm.FD)(Stack.A,(0,tslib_es6.Cl)({sx:{ml:4}},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Stack.A,(0,tslib_es6.Cl)({direction:"row",spacing:1,alignItems:"flex-end"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(index_esm.xI,{name:"amount",control,rules:{validate:{required:function(value){return!getValues("hasInsurance")||(!!value||t("orders:additionalServices:errs:insurance:valueRequiredAlt"))},max:function(value){var cleanNumber=value.replace(/,/g,"");return!value||(parseFloat(cleanNumber)<=1e4||t("orders:additionalServices:errs:insurance:maxInsuranceVariant"))},min:function(value){return!value||(parseFloat(value)>=1||t("orders:additionalServices:errs:insurance:minInsurance"))},pattern:function(value){if(!validations.Qb.test(value)&&value)return"Please enter a valid numeric value with up to two decimal places, if decimals are used"}}},render:function(_a){var _b=_a.field,ref=_b.ref,rest=(0,tslib_es6.Tt)(_b,["ref"]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(TextField.A,(0,tslib_es6.Cl)({},rest,{disabled,inputMode:"decimal",fullWidth:!0,inputRef:ref,InputProps:{startAdornment:(0,emotion_react_jsx_runtime_browser_esm.Y)(InputAdornment.A,(0,tslib_es6.Cl)({position:"start"},{children:currency.symbol?currency.symbol:"$"}))},error:!!errors,label:"".concat(t("orders:insurance:customValue")," ").concat(multipleSelectedLabelMsg)}))}})})),(null==errors?void 0:errors.message)&&(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"div",color:"error",variant:"caption",sx:{mt:1},"data-testid":"insurance-custom-value-error"},{children:errors.message}))]}))};var Link=__webpack_require__("./node_modules/@goshippo/components/esm/Link/Link.js"),translate=__webpack_require__("./app/utils/translate.ts"),InsuranceDisclaimer=function(_a){var originCountries=_a.originCountries,buttonName=_a.buttonName,uniqueCountries=(0,tslib_es6.fX)([],(0,tslib_es6.zs)(new Set(originCountries)),!1).filter((function(country){return void 0!==country}));if(1===uniqueCountries.length){var country=uniqueCountries[0];if("GB"===country)return(0,emotion_react_jsx_runtime_browser_esm.Y)(GBDisclaimer,{buttonName});if("FR"===country)return(0,emotion_react_jsx_runtime_browser_esm.Y)(FRDisclaimer,{buttonName});if("IT"===country)return(0,emotion_react_jsx_runtime_browser_esm.Y)(ITDisclaimer,{buttonName});if("NL"===country)return(0,emotion_react_jsx_runtime_browser_esm.Y)(NLDisclaimer,{buttonName});if("DE"===country)return(0,emotion_react_jsx_runtime_browser_esm.Y)(DEDisclaimer,{buttonName});if("ES"===country)return(0,emotion_react_jsx_runtime_browser_esm.Y)(ESDisclaimer,{buttonName})}return(0,emotion_react_jsx_runtime_browser_esm.Y)(DefaultDisclaimer,{})},DefaultDisclaimer=function(){return(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({variant:"caption",component:"span",color:"secondary"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(translate.x6,{i18nKey:"orders:checkout:xcoverNote",components:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://www.xcover.com/pds/__0XQLK__shippo_termsandconditions"},{children:"0"}),0)]})}))},GBDisclaimer=function(_a){var buttonName=_a.buttonName;return(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({variant:"caption",component:"span",color:"secondary"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(translate.x6,{i18nKey:"orders:checkout:xcoverNoteByCountry:GB",values:{buttonName},components:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://www.xcover.com/en/pds/Shippo_UK_Shipping_Protection"},{children:"0"}),0),(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://static.xcover.com/media/pds/d9ff2305-891b-482f-8e03-22f450b12a12/IPID_Shippo_Shipping_EN.pdf"},{children:"1"}),1),(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://covergenius.com/privacy-policy/"},{children:"2"}),2)]})}))},FRDisclaimer=function(_a){var buttonName=_a.buttonName;return(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({variant:"caption",component:"span",color:"secondary"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(translate.x6,{i18nKey:"orders:checkout:xcoverNoteByCountry:FR",values:{buttonName},components:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://www.xcover.com/fr/pds/Shippo_EU_Shipping_Protection"},{children:"0"}),0),(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://static.xcover.com/media/pds/df37407c-020b-4768-afc5-bc8382779436/Shippo_FR_Shipping_Protection_IPID.pdf"},{children:"1"}),1),(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://covergenius.com/privacy-policy/"},{children:"2"}),2)]})}))},ITDisclaimer=function(_a){var buttonName=_a.buttonName;return(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({variant:"caption",component:"span",color:"secondary"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(translate.x6,{i18nKey:"orders:checkout:xcoverNoteByCountry:IT",values:{buttonName},components:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://www.xcover.com/it/pds/Shippo_EU_Shipping_Protection"},{children:"0"}),0),(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://static.xcover.com/media/pds/df37407c-020b-4768-afc5-bc8382779436/Shippo_IT_Shipping_protection_DIP.pdf"},{children:"1"}),1),(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://covergenius.com/privacy-policy/"},{children:"2"}),2)]})}))},NLDisclaimer=function(_a){var buttonName=_a.buttonName;return(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({variant:"caption",component:"span",color:"secondary"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(translate.x6,{i18nKey:"orders:checkout:xcoverNoteByCountry:NL",values:{buttonName},components:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://www.xcover.com/nl/pds/Shippo_EU_Shipping_Protection"},{children:"0"}),0),(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://static.xcover.com/media/pds/df37407c-020b-4768-afc5-bc8382779436/Shippo_NL_Shipping_protection_IPID.pdf"},{children:"1"}),1),(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://covergenius.com/privacy-policy/"},{children:"2"}),2)]})}))},DEDisclaimer=function(_a){var buttonName=_a.buttonName;return(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({variant:"caption",component:"span",color:"secondary"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(translate.x6,{i18nKey:"orders:checkout:xcoverNoteByCountry:DE",values:{buttonName},components:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://www.xcover.com/de/pds/Shippo_EU_Shipping_Protection"},{children:"0"}),0),(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://hiscoxdedrupal.prod.acquia-sites.com/sites/default/files/documents/mitteilung-nach-paragraph-19-abs-5-vvg-1.pdf"},{children:"1"}),1),(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://static.xcover.com/media/pds/df37407c-020b-4768-afc5-bc8382779436/Shippo_DE_Shipping_protection_IPID.pdf"},{children:"2"}),2),(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://covergenius.com/privacy-policy/"},{children:"3"}),3)]})}))},ESDisclaimer=function(_a){var buttonName=_a.buttonName;return(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({variant:"caption",component:"span",color:"secondary"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(translate.x6,{i18nKey:"orders:checkout:xcoverNoteByCountry:ES",values:{buttonName},components:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://www.xcover.com/es/pds/Shippo_EU_Shipping_Protection"},{children:"0"}),0),(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://static.xcover.com/media/pds/df37407c-020b-4768-afc5-bc8382779436/Shippo_ES_Shipping_protection_IPID.pdf"},{children:"1"}),1),(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({target:"_blank",color:"secondary",href:"https://covergenius.com/privacy-policy/"},{children:"2"}),2)]})}))},es=__webpack_require__("./node_modules/react-redux/es/index.js"),orders_selectors=__webpack_require__("./app/selectors/orders.selectors.ts"),SimplifiedInsuranceView=function(_a){var _b,_c,control=_a.control,currency=_a.currency,errors=_a.errors,getValues=_a.getValues,t=_a.t,showItemValueTotal=_a.showItemValueTotal,onInsuranceValueTypeChange=_a.onInsuranceValueTypeChange,insuranceValueType=_a.insuranceValueType,insured=_a.insured,mixedSelection=_a.mixedSelection,addInsuranceButtonName=_a.addInsuranceButtonName,isBatch=_a.isBatch,order=_a.order,selectedOrdersData=(0,es.d4)(orders_selectors.ZN),showKeepSelection=mixedSelection&&mixedSelection.numberWithInsurance>0&&mixedSelection.numberSelected>1,hideValueOfItems=mixedSelection&&mixedSelection.numberSelected>1||!showItemValueTotal,multipleSelectedLabelMsg=mixedSelection&&mixedSelection.numberSelected>1?t("orders:insurance:perOrder"):"";return(0,emotion_react_jsx_runtime_browser_esm.Y)(emotion_react_jsx_runtime_browser_esm.FK,{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(Stack.A,(0,tslib_es6.Cl)({direction:"column",justifyContent:"space-between",height:"100%"},{children:[(0,emotion_react_jsx_runtime_browser_esm.FD)(Box.A,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"h4",variant:"bodyEmphasized",sx:{marginBottom:"1rem"}},{children:t("orders:insurance:coverageValue")})),(0,emotion_react_jsx_runtime_browser_esm.Y)(FormControl.A,(0,tslib_es6.Cl)({sx:{width:"100%",gap:"0.5rem"}},{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(RadioGroup.A,(0,tslib_es6.Cl)({value:"keep"===insured?"keep":insuranceValueType,onChange:onInsuranceValueTypeChange,sx:{gap:"1rem"},"data-testid":"insurance-form",name:"insuranceType"},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(FormControlLabel.A,{"data-testid":"insurance-radio-none-added",value:"noAddedInsurance",control:(0,emotion_react_jsx_runtime_browser_esm.Y)(Radio.A,{sx:{paddingTop:0,paddingBottom:0}}),label:(0,emotion_react_jsx_runtime_browser_esm.Y)(Stack.A,(0,tslib_es6.Cl)({direction:"column"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"span",variant:"bodyEmphasized"},{children:t("orders:insurance:notSelectedMessageVariant")}))}))}),showKeepSelection&&(0,emotion_react_jsx_runtime_browser_esm.Y)(FormControlLabel.A,{"data-testid":"insurance-radio-keep-selections",value:"keep",control:(0,emotion_react_jsx_runtime_browser_esm.Y)(Radio.A,{sx:{py:0,mb:1}}),label:(0,emotion_react_jsx_runtime_browser_esm.FD)(Stack.A,(0,tslib_es6.Cl)({direction:"column"},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"span",variant:"bodyEmphasized"},{children:t("orders:shipmentExtras:keepCurrentSelections")})),(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"span",variant:"body"},{children:t("orders:insurance:numOfInsured",{numInsured:mixedSelection.numberWithInsurance,numOrders:mixedSelection.numberSelected})}))]}))}),!hideValueOfItems&&(0,emotion_react_jsx_runtime_browser_esm.Y)(FormControlLabel.A,{"data-testid":"insurance-radio-items-value",value:"hasInsurance",control:(0,emotion_react_jsx_runtime_browser_esm.Y)(Radio.A,{sx:{py:0,mb:1}}),label:(0,emotion_react_jsx_runtime_browser_esm.FD)(Stack.A,(0,tslib_es6.Cl)({direction:"column"},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"span",variant:"bodyEmphasized"},{children:t("orders:shipmentExtras:valueOfItems")})),(0,emotion_react_jsx_runtime_browser_esm.FD)(Typography.A,(0,tslib_es6.Cl)({component:"span",variant:"body"},{children:[t("orders:insurance:totalValue")," ",t("translations:currency",{value:{value:showItemValueTotal,currency_iso:currency.iso}})]}))]}))}),(0,emotion_react_jsx_runtime_browser_esm.Y)(FormControlLabel.A,{"data-testid":"insurance-radio-custom-value",value:"custom",control:(0,emotion_react_jsx_runtime_browser_esm.Y)(Radio.A,{sx:{paddingTop:0,paddingBottom:0}}),label:(0,emotion_react_jsx_runtime_browser_esm.Y)(Stack.A,(0,tslib_es6.Cl)({direction:"column"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"span",variant:"bodyEmphasized"},{children:"".concat(t("orders:insurance:customValue")," ").concat(multipleSelectedLabelMsg)}))}))}),(0,emotion_react_jsx_runtime_browser_esm.Y)(SimplifiedInsuranceModal_InsuranceValueField,{getValues,errors:errors.amount,control,t,currency,multipleSelectedLabelMsg,disabled:"custom"!==insuranceValueType})]}))}))]}),(0,emotion_react_jsx_runtime_browser_esm.Y)(Box.A,(0,tslib_es6.Cl)({sx:{mt:5}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Box.A,(0,tslib_es6.Cl)({sx:{display:"flex"}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(InsuranceDisclaimer,{originCountries:isBatch?selectedOrdersData.map((function(order){var _a,_b;return null===(_b=null===(_a=order.addressFrom)||void 0===_a?void 0:_a.country)||void 0===_b?void 0:_b.iso2})):[null===(_c=null===(_b=null==order?void 0:order.addressFrom)||void 0===_b?void 0:_b.country)||void 0===_c?void 0:_c.iso2],buttonName:addInsuranceButtonName})}))}))]}))})}},"./app/pages/Orders/All/OrderDetailsPage/Tabs/ShipmentExtrasCard/Insurance/helpers.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Bq:()=>getOrderTotal,Eo:()=>lineItemsFromPartialOrder,R9:()=>insuranceFormCurrencyAndAmount,Tb:()=>shouldRenderLargePackageUpsellComponent,dc:()=>insuranceModalContent,r:()=>XCOVER_TERMS_AND_CONDITIONS});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_constants_currency__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/constants/currency.ts"),country_to_currency__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/lodash/lodash.js"),__webpack_require__("./node_modules/country-to-currency/index.umd.js")),country_to_currency__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(country_to_currency__WEBPACK_IMPORTED_MODULE_2__);function lineItemsFromPartialOrder(orderLineItems,batchEntryLineItems){if(orderLineItems&&batchEntryLineItems){var targetLineItems=batchEntryLineItems.reduce((function(accum,curr){return accum[curr.objectId]=!0,accum}),{}),output=orderLineItems.filter((function(lineItem){return!!targetLineItems[lineItem.objectId]}));return output.length?output:void 0}}function orderCurrency(currencyIso){return currencyIso?_constants_currency__WEBPACK_IMPORTED_MODULE_0__.q[currencyIso]:void 0}var DEFAULT_INSURANCE_MODAL_AMOUNT=125,DEFAULT_INSURANCE_MODAL_AMOUNTS={USD:125,CAD:150,GBP:100,MXN:2e3,EUR:100};function insuranceFormCurrencyAndAmount(extrasInsurance,order,partialOrderLineItems,batchEntry){var _a,_b,_c,_d,itemCurrencies,currency;if((null==extrasInsurance?void 0:extrasInsurance.currency)&&_constants_currency__WEBPACK_IMPORTED_MODULE_0__.q[extrasInsurance.currency.iso])return{currency:extrasInsurance.currency,amount:+(null==extrasInsurance?void 0:extrasInsurance.amount)||DEFAULT_INSURANCE_MODAL_AMOUNTS[extrasInsurance.currency.iso]||DEFAULT_INSURANCE_MODAL_AMOUNT};if(partialOrderLineItems){var partialOrderCurrencies=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.fX)([],(0,tslib__WEBPACK_IMPORTED_MODULE_3__.zs)(new Set(partialOrderLineItems.map((function(lineItem){return lineItem.currency})).filter((function(lineItem){return!!(null==lineItem?void 0:lineItem.iso)})))),!1);if(1===partialOrderCurrencies.length)return{currency:partialOrderCurrencies[0],amount:partialOrderLineItems.reduce((function(acc,curr){return acc+ +curr.totalAmount}),0)||DEFAULT_INSURANCE_MODAL_AMOUNT}}if((null==order?void 0:order.lineItems)&&order.lineItems.length>0&&1===(itemCurrencies=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.fX)([],(0,tslib__WEBPACK_IMPORTED_MODULE_3__.zs)(new Set(order.lineItems.map((function(lineItem){return lineItem.currency})).filter((function(lineItem){return!!(null==lineItem?void 0:lineItem.iso)})))),!1)).length)return{currency:itemCurrencies[0],amount:order.lineItems.reduce((function(acc,curr){return acc+ +curr.totalAmount}),0)||DEFAULT_INSURANCE_MODAL_AMOUNT};if((null==batchEntry?void 0:batchEntry.customsItems)&&batchEntry.customsItems.length>0&&1===(itemCurrencies=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.fX)([],(0,tslib__WEBPACK_IMPORTED_MODULE_3__.zs)(new Set(batchEntry.customsItems.map((function(customsItem){return customsItem.valueCurrency})).filter((function(customsItem){return!!(null==customsItem?void 0:customsItem.iso)})))),!1)).length)return{currency:itemCurrencies[0],amount:batchEntry.customsItems.reduce((function(acc,curr){return acc+ +curr.valueAmount}),0)||DEFAULT_INSURANCE_MODAL_AMOUNT};return(null==order?void 0:order.currency)&&orderCurrency(order.currency)?{currency:currency=orderCurrency(order.currency)||_constants_currency__WEBPACK_IMPORTED_MODULE_0__.q.USD,amount:+((null==order?void 0:order.totalPrice)||(null==order?void 0:order.subtotalPrice)||"")||DEFAULT_INSURANCE_MODAL_AMOUNTS[currency.iso]||DEFAULT_INSURANCE_MODAL_AMOUNT}:(null===(_b=null===(_a=null==batchEntry?void 0:batchEntry.addressFrom)||void 0===_a?void 0:_a.country)||void 0===_b?void 0:_b.iso2)&&country_to_currency__WEBPACK_IMPORTED_MODULE_2___default()[batchEntry.addressFrom.country.iso2]?{currency:currency=_constants_currency__WEBPACK_IMPORTED_MODULE_0__.q[country_to_currency__WEBPACK_IMPORTED_MODULE_2___default()[batchEntry.addressFrom.country.iso2]]||_constants_currency__WEBPACK_IMPORTED_MODULE_0__.q.USD,amount:DEFAULT_INSURANCE_MODAL_AMOUNTS[currency.iso]||DEFAULT_INSURANCE_MODAL_AMOUNT}:(null===(_d=null===(_c=null==order?void 0:order.addressFrom)||void 0===_c?void 0:_c.country)||void 0===_d?void 0:_d.iso2)&&country_to_currency__WEBPACK_IMPORTED_MODULE_2___default()[order.addressFrom.country.iso2]?{currency:currency=_constants_currency__WEBPACK_IMPORTED_MODULE_0__.q[country_to_currency__WEBPACK_IMPORTED_MODULE_2___default()[order.addressFrom.country.iso2]]||_constants_currency__WEBPACK_IMPORTED_MODULE_0__.q.USD,amount:DEFAULT_INSURANCE_MODAL_AMOUNTS[currency.iso]||DEFAULT_INSURANCE_MODAL_AMOUNT}:{currency:_constants_currency__WEBPACK_IMPORTED_MODULE_0__.q.USD,amount:DEFAULT_INSURANCE_MODAL_AMOUNTS.USD}}function insuranceModalContent(extrasInsurance,order,partialOrderLineItems,batchEntry){var currencyAndAmount=insuranceFormCurrencyAndAmount(extrasInsurance,order,partialOrderLineItems,batchEntry);return{hasInsurance:!!extrasInsurance,amount:"".concat(currencyAndAmount.amount),useImportedAmount:!1,currency:currencyAndAmount.currency}}var getOrderTotal=function(order){return null==order?void 0:order.lineItems.reduce((function(accumulator,currentValue){return accumulator+parseFloat(currentValue.totalAmount)}),0)},getCustomDimension=function(dimension){return dimension?Number(dimension):0},shouldRenderLargePackageUpsellComponent=function(dimensions,dismissed,hasInsurance,isUserPartOfExperiment,isAutoApply){return!!dimensions&&(!dismissed&&(!hasInsurance&&(!!isUserPartOfExperiment&&(!isAutoApply&&function(dimensions){if(!dimensions)return!1;var dimensionConstraint={in:{min:90,max:170},cm:{min:228,max:431},mm:{min:2286,max:4318}}[dimensions.distanceUnit.value.toString()];if(!dimensionConstraint)return!1;var max=dimensionConstraint.max,min=dimensionConstraint.min,sum=getCustomDimension(dimensions.height)+getCustomDimension(dimensions.width)+getCustomDimension(dimensions.length);return min<sum&&sum<max}(dimensions)))))},XCOVER_TERMS_AND_CONDITIONS="https://www.xcover.com/pds/__0XQLK__shippo_termsandconditions"},"./app/pages/Orders/All/OrderDetailsPage/Tabs/ShipmentExtrasCard/Insurance/hooks.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Fk:()=>useDefaultInsuranceValues,hp:()=>useInsuranceModalForm,zB:()=>useRateCostOnly,zO:()=>useUserInsuranceRate});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_hook_form__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.js"),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-redux/es/index.js"),_selectors_user_selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/selectors/user.selectors.ts"),_pages_Orders_Blackbeard_LabelPurchase_modules_ShipmentExtrasCard_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/utils.ts"),_pages_Orders_Blackbeard_hooks_hooks_useGroupedRates__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./app/pages/Orders/Blackbeard/hooks/hooks/useGroupedRates.ts"),_helpers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./app/pages/Orders/All/OrderDetailsPage/Tabs/ShipmentExtrasCard/Insurance/helpers.ts");function useInsuranceModalForm(defaultValues,onSubmitToParent){var insuranceForm=(0,react_hook_form__WEBPACK_IMPORTED_MODULE_1__.mN)({defaultValues}),control=insuranceForm.control,watch=insuranceForm.watch,setValue=insuranceForm.setValue,getValues=insuranceForm.getValues,handleSubmit=insuranceForm.handleSubmit,errors=insuranceForm.formState.errors,insured=watch("hasInsurance"),insuredValue=watch("amount"),currency=watch("currency");(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){setValue("hasInsurance",defaultValues.hasInsurance),setValue("currency",defaultValues.currency),setValue("amount",defaultValues.amount),setValue("useImportedAmount",defaultValues.useImportedAmount)}),[defaultValues,setValue]);var onEnableInsured=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){setValue("hasInsurance",!0)}),[setValue]),onDisableInsured=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){setValue("hasInsurance",!1)}),[setValue]),onKeepSelection=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){setValue("hasInsurance","keep")}),[setValue]),onClickSubmit=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){handleSubmit(onSubmitToParent)()}),[handleSubmit,onSubmitToParent]);return{control,currency,getValues,setValue,errors,onEnableInsured,onDisableInsured,onKeepSelection,onClickSubmit,insured,insuredValue}}var useUserInsuranceRate=function(batchEntry){var userInsuranceRateDomestic=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.d4)(_selectors_user_selectors__WEBPACK_IMPORTED_MODULE_3__.Wj),userInsuranceRateInternational=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.d4)(_selectors_user_selectors__WEBPACK_IMPORTED_MODULE_3__.m);return(0,_pages_Orders_Blackbeard_LabelPurchase_modules_ShipmentExtrasCard_utils__WEBPACK_IMPORTED_MODULE_4__.T3)(null!=batchEntry?batchEntry:void 0)?userInsuranceRateDomestic:userInsuranceRateInternational},useRateCostOnly=function(batchEntry){var _a,selectedOrder=batchEntry?((_a={})[batchEntry.orderObjectId]=[batchEntry.id],_a):{},groupedRates=(0,_pages_Orders_Blackbeard_hooks_hooks_useGroupedRates__WEBPACK_IMPORTED_MODULE_5__.A)(selectedOrder).groupedRates;return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return groupedRates.reduce((function(acc,rate){var insurancePrice=(null==rate?void 0:rate.includedInsurancePrice)||0;return acc+(+((null==rate?void 0:rate.total)||0)-+insurancePrice)}),0)}),[groupedRates])},useDefaultInsuranceValues=function(order,batchEntry,extrasInsurance){var partialOrderLineItems=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_helpers__WEBPACK_IMPORTED_MODULE_6__.Eo)(null==order?void 0:order.lineItems,null==batchEntry?void 0:batchEntry.lineItems)}),[null==order?void 0:order.lineItems,batchEntry]);return useDefaultModalContent(order,batchEntry,extrasInsurance,partialOrderLineItems)},useDefaultModalContent=function(order,batchEntry,extrasInsurance,partialOrderLineItems){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_helpers__WEBPACK_IMPORTED_MODULE_6__.dc)(extrasInsurance,null!=order?order:void 0,partialOrderLineItems,null!=batchEntry?batchEntry:void 0)}),[extrasInsurance,order,partialOrderLineItems,batchEntry])}},"./app/pages/Orders/All/OrderDetailsPage/Tabs/ShipmentExtrasCard/util.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>paramsForOnSaveInsurance,c:()=>shouldAddSignatureConfirmation});var lodash=__webpack_require__("./node_modules/lodash/lodash.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),icon_close_dark_gray=__webpack_require__("./app/assets/icons/icon_close_dark_gray.svg"),insurance=__webpack_require__("./app/assets/orders/insurance.svg"),signature=__webpack_require__("./app/assets/orders/signature.svg"),Link=__webpack_require__("./app/components/Link/index.ts"),Spinner=__webpack_require__("./app/components/Spinner/index.ts"),hooks=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/hooks.ts"),ReturnLabelWarning=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/ReturnLabelWarning.tsx"),SignatureConfirmationModal=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/VerticalSignatureConfirmationView/SignatureConfirmationModal.tsx"),react=__webpack_require__("./node_modules/react/index.js"),constants=__webpack_require__("./app/styles/constants.ts"),segment=__webpack_require__("./app/utils/segment/index.ts"),translate=__webpack_require__("./app/utils/translate.ts"),signatureConfirmation=__webpack_require__("./app/constants/signatureConfirmation.ts");var Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),utils=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/utils.ts"),Banner=function(_a){var cost=_a.cost,type=_a.type,message=(0,react.useMemo)((function(){return cost?(0,emotion_react_jsx_runtime_browser_esm.Y)(translate.In,{i18nKey:"shipmentExtras.xcoverRecommendItems",value:(0,emotion_react_jsx_runtime_browser_esm.Y)("strong",{children:cost})}):(0,emotion_react_jsx_runtime_browser_esm.Y)(translate.x6,(0,tslib_es6.Cl)({i18nKey:"shipmentExtras.xcoverRecommend"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)("strong",{children:"text1"})}))}),[cost]);return(0,emotion_react_jsx_runtime_browser_esm.Y)("div",(0,tslib_es6.Cl)({"data-testid":"insurance-banner",style:{width:"100%",height:"100%",background:"alert"===type?"#E1EDF9":"#FFF",borderRadius:"alert"===type?"6px":"0"}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"div",sx:{padding:"alert"===type?"0.8rem":"0",fontStyle:"normal",fontWeight:400,fontSize:"14px",lineHeight:"171%",color:"#2E434D"}},{children:message}))}))};const Insurance_InsuranceBanner=function(_a){var currencyIso=_a.currencyIso,haveItems=_a.haveItems,hasInsurance=_a.hasInsurance,userInsuranceRate=_a.userInsuranceRate,insuranceAmount=_a.insuranceAmount,mixedAllNotInsured=_a.mixedAllNotInsured,mixedSomeNotInsured=_a.mixedSomeNotInsured,_b=_a.type,type=void 0===_b?"alert":_b,_c=_a.condensed,condensed=void 0!==_c&&_c,rateCostOnly=_a.rateCostOnly,formatter=(0,react.useMemo)((function(){return new Intl.NumberFormat("en-US",{style:"currency",currency:currencyIso})}),[currencyIso]),insuranceCost=(0,react.useMemo)((function(){if(!insuranceAmount)return 0;var ratePlusInsuranceAmount=+insuranceAmount+rateCostOnly;return(0,utils.kB)(userInsuranceRate,ratePlusInsuranceAmount)}),[insuranceAmount,userInsuranceRate,rateCostOnly]);if(hasInsurance)return null;var cost=haveItems?formatter.format(insuranceCost):void 0;return(0,emotion_react_jsx_runtime_browser_esm.Y)(Banner,{cost,mixedSomeNotInsured,mixedAllNotInsured,type,condensed})};var ShipmentInsuranceModal=__webpack_require__("./app/pages/Orders/All/OrderDetailsPage/Tabs/ShipmentExtrasCard/Insurance/ShipmentInsuranceModal.tsx"),Tooltip=__webpack_require__("./node_modules/@goshippo/components/esm/Tooltip/Tooltip.js"),utils_signature=__webpack_require__("./app/utils/signature.ts"),Insurance_hooks=__webpack_require__("./app/pages/Orders/All/OrderDetailsPage/Tabs/ShipmentExtrasCard/Insurance/hooks.ts"),helpers=__webpack_require__("./app/pages/Orders/All/OrderDetailsPage/Tabs/ShipmentExtrasCard/Insurance/helpers.ts"),SIGNATURE_REQUIRED_MINIMUM=500,ShipmentExtraContainer=(0,emotion_styled_browser_esm.A)("div")(templateObject_1||(templateObject_1=(0,tslib_es6.ue)(["\n  display: flex;\n  flex-direction: column;\n  ","\n"],["\n  display: flex;\n  flex-direction: column;\n  ","\n"])),(function(props){return props.isBatch?"\n    gap: 0.8rem;\n  ":""})),ShipmentExtraLineContainer=(0,emotion_styled_browser_esm.A)("div")(templateObject_2||(templateObject_2=(0,tslib_es6.ue)(["\n  display: flex;\n  gap: 1.3rem;\n  ","\n"],["\n  display: flex;\n  gap: 1.3rem;\n  ","\n"])),(function(props){return props.isBatch?"\n    border: 1px solid ".concat(constants.Tj.greyBorder,";\n    border-radius: 4px;\n    padding: 0.8rem;\n    margin-bottom: .25rem;\n  "):""})),ShipmentExtraLineItemRow=emotion_styled_browser_esm.A.div(templateObject_3||(templateObject_3=(0,tslib_es6.ue)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  ","\n  ","\n  ","\n"],["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  ","\n  ","\n  ","\n"])),(function(_a){return _a.isBatch?"\n    padding-bottom: 0;\n  ":"\n    padding: 1rem 0;\n    border-top: 1px solid ".concat(constants.zC.borders,";\n      ")}),(function(props){return props.removeBottomSpacing?"\n    padding-bottom: 0;\n  ":""}),(function(props){return props.removeSeparator?"\n    padding-top: 0.375rem;\n    padding-bottom: 0;\n    border-top: none;\n  ":""})),ShipmentExtraIcon=(0,emotion_styled_browser_esm.A)("img")(templateObject_4||(templateObject_4=(0,tslib_es6.ue)(["\n  ","\n"],["\n  ","\n"])),(function(props){return props.isBatch?"display: inherit;":"display: none;"})),ShipmentExtraDescription=emotion_styled_browser_esm.A.span(templateObject_5||(templateObject_5=(0,tslib_es6.ue)(["\n  ","\n  margin-right: 1rem;\n"],["\n  ","\n  margin-right: 1rem;\n"])),(function(_a){return _a.active?"":"margin-right: 1.5rem;"})),ShipmentExtraDescriptionTitle=(0,emotion_styled_browser_esm.A)("div")(templateObject_6||(templateObject_6=(0,tslib_es6.ue)(["\n  font-weight: ",";\n  color: ",";\n  margin-right: auto;\n"],["\n  font-weight: ",";\n  color: ",";\n  margin-right: auto;\n"])),constants.Wy.medium,constants.Tj.black),ShipmentsExtrasInsuranceContainer=(0,emotion_styled_browser_esm.A)("div")(templateObject_7||(templateObject_7=(0,tslib_es6.ue)(["\n  display: flex;\n  width: 100%;\n\n  ","\n"],["\n  display: flex;\n  width: 100%;\n\n  ","\n"])),(function(props){return props.isBatch?"":"\n      gap: 0.8rem;\n      flex-direction: column;\n      "})),ShipmentsExtrasInsuranceInnerContainer=(0,emotion_styled_browser_esm.A)("div")(templateObject_8||(templateObject_8=(0,tslib_es6.ue)(["\n  ","\n"],["\n  ","\n"])),(function(props){return props.isBatch?"\n        display: flex;\n        width: 100%;\n        gap: 1.3rem;\n      ":""})),RemoveIconButton=emotion_styled_browser_esm.A.button(templateObject_9||(templateObject_9=(0,tslib_es6.ue)(["\n  cursor: pointer;\n  background: none;\n  border: none;\n  padding: 0;\n  margin: 0 1rem 0 0;\n\n  &:disabled {\n    cursor: not-allowed;\n    opacity: 50%;\n  }\n"],["\n  cursor: pointer;\n  background: none;\n  border: none;\n  padding: 0;\n  margin: 0 1rem 0 0;\n\n  &:disabled {\n    cursor: not-allowed;\n    opacity: 50%;\n  }\n"]))),ShipmentExtrasInsurance=function(_a){var _b,_c,_d,_e,t=_a.t,batchEntry=_a.batchEntry,isBatch=_a.isBatch,order=_a.order,onSubmit=_a.onSubmit,rateCostOnly=(0,Insurance_hooks.zB)(batchEntry),userInsuranceRate=(0,Insurance_hooks.zO)(batchEntry),extrasInsurance=(0,hooks.xx)(!!isBatch,null===(_b=null==batchEntry?void 0:batchEntry.extras)||void 0===_b?void 0:_b.insurance),extrasSignature=(0,hooks.vd)(!!isBatch,null===(_c=null==batchEntry?void 0:batchEntry.extras)||void 0===_c?void 0:_c.signatureConfirmation),defaultInsuranceValues=(0,Insurance_hooks.Fk)(order,batchEntry,extrasInsurance),_f=(0,tslib_es6.zs)((0,react.useState)(!1),2),showModal=_f[0],setShowModal=_f[1],shipmentInsuranceDescription=(0,react.useMemo)((function(){return isBatch?"":extrasInsurance?"".concat(t("translations:currency",{value:{value:extrasInsurance.amount,currency_iso:extrasInsurance.currency.iso}})," ").concat(t("shipmentExtras.coverage")):t("shipmentExtras.noCoverage")}),[isBatch,extrasInsurance,t]),handleSaveInsurance=(0,react.useCallback)((function(newInsuranceValues){var options=paramsForOnSaveInsurance(newInsuranceValues);onSubmit(options),setShowModal(!1)}),[onSubmit,userInsuranceRate,extrasSignature]),removeInsurance=(0,react.useCallback)((function(){if(!extrasInsurance)return!1;var options=paramsForOnSaveInsurance((0,tslib_es6.Cl)((0,tslib_es6.Cl)({},extrasInsurance),{hasInsurance:!1}));(0,segment.u4)(segment.sV.insurance_removal_order_details),onSubmit(options)}),[onSubmit,extrasInsurance,extrasSignature]),onClickShowInsuranceModal=(0,react.useCallback)((function(){setShowModal(!0),(0,segment.u4)(segment.sV.insurance_modal_opened)}),[]),onCloseInsuranceModal=(0,react.useCallback)((function(){setShowModal(!1)}),[]),currency=defaultInsuranceValues.currency,insuranceAmount=defaultInsuranceValues.amount,haveItems=function(batchEntry,order){var batchEntryLineItem=!(!(null==batchEntry?void 0:batchEntry.lineItems)||!batchEntry.lineItems.length),orderLineItem=!(!(null==order?void 0:order.lineItems)||!order.lineItems.length);return batchEntryLineItem||orderLineItem}(batchEntry,order),totalItemsValue=null===(_d=(0,helpers.Bq)(order))||void 0===_d?void 0:_d.toString(),isReturnRequested=null===(_e=null==batchEntry?void 0:batchEntry.extras)||void 0===_e?void 0:_e.isReturnRequested,showReturnInsuranceSignatureWarning=!!(null==extrasInsurance?void 0:extrasInsurance.amount)&&totalItemsValue&&+totalItemsValue>=500&&isReturnRequested&&!!(null==extrasSignature?void 0:extrasSignature.hasSignatureConfirmation);return(0,emotion_react_jsx_runtime_browser_esm.FD)(ShipmentExtraLineContainer,(0,tslib_es6.Cl)({isBatch},{children:[showModal&&(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentInsuranceModal.A,{onSubmit:handleSaveInsurance,onClose:onCloseInsuranceModal,t,order,batchEntry,isBatch}),(0,emotion_react_jsx_runtime_browser_esm.FD)(ShipmentsExtrasInsuranceContainer,(0,tslib_es6.Cl)({isBatch},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(emotion_react_jsx_runtime_browser_esm.FK,{children:showReturnInsuranceSignatureWarning&&(0,emotion_react_jsx_runtime_browser_esm.Y)(ReturnLabelWarning.A,{t})}),!isBatch&&(0,emotion_react_jsx_runtime_browser_esm.Y)(Insurance_InsuranceBanner,{currencyIso:currency.iso,haveItems,hasInsurance:!!(null==extrasInsurance?void 0:extrasInsurance.amount),userInsuranceRate,insuranceAmount,type:"text",condensed:!0,rateCostOnly}),(0,emotion_react_jsx_runtime_browser_esm.FD)(ShipmentsExtrasInsuranceInnerContainer,(0,tslib_es6.Cl)({isBatch},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentExtraIcon,{isBatch,src:insurance,alt:"insurance"}),(0,emotion_react_jsx_runtime_browser_esm.FD)(ShipmentExtraLineItemRow,(0,tslib_es6.Cl)({isBatch},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentExtraDescriptionTitle,(0,tslib_es6.Cl)({isBatch},{children:t(isBatch?"shipmentExtras.shipmentInsurance":"shipmentExtras.coverageValue")})),(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentExtraDescription,(0,tslib_es6.Cl)({active:!!extrasInsurance,"data-testid":"extra-insurance-description"},{children:shipmentInsuranceDescription})),!!extrasInsurance&&!isBatch&&(0,emotion_react_jsx_runtime_browser_esm.Y)(Tooltip.A,(0,tslib_es6.Cl)({title:t("shipmentExtras.insuranceRemove"),variant:"secondary"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(RemoveIconButton,(0,tslib_es6.Cl)({onClick:removeInsurance,"data-e2e":"remove-insurance-button"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)("img",{src:icon_close_dark_gray,alt:t("shipmentExtras.insuranceRemove")})}))})),(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.Oc,(0,tslib_es6.Cl)({onClick:onClickShowInsuranceModal,dataAnalytics:"extra-insurance-open"},{children:t(extrasInsurance||isBatch?"shipmentExtras.edit":"shipmentExtras.add")}))]}))]}))]}))]}))},ShipmentExtrasSignature=function(_a){var _b,_c,t=_a.t,batchEntry=_a.batchEntry,isBatch=_a.isBatch,onSubmit=_a.onSubmit,removeSeparator=_a.removeSeparator,_d=(0,tslib_es6.zs)((0,react.useState)(!1),2),showModal=_d[0],setShowModal=_d[1],extrasInsurance=(0,hooks.xx)(!!isBatch,null===(_b=null==batchEntry?void 0:batchEntry.extras)||void 0===_b?void 0:_b.insurance),extrasSignature=(0,hooks.vd)(!!isBatch,null===(_c=null==batchEntry?void 0:batchEntry.extras)||void 0===_c?void 0:_c.signatureConfirmation),defaultModalContent=function useDefaultSignatureContent(extrasSignature){return{defaultSignatureContent:(0,react.useMemo)((function(){return extrasSignature?{hasSignatureConfirmation:extrasSignature.hasSignatureConfirmation,signatureConfirmationType:extrasSignature.signatureConfirmationType||void 0}:{hasSignatureConfirmation:!1}}),[extrasSignature])}}(extrasSignature).defaultSignatureContent,signatureConfirmationDescription=function useSignatureConfirmationDescription(signatureFormValues,isBatch,t){return{signatureConfirmationDescription:(0,react.useMemo)((function(){var _a;if(isBatch)return"";var hasSignatureConfirmation=signatureFormValues.hasSignatureConfirmation,signatureConfirmationType=signatureFormValues.signatureConfirmationType;return hasSignatureConfirmation&&signatureConfirmationType?(null===(_a=signatureConfirmation.Y_[signatureConfirmationType])||void 0===_a?void 0:_a.label)||"":t("shipmentExtras.notAdded")}),[isBatch,signatureFormValues,t])}}(defaultModalContent,!!isBatch,t).signatureConfirmationDescription,onSubmitSignature=function useOnSubmitSignature(onSubmit,setShowModal){return{onSubmitSignature:(0,react.useCallback)((function(_a){var hasSignatureConfirmation=_a.hasSignatureConfirmation,signatureConfirmationType=_a.signatureConfirmationType;onSubmit({signatureConfirmation:hasSignatureConfirmation?{hasSignatureConfirmation,signatureConfirmationType}:null}),setShowModal(!1)}),[onSubmit,setShowModal])}}(onSubmit,setShowModal).onSubmitSignature,needsSignature=shouldAddSignatureConfirmation(!!extrasInsurance,!!extrasSignature,null==extrasInsurance?void 0:extrasInsurance.amount),disableSignature=(0,utils_signature.F)(batchEntry),onClickShowModal=(0,react.useCallback)((function(){disableSignature||(setShowModal(!0),(0,segment.u4)(segment.sV.signaure_modal_opened))}),[disableSignature]),onCloseModal=(0,react.useCallback)((function(){setShowModal(!1)}),[]),removeSignature=(0,react.useCallback)((function(){onSubmit({signatureConfirmation:null}),(0,segment.u4)(segment.sV.signature_removal_order_details)}),[onSubmit]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(emotion_react_jsx_runtime_browser_esm.FK,{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(ShipmentExtraLineContainer,(0,tslib_es6.Cl)({isBatch},{children:[showModal&&(0,emotion_react_jsx_runtime_browser_esm.Y)(SignatureConfirmationModal.A,{defaultValues:defaultModalContent,insuredValue:parseFloat((null==extrasInsurance?void 0:extrasInsurance.amount)||"0")||0,onSubmit:onSubmitSignature,onClose:onCloseModal,t,fromOrderPage:!0}),(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentExtraIcon,{isBatch,src:signature,alt:"signature"}),(0,emotion_react_jsx_runtime_browser_esm.FD)(ShipmentExtraLineItemRow,(0,tslib_es6.Cl)({removeBottomSpacing:!0,isBatch,removeSeparator},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentExtraDescriptionTitle,(0,tslib_es6.Cl)({isBatch},{children:t("shipmentExtras.signature")})),(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentExtraDescription,(0,tslib_es6.Cl)({active:defaultModalContent.hasSignatureConfirmation,"data-testid":"extra-signature-description"},{children:needsSignature||extrasSignature||isBatch?signatureConfirmationDescription:t("shipmentExtras.notRequired")})),defaultModalContent.hasSignatureConfirmation&&!isBatch&&(0,emotion_react_jsx_runtime_browser_esm.Y)(Tooltip.A,(0,tslib_es6.Cl)({title:t("shipmentExtras.signatureRemove"),variant:"secondary"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(RemoveIconButton,(0,tslib_es6.Cl)({disabled:disableSignature,onClick:removeSignature,"data-e2e":"remove-signature-button"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)("img",{src:icon_close_dark_gray,alt:t("shipmentExtras.signatureceRemove")})}))})),(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.Oc,(0,tslib_es6.Cl)({onClick:onClickShowModal,dataAnalytics:"extra-signature-open",disabled:disableSignature},{children:defaultModalContent.hasSignatureConfirmation||isBatch?t("shipmentExtras.edit"):t("shipmentExtras.add")}))]}))]}))})};(0,translate.Tl)("orders")((function(props){return props.isLoading?(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentExtraContainer,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Spinner.hQ,{})}):(0,emotion_react_jsx_runtime_browser_esm.FD)(ShipmentExtraContainer,{children:[!props.hideInsuranceOption&&(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentExtrasInsurance,(0,tslib_es6.Cl)({},props)),(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentExtrasSignature,(0,tslib_es6.Cl)({},props,{removeSeparator:!!props.hideInsuranceOption}))]})}));var templateObject_1,templateObject_2,templateObject_3,templateObject_4,templateObject_5,templateObject_6,templateObject_7,templateObject_8,templateObject_9;function shouldAddSignatureConfirmation(hasInsurance,alreadyHasSignatureConfirmation,amount){return!(!hasInsurance||alreadyHasSignatureConfirmation||!amount)&&((0,lodash.isFinite)(+amount)&&+amount>=SIGNATURE_REQUIRED_MINIMUM)}function paramsForOnSaveInsurance(newInsuranceValues){return{insurance:newInsuranceValues.hasInsurance?{amount:"".concat(newInsuranceValues.amount),currency:newInsuranceValues.currency,useImportedAmount:!1}:null}}},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/Card/Card.styled.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q_:()=>CardContainer,hT:()=>CardAccordion,k1:()=>CardContentWithNormalPadding,t:()=>CardAccordionSummary});var templateObject_1,templateObject_2,templateObject_3,tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_goshippo_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@goshippo/components/esm/Accordion/Accordion.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@goshippo/components/esm/Accordion/AccordionSummary/AccordionSummary.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@goshippo/components/esm/CardContent/CardContent.js"),CardContainer=(0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.Ay)(_goshippo_components__WEBPACK_IMPORTED_MODULE_1__.A)((function(){return{border:"1px solid",borderColor:_goshippo_components__WEBPACK_IMPORTED_MODULE_2__.T.gray30,borderRadius:"4px"}})),CardAccordion=(0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.Ay)(_goshippo_components__WEBPACK_IMPORTED_MODULE_3__.A)(templateObject_1||(templateObject_1=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.ue)(["\n  padding: 0;\n  border-bottom: 0;\n"],["\n  padding: 0;\n  border-bottom: 0;\n"]))),CardAccordionSummary=(0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.Ay)(_goshippo_components__WEBPACK_IMPORTED_MODULE_5__.A)(templateObject_2||(templateObject_2=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.ue)(["\n  .MuiAccordionSummary-content {\n    max-width: calc(100% - "," * 2);\n    margin: ",";\n\n    display: grid;\n    grid-template-columns: calc(100% / 3) calc(100% / 3 * 2);\n    align-items: center;\n  }\n\n  & .MuiAccordionSummary-expandIconWrapper {\n    margin-right: 1.5rem;\n  }\n"],["\n  .MuiAccordionSummary-content {\n    max-width: calc(100% - "," * 2);\n    margin: ",";\n\n    display: grid;\n    grid-template-columns: calc(100% / 3) calc(100% / 3 * 2);\n    align-items: center;\n  }\n\n  & .MuiAccordionSummary-expandIconWrapper {\n    margin-right: 1.5rem;\n  }\n"])),"1rem","1rem"),CardContentWithNormalPadding=((0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.Ay)(_goshippo_components__WEBPACK_IMPORTED_MODULE_1__.A)(templateObject_3||(templateObject_3=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.ue)(["\n  padding: 1rem;\n  border-bottom: 1px solid ",";\n  &:first-of-type {\n    border-top: none;\n  }\n  &:last-of-type {\n    border-bottom: 0;\n  }\n"],["\n  padding: 1rem;\n  border-bottom: 1px solid ",";\n  &:first-of-type {\n    border-top: none;\n  }\n  &:last-of-type {\n    border-bottom: 0;\n  }\n"])),_goshippo_components__WEBPACK_IMPORTED_MODULE_6__.A.palette.grey[300]),(0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.Ay)(_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.A)((function(_a){return{":last-child":{paddingBottom:_a.theme.spacing(2)}}})))},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/ExtrasModal/MobileStyles.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js");const __WEBPACK_DEFAULT_EXPORT__={MobileModalSection:(0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.Ay)(_goshippo_components__WEBPACK_IMPORTED_MODULE_1__.A)(templateObject_1||(templateObject_1=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.ue)(["\n  background-color: white;\n  padding: 1rem;\n  border-radius: 6px;\n  gap: 1rem;\n  border: 1px solid ",";\n"],["\n  background-color: white;\n  padding: 1rem;\n  border-radius: 6px;\n  gap: 1rem;\n  border: 1px solid ",";\n"])),_goshippo_components__WEBPACK_IMPORTED_MODULE_3__.T.borders),MobileContentBodyContent:(0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.Ay)(_goshippo_components__WEBPACK_IMPORTED_MODULE_1__.A)(templateObject_2||(templateObject_2=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.ue)(["\n  margin-top: 1rem;\n  gap: 1rem;\n"],["\n  margin-top: 1rem;\n  gap: 1rem;\n"]))),MobileSectionTitle:function(_a){var children=_a.children;return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Y)(_goshippo_components__WEBPACK_IMPORTED_MODULE_5__.A,(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Cl)({variant:"bodyEmphasized",component:"div"},{children}))}};var templateObject_1,templateObject_2},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/ReturnLabelWarning.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@goshippo/components/esm/Alert/Alert.js");const __WEBPACK_DEFAULT_EXPORT__=function(_a){var t=_a.t,marginBottomValue=_a.isSidePanel?2:0;return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Y)(_goshippo_components__WEBPACK_IMPORTED_MODULE_1__.A,(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Cl)({severity:"warning",sx:{mb:marginBottomValue}},{children:t("orders:shipmentExtras:returnLabelsNotInsuredWarning")}))}},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/VerticalSignatureConfirmationView/Form.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>VerticalSignatureConfirmationView_Form});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),FormControlLabel=__webpack_require__("./node_modules/@goshippo/components/esm/FormControlLabel/FormControlLabel.js"),Checkbox=__webpack_require__("./node_modules/@goshippo/components/esm/Checkbox/Checkbox.js"),RadioGroup=__webpack_require__("./node_modules/@goshippo/components/esm/RadioGroup/RadioGroup.js"),Radio=__webpack_require__("./node_modules/@goshippo/components/esm/Radio/Radio.js"),Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),Divider=__webpack_require__("./node_modules/@goshippo/components/esm/Divider/Divider.js"),currency=__webpack_require__("./app/constants/currency.ts"),signatureConfirmation=__webpack_require__("./app/constants/signatureConfirmation.ts"),react=__webpack_require__("./node_modules/react/index.js"),types=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/types.ts"),constants=__webpack_require__("./app/styles/constants.ts");const FormStyles={BasicCost:function(_a){var children=_a.children;return(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({variant:"bodyEmphasized",component:"span"},{children}))},FormSublabelTypography:function(_a){var children=_a.children;return(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"div",variant:"body",color:"primary"},{children}))},FormLabelTypography:function(_a){var children=_a.children;return(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"div",variant:"body",color:"primary",sx:{fontWeight:constants.Wy.medium,fontSize:"1rem"}},{children}))}};var CostForOption=function(_a){var hasSignatureConfirmation=_a.hasSignatureConfirmation,signatureConfirmationType=_a.signatureConfirmationType,mixedSelection=_a.mixedSelection,t=_a.t;if(!hasSignatureConfirmation)return null;var numOrders=mixedSelection?mixedSelection.numberSelected:0,standardCost=mixedSelection?mixedSelection.numberSelected*signatureConfirmation.Md:signatureConfirmation.Md,adultCost=mixedSelection?mixedSelection.numberSelected*signatureConfirmation.zr:signatureConfirmation.zr,totalCost=mixedSelection?mixedSelection.totalSignatureCost:0;switch(signatureConfirmationType){case types.zT.STANDARD:return(0,emotion_react_jsx_runtime_browser_esm.FD)(FormStyles.BasicCost,{children:[t("orders:insurance:cost"),":"," ",t("translations:currency",{value:{value:standardCost,currency_iso:currency.q.USD.iso}}),"+"]});case types.zT.ADULT:return(0,emotion_react_jsx_runtime_browser_esm.FD)(FormStyles.BasicCost,{children:[t("orders:insurance:cost"),":"," ",t("translations:currency",{value:{value:adultCost,currency_iso:currency.q.USD.iso}}),"+"]});case"KEEP":return(0,emotion_react_jsx_runtime_browser_esm.FD)(FormStyles.BasicCost,{children:[t("orders:insurance:totalCost",{numOrders}),":"," ",t("translations:currency",{value:{value:totalCost,currency_iso:currency.q.USD.iso}}),"+"]});default:return null}};const VerticalSignatureConfirmationView_Form=function(_a){var fullScreen=_a.fullScreen,hasSignatureConfirmation=_a.hasSignatureConfirmation,signatureConfirmationType=_a.signatureConfirmationType,handleSignatureConfirmationChanged=_a.handleSignatureConfirmationChanged,handleSignatureConfirmationTypeChanged=_a.handleSignatureConfirmationTypeChanged,mixedSelection=_a.mixedSelection,t=_a.t,showKeepSelectionsRadio=!!mixedSelection&&mixedSelection.numberSelected>1&&mixedSelection.numberWithSignature>0,_b=(0,tslib_es6.zs)((0,react.useState)("DISABLED"),2),mobileRadioValue=_b[0],setMobileRadioValue=_b[1];(0,react.useEffect)((function(){if("KEEP"!==signatureConfirmationType)if(hasSignatureConfirmation&&signatureConfirmationType)switch(signatureConfirmationType){case types.zT.ADULT:case types.zT.STANDARD:return void setMobileRadioValue(signatureConfirmationType)}else setMobileRadioValue("DISABLED");else setMobileRadioValue("KEEP")}),[hasSignatureConfirmation,signatureConfirmationType]);var onChangeSignatureConfirmationCheckbox=(0,react.useCallback)((function(){handleSignatureConfirmationChanged(!hasSignatureConfirmation)}),[handleSignatureConfirmationChanged,hasSignatureConfirmation]),onChangeRadio=(0,react.useCallback)((function(e){switch(e.target.value){case"KEEP":return void handleSignatureConfirmationTypeChanged("KEEP");case"DISABLED":return void handleSignatureConfirmationChanged(!1);case types.zT.ADULT:case types.zT.STANDARD:return void handleSignatureConfirmationTypeChanged(e.target.value)}}),[handleSignatureConfirmationChanged,handleSignatureConfirmationTypeChanged]),LabelComponent=(0,react.useMemo)((function(){return fullScreen?FormStyles.FormLabelTypography:FormStyles.FormSublabelTypography}),[fullScreen]);return(0,emotion_react_jsx_runtime_browser_esm.FD)("div",(0,tslib_es6.Cl)({style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[!fullScreen&&(0,emotion_react_jsx_runtime_browser_esm.Y)(FormControlLabel.A,{onChange:onChangeSignatureConfirmationCheckbox,checked:hasSignatureConfirmation,control:(0,emotion_react_jsx_runtime_browser_esm.Y)(Checkbox.A,{}),label:t("orders:signature:require")}),(0,emotion_react_jsx_runtime_browser_esm.FD)(RadioGroup.A,(0,tslib_es6.Cl)({onChange:onChangeRadio,sx:{marginLeft:fullScreen?void 0:"2rem",gap:"1rem"},value:mobileRadioValue},{children:[fullScreen&&(0,emotion_react_jsx_runtime_browser_esm.Y)(FormControlLabel.A,{"data-testid":"signature-radio-disable-signature",value:"DISABLED",control:(0,emotion_react_jsx_runtime_browser_esm.Y)(Radio.A,{sx:{paddingTop:0,paddingBottom:0}}),label:(0,emotion_react_jsx_runtime_browser_esm.Y)(FormStyles.FormLabelTypography,{children:t("orders:signature:notRequired")})}),mixedSelection&&showKeepSelectionsRadio&&(0,emotion_react_jsx_runtime_browser_esm.Y)(FormControlLabel.A,{"data-testid":"signature-radio-keep-signature",value:"KEEP",control:(0,emotion_react_jsx_runtime_browser_esm.Y)(Radio.A,{sx:{paddingTop:0,paddingBottom:0}}),label:(0,emotion_react_jsx_runtime_browser_esm.FD)(Stack.A,(0,tslib_es6.Cl)({direction:"column"},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"span",variant:"bodyEmphasized"},{children:t("shipmentExtras.keepCurrentSelections")})),(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"span",variant:"body"},{children:t("insurance.numOfRequired",{numRequired:mixedSelection.numberWithSignature,numOrders:mixedSelection.numberSelected})}))]}))}),(0,emotion_react_jsx_runtime_browser_esm.Y)(FormControlLabel.A,{"data-testid":"signature-radio-standard-signature",value:types.zT.STANDARD,control:(0,emotion_react_jsx_runtime_browser_esm.Y)(Radio.A,{sx:{paddingTop:0,paddingBottom:0}}),label:(0,emotion_react_jsx_runtime_browser_esm.Y)(LabelComponent,{children:t(fullScreen?"orders:signature:requiredStandardFullScreen":"orders:signature:requiredStandardModal")})}),(0,emotion_react_jsx_runtime_browser_esm.Y)(FormControlLabel.A,{"data-testid":"signature-radio-adult-signature",value:types.zT.ADULT,control:(0,emotion_react_jsx_runtime_browser_esm.Y)(Radio.A,{sx:{paddingTop:0,paddingBottom:0}}),label:(0,emotion_react_jsx_runtime_browser_esm.Y)(LabelComponent,{children:t(fullScreen?"orders:signature:requiredAdultFullScreen":"orders:signature:requiredAdultModal")})})]})),(0,emotion_react_jsx_runtime_browser_esm.Y)(Divider.A,{sx:{marginTop:"1rem"}}),(0,emotion_react_jsx_runtime_browser_esm.FD)(Stack.A,(0,tslib_es6.Cl)({sx:{marginTop:"1rem"}},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(CostForOption,{hasSignatureConfirmation,signatureConfirmationType,mixedSelection,t}),hasSignatureConfirmation&&signatureConfirmationType&&(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"div",variant:"body"},{children:t("orders:signature:costIncluded")}))]}))]}))}},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/VerticalSignatureConfirmationView/SignatureConfirmationInformation.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>VerticalSignatureConfirmationView_SignatureConfirmationInformation});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),ListItem=__webpack_require__("./node_modules/@goshippo/components/esm/ListItem/ListItem.js"),List=__webpack_require__("./node_modules/@goshippo/components/esm/List/List.js");const ExtrasModal_LeftColumnList_LeftColumnList=function(_a){var children=_a.children;return(0,emotion_react_jsx_runtime_browser_esm.Y)(List.A,(0,tslib_es6.Cl)({disablePadding:!0,style:{listStyle:"disc",paddingInlineStart:"1.5rem"}},{children}))},ExtrasModal_LeftColumnList_LeftColumnListItem=function(_a){var name=_a.name,detail=_a.detail;return(0,emotion_react_jsx_runtime_browser_esm.Y)(ListItem.A,(0,tslib_es6.Cl)({disablePadding:!0,disableGutters:!0,sx:{display:"list-item"}},{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(Typography.A,(0,tslib_es6.Cl)({component:"div",variant:"body",color:"primary"},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"span",variant:"body"},{children:name}))," ",detail]}))}))};var commonReasons=["specificItems","regulatedItems","additionalSecurity"];const VerticalSignatureConfirmationView_SignatureConfirmationInformation=function(_a){var t=_a.t;return(0,emotion_react_jsx_runtime_browser_esm.FD)(emotion_react_jsx_runtime_browser_esm.FK,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"div",variant:"body",color:"primary"},{children:t("orders:signature:commonReasons:title")})),(0,emotion_react_jsx_runtime_browser_esm.Y)(Stack.A,(0,tslib_es6.Cl)({style:{display:"flex",flexDirection:"column",gap:"0.2rem",marginTop:"0.5rem"}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(ExtrasModal_LeftColumnList_LeftColumnList,{children:commonReasons.map((function(c,i){return(0,emotion_react_jsx_runtime_browser_esm.Y)(ExtrasModal_LeftColumnList_LeftColumnListItem,{name:t("orders:signature:commonReasons:name:".concat(c)),detail:t("orders:signature:commonReasons:detail:".concat(c))},"common-reasons-".concat(i))}))})}))]})}},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/VerticalSignatureConfirmationView/SignatureConfirmationModal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>VerticalSignatureConfirmationView_SignatureConfirmationModal,E:()=>signatureConfirmationFormReducer});var emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),useMediaQuery=__webpack_require__("./node_modules/@mui/material/useMediaQuery/useMediaQuery.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),react=__webpack_require__("./node_modules/react/index.js"),segment=__webpack_require__("./app/utils/segment/index.ts"),types=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/types.ts"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),Dialog=__webpack_require__("./node_modules/@goshippo/components/esm/Dialog/Dialog.js"),DialogTitle=__webpack_require__("./node_modules/@goshippo/components/esm/DialogTitle/DialogTitle.js"),Divider=__webpack_require__("./node_modules/@goshippo/components/esm/Divider/Divider.js"),useStackablePortal=__webpack_require__("./app/hooks/useStackablePortal.ts"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),DialogContent=__webpack_require__("./node_modules/@goshippo/components/esm/DialogContent/DialogContent.js"),Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),DialogActions=__webpack_require__("./node_modules/@goshippo/components/esm/DialogActions/DialogActions.js"),colors=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),Button=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js");const DesktopStyles={TitleContainer:(0,styled.Ay)(DialogTitle.A)(templateObject_1||(templateObject_1=(0,tslib_es6.ue)(["\n  padding: 1rem;\n"],["\n  padding: 1rem;\n"]))),ContentContainer:function(_a){var children=_a.children;return(0,emotion_react_jsx_runtime_browser_esm.Y)(DialogContent.A,(0,tslib_es6.Cl)({sx:{padding:"1.5rem"}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Stack.A,(0,tslib_es6.Cl)({direction:"row"},{children}))}))},LeftContentContainer:(0,styled.Ay)(Stack.A)(templateObject_2||(templateObject_2=(0,tslib_es6.ue)(["\n  width: 50%;\n  margin-right: 1.5rem;\n"],["\n  width: 50%;\n  margin-right: 1.5rem;\n"]))),RightContentContainer:(0,styled.Ay)(Stack.A)(templateObject_3||(templateObject_3=(0,tslib_es6.ue)(["\n  width: 50%;\n  margin-left: 1.5rem;\n  gap: 1rem;\n"],["\n  width: 50%;\n  margin-left: 1.5rem;\n  gap: 1rem;\n"]))),FooterContainer:function(_a){var onClose=_a.onClose,onClickSubmit=_a.onClickSubmit,t=_a.t;return(0,emotion_react_jsx_runtime_browser_esm.FD)(DialogActions.A,(0,tslib_es6.Cl)({style:{padding:"1rem 0.85rem",borderTop:"1px solid ".concat(colors.T.borders)}},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Button.A,(0,tslib_es6.Cl)({onClick:onClose,variant:"outlined"},{children:t("orders:phrases:cancel")})),(0,emotion_react_jsx_runtime_browser_esm.Y)(Button.A,(0,tslib_es6.Cl)({onClick:onClickSubmit},{children:t("orders:phrases:update")}))]}))}};var templateObject_1,templateObject_2,templateObject_3,Link=__webpack_require__("./node_modules/@goshippo/components/esm/Link/Link.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),ChevronLeft=__webpack_require__("./node_modules/@mui/icons-material/esm/ChevronLeft.js"),IconButton=__webpack_require__("./node_modules/@goshippo/components/esm/IconButton/IconButton.js"),Close=__webpack_require__("./node_modules/@mui/icons-material/esm/Close.js");const ExtrasModal_ExtrasModalHeader=function(_a){var desktopTitle=_a.desktopTitle,mobileTitle=_a.mobileTitle,onClickClose=_a.onClickClose,onClickSubmit=_a.onClickSubmit,fullScreen=_a.fullScreen,t=_a.t;return fullScreen?(0,emotion_react_jsx_runtime_browser_esm.FD)(Stack.A,(0,tslib_es6.Cl)({direction:"row",alignItems:"center",justifyContent:"space-between"},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.A,(0,tslib_es6.Cl)({color:"primary",onClick:onClickClose,underline:"none"},{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(Typography.A,(0,tslib_es6.Cl)({component:"div",sx:{display:"flex"}},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(ChevronLeft.A,{}),t("orders:phrases:back")]}))})),(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"h3",variant:"bodyEmphasized",align:"center"},{children:mobileTitle})),(0,emotion_react_jsx_runtime_browser_esm.Y)(Button.A,(0,tslib_es6.Cl)({onClick:onClickSubmit},{children:t("orders:phrases:update")}))]})):(0,emotion_react_jsx_runtime_browser_esm.FD)(Stack.A,(0,tslib_es6.Cl)({direction:"row"},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"h3",variant:"bodyEmphasized",align:"center",alignSelf:"center",flex:"1"},{children:desktopTitle})),(0,emotion_react_jsx_runtime_browser_esm.Y)(IconButton.A,(0,tslib_es6.Cl)({onClick:onClickClose,sx:{padding:0}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Close.A,{})}))]}))};var Form=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/VerticalSignatureConfirmationView/Form.tsx"),SignatureConfirmationInformation=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/VerticalSignatureConfirmationView/SignatureConfirmationInformation.tsx");const VerticalSignatureConfirmationView_DesktopView=function(_a){var onClose=_a.onClose,onClickSubmit=_a.onClickSubmit,t=_a.t,hasSignatureConfirmation=_a.hasSignatureConfirmation,signatureConfirmationType=_a.signatureConfirmationType,onChangeHasSignatureConfirmation=_a.onChangeHasSignatureConfirmation,onChangeSignatureConfirmationType=_a.onChangeSignatureConfirmationType;return(0,useStackablePortal.A)(!0),(0,emotion_react_jsx_runtime_browser_esm.Y)(Dialog.A,(0,tslib_es6.Cl)({open:!0,onClose},{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(emotion_react_jsx_runtime_browser_esm.FK,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(DialogTitle.A,(0,tslib_es6.Cl)({id:"modal-title",sx:{padding:"1rem"}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(ExtrasModal_ExtrasModalHeader,{desktopTitle:t("orders:signature:desktopTitle"),mobileTitle:t("orders:signature:mobileTitle"),onClickClose:onClose,onClickSubmit,fullScreen:!1,t})})),(0,emotion_react_jsx_runtime_browser_esm.Y)(Divider.A,{}),(0,emotion_react_jsx_runtime_browser_esm.FD)(DesktopStyles.ContentContainer,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(DesktopStyles.LeftContentContainer,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(SignatureConfirmationInformation.A,{t})}),(0,emotion_react_jsx_runtime_browser_esm.Y)(Divider.A,{orientation:"vertical",flexItem:!0}),(0,emotion_react_jsx_runtime_browser_esm.Y)(DesktopStyles.RightContentContainer,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Form.A,{fullScreen:!1,handleSignatureConfirmationChanged:onChangeHasSignatureConfirmation,handleSignatureConfirmationTypeChanged:onChangeSignatureConfirmationType,hasSignatureConfirmation,signatureConfirmationType,t})})]}),(0,emotion_react_jsx_runtime_browser_esm.Y)(DesktopStyles.FooterContainer,{onClose,onClickSubmit,t})]})}))};var hooks=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/VerticalSignatureConfirmationView/hooks.ts"),MobileStyles=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/ExtrasModal/MobileStyles.tsx");const VerticalSignatureConfirmationView_VerticalSignatureConfirmationView=function(_a){var t=_a.t,hasSignatureConfirmation=_a.hasSignatureConfirmation,signatureConfirmationType=_a.signatureConfirmationType,onChangeHasSignatureConfirmation=_a.onChangeHasSignatureConfirmation,onChangeSignatureConfirmationType=_a.onChangeSignatureConfirmationType,mixedSelection=_a.mixedSelection;return(0,emotion_react_jsx_runtime_browser_esm.FD)(MobileStyles.A.MobileContentBodyContent,{children:[(0,emotion_react_jsx_runtime_browser_esm.FD)(MobileStyles.A.MobileModalSection,(0,tslib_es6.Cl)({"data-testid":"signature-confirmation-modal"},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(MobileStyles.A.MobileSectionTitle,{children:t("orders:signature:signatureSelection")}),(0,emotion_react_jsx_runtime_browser_esm.Y)(Stack.A,(0,tslib_es6.Cl)({sx:{placeItems:"center",gap:"1rem",flexDirection:"column"}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Form.A,{fullScreen:!0,handleSignatureConfirmationChanged:onChangeHasSignatureConfirmation,handleSignatureConfirmationTypeChanged:onChangeSignatureConfirmationType,hasSignatureConfirmation,signatureConfirmationType,mixedSelection,t})}))]})),(0,emotion_react_jsx_runtime_browser_esm.FD)(MobileStyles.A.MobileModalSection,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(MobileStyles.A.MobileSectionTitle,{children:t("orders:signature:informationTitle")}),(0,emotion_react_jsx_runtime_browser_esm.Y)(SignatureConfirmationInformation.A,{t})]})]})};const VerticalSignatureConfirmationView_MobileView=function(props){(0,useStackablePortal.A)(!0);var t=props.t,onClose=props.onClose,onClickSubmit=props.onClickSubmit;return(0,emotion_react_jsx_runtime_browser_esm.FD)(Dialog.A,(0,tslib_es6.Cl)({open:!0,onClose,fullScreen:!0},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(DialogTitle.A,(0,tslib_es6.Cl)({id:"modal-title"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(ExtrasModal_ExtrasModalHeader,{desktopTitle:t("orders:signature:desktopTitle"),mobileTitle:t("orders:signature:mobileTitle"),onClickClose:onClose,onClickSubmit,fullScreen:!0,t})})),(0,emotion_react_jsx_runtime_browser_esm.Y)(DialogContent.A,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(VerticalSignatureConfirmationView_VerticalSignatureConfirmationView,(0,tslib_es6.Cl)({},props))})]}))};function signatureConfirmationFormReducer(_state,action){switch(action.type){case"DISABLED":return{hasSignatureConfirmation:!1,signatureConfirmationType:null};case"KEEP":case types.zT.STANDARD:case types.zT.ADULT:return{hasSignatureConfirmation:!0,signatureConfirmationType:action.type};default:return{hasSignatureConfirmation:!1,signatureConfirmationType:null}}}const VerticalSignatureConfirmationView_SignatureConfirmationModal=function(_a){var defaultValues=_a.defaultValues,insuredValue=_a.insuredValue,onClose=_a.onClose,onSubmitToParent=_a.onSubmit,t=_a.t,fromOrderPage=_a.fromOrderPage,fullScreen=(0,useMediaQuery.A)(shippoTheme.A.breakpoints.down("sm")),_b=(0,hooks.Z)(defaultValues,onSubmitToParent,onClose),hasSignatureConfirmation=_b.hasSignatureConfirmation,signatureConfirmationType=_b.signatureConfirmationType,onSubmit=_b.onSubmit,setHasSignatureConfirmation=_b.setHasSignatureConfirmation,setSignatureConfirmationType=_b.setSignatureConfirmationType,handleOnSubmit=(0,react.useCallback)((function(){fromOrderPage&&(0,segment.u4)(segment.sV.signature_modal_updated,{is_required:hasSignatureConfirmation,type_of_signature:signatureConfirmationType}),onSubmit()}),[fromOrderPage,onSubmit,hasSignatureConfirmation,signatureConfirmationType]);return fullScreen?(0,emotion_react_jsx_runtime_browser_esm.Y)(VerticalSignatureConfirmationView_MobileView,{insuredValue,hasSignatureConfirmation,signatureConfirmationType,onChangeHasSignatureConfirmation:setHasSignatureConfirmation,onChangeSignatureConfirmationType:setSignatureConfirmationType,onClose,onClickSubmit:handleOnSubmit,t}):(0,emotion_react_jsx_runtime_browser_esm.Y)(VerticalSignatureConfirmationView_DesktopView,{insuredValue,hasSignatureConfirmation,signatureConfirmationType,onChangeHasSignatureConfirmation:setHasSignatureConfirmation,onChangeSignatureConfirmationType:setSignatureConfirmationType,onClose,onClickSubmit:handleOnSubmit,t})}},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/VerticalSignatureConfirmationView/hooks.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>useExtrasSignatureFormControls});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/types.ts"),_SignatureConfirmationModal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/VerticalSignatureConfirmationView/SignatureConfirmationModal.tsx");function useExtrasSignatureFormControls(defaultValues,onSubmitToParent,onCancel){var _a=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.zs)((0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(_SignatureConfirmationModal__WEBPACK_IMPORTED_MODULE_2__.E,defaultValues),2),state=_a[0],dispatch=_a[1],onSubmit=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){"KEEP"===state.signatureConfirmationType?onCancel():onSubmitToParent({hasSignatureConfirmation:state.hasSignatureConfirmation,signatureConfirmationType:state.signatureConfirmationType})}),[state,onCancel,onSubmitToParent]),setHasSignatureConfirmation=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(enabled){dispatch({type:enabled?_types__WEBPACK_IMPORTED_MODULE_1__.zT.STANDARD:"DISABLED"})}),[]),setSignatureConfirmationType=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(type){switch(type){case"KEEP":case _types__WEBPACK_IMPORTED_MODULE_1__.zT.ADULT:case _types__WEBPACK_IMPORTED_MODULE_1__.zT.STANDARD:return void dispatch({type});default:return}}),[]);return{hasSignatureConfirmation:state.hasSignatureConfirmation,signatureConfirmationType:state.signatureConfirmationType,onSubmit,setHasSignatureConfirmation,setSignatureConfirmationType}}},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/hooks.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{kK:()=>useDefaultSignatureContent,xx:()=>useExtrasInsuranceFromBatch,vd:()=>useExtrasSignatureFromBatch,hp:()=>useInsuranceModalForm,$V:()=>useOnSubmitSignature,s5:()=>useShipmentsExtras,vE:()=>useSignatureConfirmationDescription});var _a,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react=__webpack_require__("./node_modules/react/index.js"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.js"),types=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/types.ts"),adultSignatureConfirmationOption={value:types.zT.ADULT,label:"An adult must sign"},standardSignatureConfirmationOption={value:types.zT.STANDARD,label:"Anyone can sign"},signatureConfirmationMap=((_a={})[types.zT.ADULT]=adultSignatureConfirmationOption,_a[types.zT.STANDARD]=standardSignatureConfirmationOption,_a);function useShipmentsExtras(){var _a=(0,tslib_es6.zs)((0,react.useState)(!1),2),addOrEditInsurance=_a[0],setAddOrEditInsurance=_a[1];return{addOrEditInsurance,onClickAddOrEditInsurance:function(){setAddOrEditInsurance(!0)},onClickCancelInsurance:function(){setAddOrEditInsurance(!1)}}}function useExtrasSignatureFromBatch(isBatch,signatureConfirmation){if(!isBatch)return signatureConfirmation||void 0}function useExtrasInsuranceFromBatch(isBatch,insuranceExtra){if(!isBatch)return insuranceExtra||void 0}function useDefaultSignatureContent(extrasSignature){return{defaultSignatureContent:(0,react.useMemo)((function(){return extrasSignature?{hasSignatureConfirmation:extrasSignature.hasSignatureConfirmation,signatureConfirmationType:extrasSignature.signatureConfirmationType||void 0}:{hasSignatureConfirmation:!1}}),[extrasSignature])}}function useOnSubmitSignature(onSubmit,setShowModal){var onSubmitSignature=(0,react.useCallback)((function(_a){var hasSignatureConfirmation=_a.hasSignatureConfirmation,signatureConfirmationType=_a.signatureConfirmationType;onSubmit({signatureConfirmation:hasSignatureConfirmation?{hasSignatureConfirmation,signatureConfirmationType}:null}),setShowModal(!1)}),[onSubmit,setShowModal]);return{onSubmitSignature}}function useSignatureConfirmationDescription(signatureFormValues,isBatch,t,mixedSelection){var signatureConfirmationDescription=(0,react.useMemo)((function(){var _a,hasSignatureConfirmation=signatureFormValues.hasSignatureConfirmation,signatureConfirmationType=signatureFormValues.signatureConfirmationType;return hasSignatureConfirmation&&signatureConfirmationType?isBatch&&hasSignatureConfirmation&&mixedSelection?t("insurance.numOfRequired",{numRequired:mixedSelection.numberWithSignature,numOrders:mixedSelection.numberSelected}):(null===(_a=signatureConfirmationMap[signatureConfirmationType])||void 0===_a?void 0:_a.label)||"":t("shipmentExtras.notAdded")}),[isBatch,signatureFormValues,t]);return{signatureConfirmationDescription}}function useInsuranceModalForm(defaultValues,onSubmitToParent){var insuranceForm=(0,index_esm.mN)({defaultValues}),control=insuranceForm.control,watch=insuranceForm.watch,setValue=insuranceForm.setValue,getValues=insuranceForm.getValues,handleSubmit=insuranceForm.handleSubmit,errors=insuranceForm.formState.errors,insured=watch("hasInsurance"),insuredValue=watch("amount"),currency=watch("currency");(0,react.useEffect)((function(){setValue("hasInsurance",defaultValues.hasInsurance),setValue("currency",defaultValues.currency),setValue("amount",defaultValues.amount),setValue("useImportedAmount",defaultValues.useImportedAmount)}),[defaultValues,setValue]);var onEnableInsured=(0,react.useCallback)((function(){setValue("hasInsurance",!0)}),[setValue]),onDisableInsured=(0,react.useCallback)((function(){setValue("hasInsurance",!1)}),[setValue]),onKeepSelection=(0,react.useCallback)((function(){setValue("hasInsurance","keep")}),[setValue]),onClickSubmit=(0,react.useCallback)((function(){handleSubmit(onSubmitToParent)()}),[handleSubmit,onSubmitToParent]);return{control,currency,getValues,setValue,errors,onEnableInsured,onDisableInsured,onKeepSelection,onClickSubmit,insured,insuredValue}}},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$H:()=>trackInsuranceUpdatedOrderDetails,Eo:()=>lineItemsFromPartialOrder,T3:()=>isDomestic,dc:()=>insuranceModalContent,jX:()=>insuredAmountFromLineItems,kB:()=>getInsuranceCost,lZ:()=>trackInsuranceUpdated});var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/lodash.js"),_utils_segment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/utils/segment/index.ts"),_pages_Orders_All_OrderDetailsPage_Tabs_ShipmentExtrasCard_Insurance_helpers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/pages/Orders/All/OrderDetailsPage/Tabs/ShipmentExtrasCard/Insurance/helpers.ts"),insuredAmountFromLineItems=function(lineItems){var output=null==lineItems?void 0:lineItems.map((function(i){return+i.totalAmount})).reduce((function(curr,accum){return curr+accum}),0);return(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isFinite)(output)?output:0},insuranceModalContent=function(extrasInsurance,order,partialOrderLineItems,batchEntry){var currencyAndAmount=(0,_pages_Orders_All_OrderDetailsPage_Tabs_ShipmentExtrasCard_Insurance_helpers__WEBPACK_IMPORTED_MODULE_2__.R9)(extrasInsurance,order,partialOrderLineItems,batchEntry);return{hasInsurance:!!extrasInsurance,amount:"".concat(currencyAndAmount.amount),useImportedAmount:!1,currency:currencyAndAmount.currency}},lineItemsFromPartialOrder=function(orderLineItems,batchEntryLineItems){if(orderLineItems&&batchEntryLineItems){var targetLineItems=batchEntryLineItems.reduce((function(accum,curr){return accum[curr.objectId]=!0,accum}),{}),output=orderLineItems.filter((function(lineItem){return!!targetLineItems[lineItem.objectId]}));return output.length?output:void 0}},getInsuranceCost=function(userInsuranceRate,declaredValue,rateCost,numOrdersSelected){return void 0===rateCost&&(rateCost=0),void 0===numOrdersSelected&&(numOrdersSelected=1),(numOrdersSelected*declaredValue+rateCost)*userInsuranceRate},trackInsuranceUpdated=function(insuranceAmount,userInsuranceRate){(0,_utils_segment__WEBPACK_IMPORTED_MODULE_1__.u4)(_utils_segment__WEBPACK_IMPORTED_MODULE_1__.sV.insurance_updated,{total_value_of_order:parseFloat(insuranceAmount)||0,insurance_price:getInsuranceCost(userInsuranceRate,parseFloat(insuranceAmount)||0)})};function trackInsuranceUpdatedOrderDetails(insuranceAmount,userInsuranceRate,insurance_option){(0,_utils_segment__WEBPACK_IMPORTED_MODULE_1__.u4)(_utils_segment__WEBPACK_IMPORTED_MODULE_1__.sV.insurance_updated,{total_value_of_order:parseFloat(insuranceAmount)||0,insurance_price:getInsuranceCost(userInsuranceRate,parseFloat(insuranceAmount)||0),insurance_option})}var isDomestic=function(batchEntry){var _a,_b;return(null===(_a=null==batchEntry?void 0:batchEntry.addressFrom)||void 0===_a?void 0:_a.country)===(null===(_b=null==batchEntry?void 0:batchEntry.addressTo)||void 0===_b?void 0:_b.country)}},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{nB:()=>SelectedParcelType,tf:()=>blackbeardDistanceUnit,zT:()=>blackbeardSignatureConfirmation});var blackbeardDistanceUnit={CM:"cm",IN:"in",MM:"mm"};var SelectedParcelType=function(){function SelectedParcelType(oneOffBoxOrTubeSelected,oneOffPolymailerSelected,selectedUserParcelTemplate,selectedCarrierParcelTemplate){this.oneOffBoxOrTubeSelected=oneOffBoxOrTubeSelected,this.oneOffPolymailerSelected=oneOffPolymailerSelected,this.selectedUserParcelTemplate=selectedUserParcelTemplate,this.selectedCarrierParcelTemplate=selectedCarrierParcelTemplate}return SelectedParcelType.unselected=function(){return new SelectedParcelType(!1,!1)},SelectedParcelType.selectCustomBoxOrTube=function(){return new SelectedParcelType(!0,!1)},SelectedParcelType.selectCustomPolymailer=function(){return new SelectedParcelType(!1,!0)},SelectedParcelType.selectUserParcelTemplate=function(template){return new SelectedParcelType(!1,!1,template)},SelectedParcelType.selectCarrierParcelTemplate=function(template){return new SelectedParcelType(!1,!1,void 0,template)},SelectedParcelType.prototype.selectFromTemplate=function(userTemplate,carrierTemplate){return userTemplate||carrierTemplate?new SelectedParcelType(!1,!1,userTemplate,carrierTemplate):this},SelectedParcelType.prototype.isUnselected=function(){return!this.isCustomSelected()&&!this.isTemplateSelected()},SelectedParcelType.prototype.isCustomSelected=function(){return this.isCustomBoxOrTubeSelected()||this.isCustomPolymailerSelected()},SelectedParcelType.prototype.isTemplateSelected=function(){return this.isUserParcelTemplateSelected()||this.isCarrierParcelTemplateSelected()},SelectedParcelType.prototype.isCustomBoxOrTubeSelected=function(){return this.oneOffBoxOrTubeSelected},SelectedParcelType.prototype.isCustomPolymailerSelected=function(){return this.oneOffPolymailerSelected},SelectedParcelType.prototype.isUserParcelTemplateSelected=function(){return void 0!==this.selectedUserParcelTemplate},SelectedParcelType.prototype.isCarrierParcelTemplateSelected=function(){return void 0!==this.selectedCarrierParcelTemplate},SelectedParcelType.prototype.getSelectedUserParcelTemplate=function(){return this.selectedUserParcelTemplate},SelectedParcelType.prototype.getSelectedCarrierParcelTemplate=function(){return this.selectedCarrierParcelTemplate},SelectedParcelType.prototype.getSelectedParcelTemplate=function(){return this.isUserParcelTemplateSelected()?this.getSelectedUserParcelTemplate():this.getSelectedCarrierParcelTemplate()},SelectedParcelType.prototype.isEqual=function(other){return this.isUnselected()?other.isUnselected():this.isCustomBoxOrTubeSelected()?other.isCustomBoxOrTubeSelected():this.isCustomPolymailerSelected()?other.isCustomPolymailerSelected():JSON.stringify(this.getSelectedParcelTemplate())===JSON.stringify(other.getSelectedParcelTemplate())},SelectedParcelType}(),blackbeardSignatureConfirmation={STANDARD:"STANDARD",ADULT:"ADULT",CERTIFIED:"CERTIFIED",INDIRECT:"INDIRECT",CARRIER_CONFIRMATION:"CARRIER_CONFIRMATION"}},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{WM:()=>getRateValueTranslated,WW:()=>shouldUseKeep,gG:()=>getEstimatedDaysTranslated});var _constants_currency__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/constants/currency.ts"),getEstimatedDaysTranslated=(__webpack_require__("./app/constants/signatureConfirmation.ts"),__webpack_require__("./app/types/SignatureConfirmation.ts"),__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/utils.ts"),function(estimatedDays,t){return estimatedDays?t("translations:day",{count:estimatedDays}):t("orders:calculateRates:rates:info:etaUnavailable")}),getRateValueTranslated=function(amount,currency,t){var noValue="".concat(_constants_currency__WEBPACK_IMPORTED_MODULE_0__.q[currency].symbol,"—");return Number(amount)?t("translations:currency",{value:{value:Number(amount),currency_iso:currency}}):noValue};function shouldUseKeep(mixedSelection){return mixedSelection&&mixedSelection.numberWithInsurance>0&&mixedSelection.numberSelected>1}},"./app/pages/Orders/Blackbeard/hooks/hooks/useGroupedRates.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>useGroupedRates});var lodash_es_flatten__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/lodash-es/flatten.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_selectors_batch_entry_composite_selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/selectors/batch-entry.composite.selectors.ts"),_selectors_providers_selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/selectors/providers.selectors.ts"),_selectors_rates_selectors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./app/selectors/rates.selectors.ts"),_types_Rate__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./app/types/Rate.ts");function useGroupedRates(selectedOrders){var userDefaultReturnServiceLevel=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)(_selectors_providers_selectors__WEBPACK_IMPORTED_MODULE_3__.tS),batchEntryIds=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{batchEntryIds:(0,lodash_es_flatten__WEBPACK_IMPORTED_MODULE_6__.A)(Object.values(selectedOrders))}}),[selectedOrders]),validBatchEntries=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)((function(state){return(0,_selectors_batch_entry_composite_selectors__WEBPACK_IMPORTED_MODULE_2__.mT)(state,batchEntryIds)})),selectedRatesForValidOrders=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)((function(state){return(0,_selectors_batch_entry_composite_selectors__WEBPACK_IMPORTED_MODULE_2__.Qt)(state,batchEntryIds)})),ratesData=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.d4)(_selectors_rates_selectors__WEBPACK_IMPORTED_MODULE_4__.aT);return{groupedRates:(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_types_Rate__WEBPACK_IMPORTED_MODULE_5__.L4)(selectedRatesForValidOrders.map((function(rate){return rate.objectId})),ratesData,validBatchEntries)}),[ratesData,selectedRatesForValidOrders,validBatchEntries]),userDefaultReturnServiceLevel}}},"./app/utils/signature.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{F:()=>mustHaveSignatureConfirmation,q:()=>shouldHideRemoveSignature});var shouldHideRemoveSignature=function(orderSelection,batchEntryData){return Object.values(orderSelection).flat().map((function(batchEntryId){return batchEntryData[batchEntryId]})).some((function(batchEntry){return mustHaveSignatureConfirmation(batchEntry)}))},mustHaveSignatureConfirmation=function(batchEntry){var _a,_b;return!!batchEntry&&(null===(_b=null===(_a=batchEntry.extras)||void 0===_a?void 0:_a.alcohol)||void 0===_b?void 0:_b.containsAlcohol)}}}]);