"use strict";(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[8161],{"./app/constants/api.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$J:()=>OVERRIDE_ADDRESS_VERSION,Sh:()=>OVERRIDE_ADDRESS_HEADER,V1:()=>V1,X1:()=>LATEST_VERSION,XP:()=>VERSION_HEADER});var V1="2014-02-11",LATEST_VERSION="2018-02-08",VERSION_HEADER="Shippo-API-Version",OVERRIDE_ADDRESS_HEADER="Shippo-Override-Addresses",OVERRIDE_ADDRESS_VERSION="V2"},"./app/contexts/DrawerProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>DrawerProvider,g:()=>useDrawerContext});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),react=__webpack_require__("./node_modules/react/index.js"),DrawerContext=(0,react.createContext)({isOpen:!1,footerOptions:{},setFooterOptions:function(){},setIsOpen:function(){}}),DrawerProvider=function(_a){var drawerInitialSettings=_a.drawerInitialSettings,children=_a.children,_b=function(_a){var _b=void 0===_a?{}:_a,_c=_b.isOpen,isOpen=void 0!==_c&&_c,_d=_b.footerOptions,footerOptions=void 0===_d?{}:_d,_e=(0,tslib_es6.zs)((0,react.useState)(isOpen),2),drawerIsOpen=_e[0],setDrawerIsOpen=_e[1],_f=(0,tslib_es6.zs)((0,react.useState)(footerOptions),2),drawerFooterOptions=_f[0],setDrawerFooterOptions=_f[1];return{isOpen:drawerIsOpen,setIsOpen:(0,react.useCallback)((function(value,callback){setDrawerIsOpen(value),callback&&callback()}),[setDrawerIsOpen]),footerOptions:drawerFooterOptions,setFooterOptions:setDrawerFooterOptions}}(drawerInitialSettings),isOpen=_b.isOpen,setIsOpen=_b.setIsOpen,footerOptions=_b.footerOptions,setFooterOptions=_b.setFooterOptions;return(0,emotion_react_jsx_runtime_browser_esm.Y)(DrawerContext.Provider,(0,tslib_es6.Cl)({value:{isOpen,setIsOpen,footerOptions,setFooterOptions}},{children}))},useDrawerContext=function(){return(0,react.useContext)(DrawerContext)}},"./app/contexts/GlobalComponentsProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>useGlobalComponentsContext});var react=__webpack_require__("./node_modules/react/index.js");__webpack_require__("./node_modules/@goshippo/libraries/dist/esm/shared/NoticeAlert/index.js");__webpack_require__("./app/utils/translate.ts"),__webpack_require__("./node_modules/react-redux/es/index.js");var GlobalComponentsContext=(0,react.createContext)({snackbar:{addSnackbarAlert:function(){},addSnackbarActionAlert:function(){}}}),useGlobalComponentsContext=function(){return{snackbar:(0,react.useContext)(GlobalComponentsContext).snackbar}}},"./app/hooks/useRequest.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>useRequest});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),axios__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/axios/index.js"),axios__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");function useRequest(){var _this=this,_a=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.zs)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),2),loading=_a[0],setLoading=_a[1],_b=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.zs)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),2),data=_b[0],setData=_b[1],_c=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.zs)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),2),error=_c[0],setError=_c[1],_d=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.zs)((0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(void 0),2),errorDetails=_d[0],setErrorDetails=_d[1],unmountedRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(!1);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){return function(){unmountedRef.current=!0}}),[]);var reset=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(){setLoading(!1),setData(null),setError(null),setErrorDetails(void 0)}),[]),request=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(requestFunction){return setLoading(!0),setData(null),setError(null),(0,tslib__WEBPACK_IMPORTED_MODULE_2__.sH)(_this,void 0,void 0,(function(){var response,e_1;return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.YH)(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,requestFunction()];case 1:return response=_a.sent(),unmountedRef.current?[2]:(setData(response),setLoading(!1),[3,3]);case 2:return e_1=_a.sent(),unmountedRef.current?[2]:(axios__WEBPACK_IMPORTED_MODULE_0___default().isAxiosError(e_1)?setError(e_1.message):setError((null==e_1?void 0:e_1.message)||"An error was encountered loading data"),setErrorDetails(e_1.response),setLoading(!1),[3,3]);case 3:return[2]}}))}))}),[]);return{request,reset,loading,data,error,errorDetails}}},"./app/pages/Orders/Blackbeard/LabelPurchase/views/AddressForm/AddressFormMui.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>AddressForm_AddressFormMui});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),Box=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),Alert=__webpack_require__("./node_modules/@goshippo/components/esm/Alert/Alert.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),colors=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),TextField=__webpack_require__("./node_modules/@goshippo/components/esm/TextField/TextField.js"),FormHelperText=__webpack_require__("./node_modules/@goshippo/components/esm/FormHelperText/FormHelperText.js"),Grid=__webpack_require__("./node_modules/@goshippo/components/esm/Grid/Grid.js"),FormControlLabel=__webpack_require__("./node_modules/@goshippo/components/esm/FormControlLabel/FormControlLabel.js"),Checkbox=__webpack_require__("./node_modules/@goshippo/components/esm/Checkbox/Checkbox.js"),CountryField=__webpack_require__("./node_modules/@goshippo/libraries/dist/esm/shared/CountryField/index.js"),Autocomplete=__webpack_require__("./node_modules/@goshippo/components/esm/Autocomplete/Autocomplete.js"),react=__webpack_require__("./node_modules/react/index.js"),hooks=__webpack_require__("./app/components/shared/AddressForm/FormsComponents/StateField/hooks.ts");const StateField_StateFieldMui=(0,react.forwardRef)((function(_a,inputRef){var country=_a.country,onChange=_a.onChange,label=_a.label,formBaseName=_a.formBaseName,value=(0,tslib_es6.Tt)(_a,["country","onChange","label","formBaseName"]).value,_b=(0,hooks.n)(value,country||void 0,onChange),stateOptions=_b.stateOptions,setStateLabelMandatory=_b.setStateLabelMandatory,currentOptionValue=_b.currentOptionValue,optionChanged=_b.optionChanged,onTextFieldChanged=(0,react.useCallback)((function(e){optionChanged(e.target.value||"")}),[optionChanged]),onChangeAutocompleteSelect=(0,react.useCallback)((function(_e,option){optionChanged((null==option?void 0:option.value)||null)}),[optionChanged]);return stateOptions.length?(0,emotion_react_jsx_runtime_browser_esm.Y)(Autocomplete.A,{id:"".concat(formBaseName,"-state"),options:stateOptions,autoHighlight:!0,ref:inputRef,getOptionLabel:function(option){return option.label},onChange:onChangeAutocompleteSelect,defaultValue:currentOptionValue,value:currentOptionValue,renderInput:function(params){return(0,emotion_react_jsx_runtime_browser_esm.Y)(TextField.A,(0,tslib_es6.Cl)({name:"state"},params,{label,required:setStateLabelMandatory}))}}):(0,emotion_react_jsx_runtime_browser_esm.Y)(TextField.A,{name:"state",inputRef,label,value:value||"",onChange:onTextFieldChanged})}));var templateObject_1,templateObject_2,templateObject_3,templateObject_4,templateObject_5,templateObject_6,templateObject_7,AddressForm_hooks=__webpack_require__("./app/components/shared/AddressForm/hooks.ts"),addressBook=__webpack_require__("./app/constants/addressBook.ts"),countries=__webpack_require__("./app/constants/countries.ts"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.js"),user_address_selectors=__webpack_require__("./app/selectors/user-address.selectors.ts"),Address=__webpack_require__("./app/types/Address.ts"),validations=__webpack_require__("./app/utils/validations.ts"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),Button=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),Container=__webpack_require__("./node_modules/@goshippo/components/esm/Container/Container.js"),FormGroupHeader=(0,styled.Ay)(Typography.A)(templateObject_1||(templateObject_1=(0,tslib_es6.ue)(["\n  margin-bottom: 0.5rem;\n"],["\n  margin-bottom: 0.5rem;\n"]))),FormGroup=(0,styled.Ay)(Box.A)(templateObject_2||(templateObject_2=(0,tslib_es6.ue)(["\n  margin-bottom: 0.25rem;\n"],["\n  margin-bottom: 0.25rem;\n"]))),FormInput=(0,styled.Ay)(Box.A)(templateObject_3||(templateObject_3=(0,tslib_es6.ue)(["\n  margin-bottom: 1rem;\n"],["\n  margin-bottom: 1rem;\n"]))),StateZipContainer=(0,styled.Ay)(Grid.A)(templateObject_4||(templateObject_4=(0,tslib_es6.ue)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n"],["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n"]))),AddressSuggestionInput_hooks=((0,styled.Ay)("div")(templateObject_5||(templateObject_5=(0,tslib_es6.ue)(["\n  margin-left: 1rem;\n"],["\n  margin-left: 1rem;\n"]))),(0,styled.Ay)(FormControlLabel.A)(templateObject_6||(templateObject_6=(0,tslib_es6.ue)(["\n  font-weight: 400;\n  font-size: 0.875rem;\n  line-height: 1.5rem;\n  margin-bottom: 0.75rem;\n"],["\n  font-weight: 400;\n  font-size: 0.875rem;\n  line-height: 1.5rem;\n  margin-bottom: 0.75rem;\n"]))),(0,styled.Ay)(Button.A)(templateObject_7||(templateObject_7=(0,tslib_es6.ue)(["\n  min-width: 10.625rem;\n  min-height: 3rem;\n"],["\n  min-width: 10.625rem;\n  min-height: 3rem;\n"]))),(0,styled.Ay)(Button.A)((function(){var _a;return(_a={display:"none"})[shippoTheme.A.breakpoints.up("lg")]={display:"inherit",minHeight:"3rem"},_a})),(0,styled.Ay)(Container.A)((function(){return{}})),__webpack_require__("./app/components/shared/AddressSuggestionInput/hooks.tsx")),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),ListItemText=__webpack_require__("./node_modules/@goshippo/components/esm/ListItemText/ListItemText.js"),ListItem=__webpack_require__("./node_modules/@goshippo/components/esm/ListItem/ListItem.js"),InputAdornment=__webpack_require__("./node_modules/@goshippo/components/esm/InputAdornment/InputAdornment.js"),CircularProgress=__webpack_require__("./node_modules/@goshippo/components/esm/CircularProgress/CircularProgress.js"),ItemText=function(_a){var option=_a.option;return!option.template&&option.label?(0,emotion_react_jsx_runtime_browser_esm.Y)(ListItemText.A,{primary:option.label}):option.template||option.label?option.template?(0,emotion_react_jsx_runtime_browser_esm.Y)(ListItemText.A,{primary:option.template}):null:(0,emotion_react_jsx_runtime_browser_esm.Y)(ListItemText.A,{primary:option.value})};const AddressForm_AutocompleteInput=function(_a){var name=_a.name,id=_a.id,inputValue=_a.value,dataE2E=_a.dataE2E,dataTestid=_a.dataTestid,formState=_a.formState,t=_a.t,options=_a.options,loading=_a.loading,onSelect=_a.onSelect,onDebouncedChange=_a.onDebouncedChange,filterOptions=_a.filterOptions,_b=(0,tslib_es6.zs)((0,react.useState)(!1),2),open=_b[0],setOpen=_b[1],handleOnChange=(0,react.useCallback)((function(_event,newValue){var _a;"object"==typeof newValue&&"Address"===(null===(_a=null==newValue?void 0:newValue.data)||void 0===_a?void 0:_a.Type)&&setOpen(!1),onSelect&&onSelect(newValue)}),[onSelect]),onClickFocus=(0,react.useCallback)((function(){onDebouncedChange&&onDebouncedChange(inputValue)}),[inputValue,onDebouncedChange]),onInputChange=(0,react.useCallback)((function(event,newInputValue){"click"!==event.type&&onDebouncedChange&&onDebouncedChange(newInputValue)}),[onDebouncedChange]),handleOpen=(0,react.useCallback)((function(){return setOpen(!0)}),[]),handleBlur=(0,react.useCallback)((function(){return setOpen(!1)}),[]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(Autocomplete.A,{freeSolo:!0,open,onOpen:handleOpen,onBlur:handleBlur,fullWidth:!0,autoHighlight:!0,handleHomeEndKeys:!0,id:id||name,"data-e2e":dataE2E||void 0,"data-testid":dataTestid,value:null,onChange:handleOnChange,inputValue,onInputChange,options,openOnFocus:!0,filterOptions,componentsProps:{clearIndicator:{style:{fontSize:"1.5rem",lineHeight:1.8}}},ListboxProps:{style:{border:"1px solid ".concat(colors.T.borders),boxShadow:"0px 6px 20px rgba(0, 0, 0, 0.15)"}},renderOption:function(props,option){return(0,emotion_react_browser_esm.n)(ListItem.A,(0,tslib_es6.Cl)({},props,{key:option.value}),(0,emotion_react_jsx_runtime_browser_esm.Y)(ItemText,{option}))},renderInput:function(params){var _a;return(0,emotion_react_jsx_runtime_browser_esm.Y)("div",{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(TextField.A,(0,tslib_es6.Cl)({},params,{name,required:!0,fullWidth:!0,autoComplete:"address-line1",error:Boolean(formState.errors.street1),label:t("orders:manualLabel:street"),helperText:(null===(_a=formState.errors)||void 0===_a?void 0:_a.street1)?formState.errors.street1.message:"",onClick:onClickFocus,onFocus:onClickFocus,InputProps:(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},params.InputProps),{endAdornment:loading&&(0,emotion_react_jsx_runtime_browser_esm.Y)(InputAdornment.A,(0,tslib_es6.Cl)({position:"end",sx:{mr:.5}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(CircularProgress.A,{size:"medium"})}))})}))})}})};var showAllOptions=function(filterOptions){return filterOptions};const AddressForm_AddressSuggestionInput=function(_a){var name=_a.name,value=_a.value,id=_a.id,dataE2E=_a.dataE2E,dataTestid=_a.dataTestid,onChange=_a.onChange,onAddress=_a.onAddress,formState=_a.formState,t=_a.t,countryIso2=_a.countryIso2,_b=(0,AddressSuggestionInput_hooks.M)(value,onChange,onAddress,countryIso2),options=_b.options,suggestionsLoading=_b.suggestionsLoading,selectedAddress=_b.selectedAddress,handleValue=_b.handleValue,inputValue=_b.inputValue;return(0,emotion_react_jsx_runtime_browser_esm.Y)(AddressForm_AutocompleteInput,{name,value:inputValue||"",id,dataE2E:dataE2E||void 0,dataTestid,formState,t,options,loading:suggestionsLoading,onSelect:selectedAddress,onDebouncedChange:handleValue,filterOptions:showAllOptions})};var validate=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/views/AddressForm/validate.ts"),emailRegex=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,AddressFormGroupWithMargin=(0,emotion_styled_browser_esm.A)(FormGroup)((function(){return{marginBottom:"0.25rem"}})),AddressFormGroupWithOutMargin=(0,emotion_styled_browser_esm.A)(FormGroup)((function(){return{marginBottom:"0"}}));const AddressForm_AddressFormMui=function(_a){var _b,_c,addressType,formControls=_a.formControls,editingAddressType=_a.editingAddressType,hasRecipientPhoneRequireError=_a.hasRecipientPhoneRequireError,_d=_a.showIsResidential,showIsResidential=void 0===_d||_d,t=_a.t,_e=_a.isAddingNewAddress,isAddingNewAddress=void 0!==_e&&_e,hasReturnBatchEntry=_a.hasReturnBatchEntry,isEmailRequired=editingAddressType===addressBook.y9,isPhoneNumberRequired=isEmailRequired||hasRecipientPhoneRequireError,shouldShowPhoneRecipientAlert=hasRecipientPhoneRequireError&&"to"===editingAddressType,register=formControls.register,setValue=formControls.setValue,control=formControls.control,formState=formControls.formState,getValues=formControls.getValues,trigger=formControls.trigger,watch=formControls.watch,AddressFormGroup=(addressType=editingAddressType)===addressBook.y9||addressType===addressBook.lj?AddressFormGroupWithOutMargin:AddressFormGroupWithMargin;(0,react.useEffect)((function(){!1===isAddingNewAddress&&setTimeout(trigger,0)}),[trigger,isAddingNewAddress]);var defaultCountry=(0,user_address_selectors.zf)(),_f=(0,AddressForm_hooks.w7)(formControls,!1,"address-cell",formState),countryDefaultObj=_f.countryDefaultObj,watchCountry=_f.watchCountry,handleAutocomplete=(0,AddressForm_hooks.DL)(setValue).handleAutocomplete,phoneInputValue=watch("phone");(0,react.useEffect)((function(){phoneInputValue&&trigger("phone")}),[watchCountry,trigger,phoneInputValue]);var shouldShowResidentialCheckbox=!(hasReturnBatchEntry&&editingAddressType===addressBook.i1)&&(showIsResidential||editingAddressType===addressBook.i1);return(0,emotion_react_jsx_runtime_browser_esm.FD)(Box.A,{children:[shouldShowPhoneRecipientAlert&&(0,emotion_react_jsx_runtime_browser_esm.Y)(Alert.A,(0,tslib_es6.Cl)({severity:"error",sx:{boxShadow:"none",marginBottom:shippoTheme.A.spacing(2),backgroundColor:colors.T.accent.background.error,border:"none"}},{children:t("orders:manualLabel:error:phoneRequireAlert")})),(0,emotion_react_jsx_runtime_browser_esm.FD)(FormGroup,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(FormGroupHeader,(0,tslib_es6.Cl)({component:"h1",variant:"bodyEmphasized"},{children:t("orders:manualLabel:contactInformation")})),(0,emotion_react_jsx_runtime_browser_esm.Y)(FormGroup,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(FormInput,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(index_esm.xI,{name:"name",control,defaultValue:"",rules:{required:!0,maxLength:validate.P.name},render:function(_a){var _b=_a.field,ref=_b.ref,value=_b.value,rest=(0,tslib_es6.Tt)(_b,["ref","value"]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(TextField.A,(0,tslib_es6.Cl)({error:Boolean(formState.errors.name),label:t("orders:manualLabel:name"),required:!0,fullWidth:!0,inputRef:ref,value:value||"",helperText:(0,validate.i)(t,null==formState?void 0:formState.errors,"name")},rest))}})})}),(0,emotion_react_jsx_runtime_browser_esm.Y)(FormInput,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(index_esm.xI,{name:"company",control,defaultValue:"",rules:{maxLength:validate.P.company},render:function(_a){var _b=_a.field,ref=_b.ref,value=_b.value,rest=(0,tslib_es6.Tt)(_b,["ref","value"]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(TextField.A,(0,tslib_es6.Cl)({error:Boolean(formState.errors.company),label:t("orders:manualLabel:company"),fullWidth:!0,inputRef:ref,value:value||"",helperText:(0,validate.i)(t,null==formState?void 0:formState.errors,"company")},rest))}})}),(0,emotion_react_jsx_runtime_browser_esm.Y)(FormGroup,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(FormInput,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(index_esm.xI,{name:"email",control,defaultValue:"",rules:{maxLength:validate.P.email},render:function(_a){var _b=_a.field,value=(_b.ref,_b.value),rest=(0,tslib_es6.Tt)(_b,["ref","value"]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(TextField.A,(0,tslib_es6.Cl)({error:Boolean(formState.errors.email),label:t("orders:manualLabel:email"),fullWidth:!0,required:!!isEmailRequired,inputRef:register("email",{required:{value:!!isEmailRequired,message:t("orders:manualLabel:error:emailRequired")},pattern:{value:emailRegex,message:t("orders:manualLabel:error:emailInvalid")}}).ref,value:value||"",helperText:(0,validate.i)(t,null==formState?void 0:formState.errors,"email")},rest))}})})}),(0,emotion_react_jsx_runtime_browser_esm.Y)(FormGroup,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(FormInput,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(index_esm.xI,{name:"phone",control,defaultValue:"",rules:{maxLength:validate.P.phone},render:function(_a){var _b,_c,_d=_a.field,value=(_d.ref,_d.value),rest=(0,tslib_es6.Tt)(_d,["ref","value"]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(TextField.A,(0,tslib_es6.Cl)({error:Boolean(formState.errors.phone),label:t("orders:manualLabel:phone"),inputMode:"tel",fullWidth:!0,required:!!isPhoneNumberRequired,inputRef:register("phone",{required:{value:!!isPhoneNumberRequired,message:editingAddressType===addressBook.y9?t("orders:manualLabel:error:phoneRequired"):null===(_c=null===(_b=formState.errors)||void 0===_b?void 0:_b.phone)||void 0===_c?void 0:_c.message},validate:function(value){return(0,validations.st)(value,watchCountry)}}).ref,value:value||"",helperText:(0,validate.i)(t,null==formState?void 0:formState.errors,"phone")},rest))}})})})]}),(0,emotion_react_jsx_runtime_browser_esm.FD)(AddressFormGroup,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(FormGroupHeader,(0,tslib_es6.Cl)({component:"h2",variant:"bodyEmphasized"},{children:t("orders:manualLabel:address")})),(0,emotion_react_jsx_runtime_browser_esm.FD)(FormGroup,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(FormInput,(0,tslib_es6.Cl)({sx:(0,AddressForm_hooks.qJ)(true,formState,"country")&&formState.errors.country?{mb:0}:{}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(index_esm.xI,{rules:{required:!0},name:"country",control,defaultValue:countries.Ay.US,render:function(_a){var _b=_a.field,ref=_b.ref,value=_b.value,rest=(0,tslib_es6.Tt)(_b,["ref","value"]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(CountryField.Ay,(0,tslib_es6.Cl)({},rest,{name:"country",formBaseName:"drawer-address-select",label:t("orders:manualLabel:country"),required:!0,value:value||void 0,defaultCountry,inputRef:ref}))}})})),(0,AddressForm_hooks.qJ)(true,formState,"country")&&formState.errors.country&&(0,emotion_react_jsx_runtime_browser_esm.Y)(FormHelperText.A,(0,tslib_es6.Cl)({error:!0,sx:{ml:1.75,mr:1.75}},{children:t("orders:manualLabel:error:countryInvalid")}))]}),(0,emotion_react_jsx_runtime_browser_esm.Y)(FormGroup,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(FormInput,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(index_esm.xI,{control,render:function(_a){var _b=_a.field,rest=(_b.ref,(0,tslib_es6.Tt)(_b,["ref"]));return(0,emotion_react_jsx_runtime_browser_esm.Y)(AddressForm_AddressSuggestionInput,(0,tslib_es6.Cl)({},rest,{name:"street1",onAddress:handleAutocomplete,formState,t,countryIso2:watch("country.iso2")}))},name:"street1",defaultValue:"",rules:{required:"Street can't be blank",maxLength:{value:validate.P.street1,message:t("orders:manualLabel:error:maxLengthFieldWithName",{fieldName:"Street1",maxLength:validate.P.street1})}}})})}),(0,emotion_react_jsx_runtime_browser_esm.Y)(FormInput,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(index_esm.xI,{name:"street2",control,defaultValue:"",rules:{maxLength:validate.P.street2},render:function(_a){var _b=_a.field,value=(_b.ref,_b.value),rest=(0,tslib_es6.Tt)(_b,["ref","value"]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(TextField.A,(0,tslib_es6.Cl)({error:Boolean(formState.errors.street2),label:t("orders:manualLabel:streetLine2"),fullWidth:!0,autoComplete:"address-line2",inputRef:register("street2").ref,value:value||"",helperText:(0,validate.i)(t,null==formState?void 0:formState.errors,"street2")},rest))}})}),(0,emotion_react_jsx_runtime_browser_esm.Y)(FormGroup,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(FormInput,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(index_esm.xI,{name:"city",control,defaultValue:"",rules:{required:!0,maxLength:validate.P.city},render:function(_a){var _b=_a.field,value=(_b.ref,_b.value),rest=(0,tslib_es6.Tt)(_b,["ref","value"]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(TextField.A,(0,tslib_es6.Cl)({error:Boolean(formState.errors.city),label:t("orders:manualLabel:city"),required:!0,fullWidth:!0,inputRef:register("city",{required:{value:!0,message:t("orders:manualLabel:error:cityRequired")}}).ref,value:value||"",helperText:(0,validate.i)(t,null==formState?void 0:formState.errors,"city")},rest))}})})}),(0,emotion_react_jsx_runtime_browser_esm.FD)(StateZipContainer,(0,tslib_es6.Cl)({container:!0},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Grid.A,(0,tslib_es6.Cl)({item:!0,xs:5.75},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(FormGroup,{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(FormInput,(0,tslib_es6.Cl)({sx:{mb:0}},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(index_esm.xI,{control,defaultValue:"",name:"state",rules:{required:{value:(0,Address.xG)(countryDefaultObj),message:t("orders:manualLabel:error:stateRequired")}},render:function(_a){var _b=_a.field,ref=_b.ref,rest=(0,tslib_es6.Tt)(_b,["ref"]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(StateField_StateFieldMui,(0,tslib_es6.Cl)({country:countryDefaultObj||void 0,label:t("orders:manualLabel:state"),inputRef:ref,formBaseName:"state-field"},rest))}}),(0,AddressForm_hooks.qJ)(true,formState,"state")&&formState.errors.state&&(0,emotion_react_jsx_runtime_browser_esm.Y)(FormHelperText.A,(0,tslib_es6.Cl)({error:!0,sx:{ml:1.75,mr:1.75}},{children:null===(_c=null===(_b=formState.errors)||void 0===_b?void 0:_b.state)||void 0===_c?void 0:_c.message}))]}))})})),(0,emotion_react_jsx_runtime_browser_esm.Y)(Grid.A,(0,tslib_es6.Cl)({item:!0,xs:5.75},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(FormGroup,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(FormInput,(0,tslib_es6.Cl)({sx:{mb:0}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(index_esm.xI,{rules:{required:!0,validate:{checkZipIsValidInCountry:function(zip){return(0,validations.RF)(getValues("country"),zip)}},maxLength:validate.P.zip},name:"zip",control,defaultValue:"",render:function(_a){var _b=_a.field,value=(_b.ref,_b.value),rest=(0,tslib_es6.Tt)(_b,["ref","value"]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(TextField.A,(0,tslib_es6.Cl)({error:Boolean(formState.errors.zip),label:t("orders:manualLabel:postalCode"),className:(0,AddressForm_hooks.qJ)(true,formState,"zip")?"addError":"",required:!(!countryDefaultObj||null===countryDefaultObj)&&(0,Address.i0)(countryDefaultObj),fullWidth:!0,inputRef:register("zip",{required:!(!countryDefaultObj||null===countryDefaultObj)&&(0,Address.i0)(countryDefaultObj),validate:{isValidZipForCountry:function(value){var countryIso2=null==watchCountry?void 0:watchCountry.iso2;return!value||!countryIso2||(0,validations.RF)(countryIso2,value)}}}).ref,value:value||"",helperText:(0,validate.i)(t,null==formState?void 0:formState.errors,"zip")},rest))}})}))})}))]})),shouldShowResidentialCheckbox&&(0,emotion_react_jsx_runtime_browser_esm.Y)(Box.A,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(index_esm.xI,{name:"isResidential",control,defaultValue:!1,render:function(_a){var _b=_a.field,ref=_b.ref,value=_b.value,rest=(0,tslib_es6.Tt)(_b,["ref","value"]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(FormControlLabel.A,{label:t("orders:manualLabel:isResidential"),id:"is-residential",control:(0,emotion_react_jsx_runtime_browser_esm.Y)(Checkbox.A,(0,tslib_es6.Cl)({checked:Boolean(value),inputRef:ref},rest))})}})})]})]})}},"./app/pages/Settings/Recipients/contexts/RecipientAddressFormProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>useRecipientAddressFormContext});var react=__webpack_require__("./node_modules/react/index.js");__webpack_require__("./app/contexts/DrawerProvider.tsx"),__webpack_require__("./app/services/api.ts"),__webpack_require__("./app/utils/utils.ts");var _a,constants_api=__webpack_require__("./app/constants/api.ts");(_a={})[constants_api.Sh]=constants_api.$J;__webpack_require__("./app/types/Address.ts"),__webpack_require__("./app/contexts/GlobalComponentsProvider.tsx"),__webpack_require__("./app/hooks/useRequest.ts"),__webpack_require__("./app/utils/TrackingHelper/utils.ts");__webpack_require__("./app/utils/TrackingHelper/index.ts"),__webpack_require__("./app/utils/TrackingHelper/types.ts");var RecipientAddressFormContext=(0,react.createContext)({closeFormDrawer:function(){},createOrUpdateAddress:function(){return Promise.resolve()},deleteAddress:function(){return Promise.resolve()},editingAddress:null,openFormDrawer:function(){},setEditingAddress:function(){},setCreateAddressCallback:function(){},isAddressFormLoading:!1}),useRecipientAddressFormContext=function(){return(0,react.useContext)(RecipientAddressFormContext)}},"./app/services/api.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{YZ:()=>armorAPI,Ay:()=>services_api,i5:()=>microServiceAPI});var _a,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),axios=__webpack_require__("./node_modules/axios/index.js"),axios_default=__webpack_require__.n(axios),api=__webpack_require__("./app/constants/api.ts");function setupBaseHeaders(envId){var _a,baseHeaders=((_a={})[api.XP]=api.X1,_a);if("production"===envId)return baseHeaders;baseHeaders["X-HTTP-Request-Source"]="React-".concat(envId);var lang=function readFromLocalStorage(keyName){return window.localStorage.getItem(keyName)}("i18nextLng");return lang&&(baseHeaders["Accept-Language"]=lang),baseHeaders}axios_default().create({baseURL:"https://goshippo-dev.sisense.com"});var api_api=axios_default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")}),microServiceAPI=axios_default().create({baseURL:"https://api-dev-qa.shippodev.com",headers:(0,tslib_es6.Cl)({},setupBaseHeaders("dynamic"))}),armorAPI=axios_default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")});axios_default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")}),axios_default().create({baseURL:"https://dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")}),axios_default().create({baseURL:"https://service-dev-qa.shippodev.com/store_connect",headers:setupBaseHeaders("dynamic")}),axios_default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")}),axios_default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},setupBaseHeaders("dynamic")),(_a={},_a[api.XP]=api.V1,_a))});const services_api=api_api},"./app/pages/Orders/Blackbeard/Drawers/AddressBookDrawerForm/AddressBookDrawerForm.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AddAddress:()=>AddAddress,EditAddress:()=>EditAddress,default:()=>AddressBookDrawerForm_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),react=__webpack_require__("./node_modules/react/index.js"),Box=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),Button=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),MobileAndDesktopDrawer=__webpack_require__("./node_modules/@goshippo/libraries/dist/esm/shared/MobileAndDesktopDrawer/index.js"),AddressForm=__webpack_require__("./app/components/shared/AddressForm/index.ts"),Address=__webpack_require__("./app/types/Address.ts"),AddressFormMui=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/views/AddressForm/AddressFormMui.tsx"),DrawerProvider=__webpack_require__("./app/contexts/DrawerProvider.tsx"),RecipientAddressFormProvider=__webpack_require__("./app/pages/Settings/Recipients/contexts/RecipientAddressFormProvider.tsx"),countries=__webpack_require__("./app/constants/countries.ts"),AddressFormWrapper=function(_a){var t=_a.t,addressInfoForForm=_a.addressInfoForForm,onUpdateAddress=_a.onUpdateAddress,setFooterOptions=(0,DrawerProvider.g)().setFooterOptions,_b=(0,RecipientAddressFormProvider.O)(),closeFormDrawer=_b.closeFormDrawer,deleteAddress=_b.deleteAddress,isAddressFormLoading=_b.isAddressFormLoading,baseJsonAddress=(0,react.useMemo)((function(){return(0,Address.gJ)(addressInfoForForm)}),[addressInfoForForm]),addressFormControls=(0,AddressForm.O9)(baseJsonAddress||void 0),formState=addressFormControls.formState,handleSubmit=addressFormControls.handleSubmit,isDirty=formState.isDirty,isValid=formState.isValid,isAddressUpdate=!!(null==baseJsonAddress?void 0:baseJsonAddress.objectId),reset=addressFormControls.reset;(0,react.useEffect)((function(){reset(baseJsonAddress||{objectId:"",name:"",company:"",streetNumber:"",street1:"",street2:"",city:"",state:"",zip:"",country:countries.Ay.US,phone:"",email:"",isResidential:!1})}),[baseJsonAddress,reset]);var onSubmitForm=(0,react.useCallback)((function(newAddress){isValid&&onUpdateAddress(newAddress)}),[isValid,onUpdateAddress]),handleDeleteAddress=(0,react.useCallback)((function(){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return(null==baseJsonAddress?void 0:baseJsonAddress.objectId)?[4,deleteAddress(null==baseJsonAddress?void 0:baseJsonAddress.objectId)]:[3,2];case 1:_a.sent(),_a.label=2;case 2:return[2]}}))}))}),[null==baseJsonAddress?void 0:baseJsonAddress.objectId,deleteAddress]);return(0,react.useEffect)((function(){var handleFormSubmit=handleSubmit(onSubmitForm);setFooterOptions({footerButtonPrimary:{text:t("orders:phrases:save"),action:function(){handleFormSubmit()},disabled:!isDirty||!isValid||isAddressFormLoading},footerButtonSecondary:isAddressUpdate?void 0:{text:t("orders:phrases:cancel"),action:closeFormDrawer},explicitFooterObject:isAddressUpdate?(0,emotion_react_jsx_runtime_browser_esm.Y)(Box.A,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Button.A,(0,tslib_es6.Cl)({onClick:handleDeleteAddress,variant:"text",color:"error",disabled:isAddressFormLoading},{children:t("settings:addressBook.recipient.deleteAddress")}))}):void 0})}),[isDirty,isValid,t,isAddressUpdate,isAddressFormLoading,handleDeleteAddress]),(0,emotion_react_jsx_runtime_browser_esm.Y)(AddressFormMui.A,{t,hasRecipientPhoneRequireError:!1,formControls:addressFormControls,editingAddressType:"to",isAddingNewAddress:!isAddressUpdate})};const AddressBookDrawerForm_AddressBookDrawerForm=function(_a){var addressInfoForForm=_a.addressInfoForForm,onUpdateAddress=_a.onUpdateAddress,open=_a.open,t=_a.t,footerOptions=(0,DrawerProvider.g)().footerOptions,closeFormDrawer=(0,RecipientAddressFormProvider.O)().closeFormDrawer;return(0,emotion_react_jsx_runtime_browser_esm.Y)(MobileAndDesktopDrawer.A,(0,tslib_es6.Cl)({fullHeight:!0,fullWidth:!0,title:t(addressInfoForForm?"settings:recipients:editAddress":"settings:recipients:addAddress"),open,onClose:closeFormDrawer,footerButtonPrimary:footerOptions.footerButtonPrimary,footerButtonSecondary:footerOptions.footerButtonSecondary,explicitFooterObject:footerOptions.explicitFooterObject},{children:open&&(0,emotion_react_jsx_runtime_browser_esm.Y)(AddressFormWrapper,{t,addressInfoForForm,onUpdateAddress})}))};var redux=__webpack_require__("./node_modules/redux/es/redux.js"),translate=__webpack_require__("./app/utils/translate.ts"),reducers=__webpack_require__("./app/reducers/index.ts"),es=__webpack_require__("./node_modules/react-redux/es/index.js");const AddressBookDrawerForm_stories={title:"Address Book / Address Drawer Form",component:AddressBookDrawerForm_AddressBookDrawerForm,argTypes:{onCancel:{action:"onCancel"},onUpdateAddress:{action:"onUpdateAddress"}}};var AddressDrawerFormWithTranslate=(0,translate.Tl)(["orders","settings"])(AddressBookDrawerForm_AddressBookDrawerForm),Template=function(args){return(0,emotion_react_jsx_runtime_browser_esm.Y)(es.Kq,(0,tslib_es6.Cl)({store:(0,redux.y$)((0,redux.HY)(reducers.A))},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(DrawerProvider.T,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(AddressDrawerFormWithTranslate,(0,tslib_es6.Cl)({},args))})}))},AddAddress=Template.bind({});AddAddress.args={addressInfoForForm:null,open:!0,t:function(key){return key}};var EditAddress=Template.bind({});EditAddress.args={open:!0,t:function(key){return key}},AddAddress.parameters={...AddAddress.parameters,docs:{...AddAddress.parameters?.docs,source:{originalSource:"(args: AddressBookDrawerFormProps) => <Provider store={createStore(combineReducers(reducers))}>\n    <DrawerProvider>\n      <AddressDrawerFormWithTranslate {...args} />\n    </DrawerProvider>\n  </Provider>",...AddAddress.parameters?.docs?.source}}},EditAddress.parameters={...EditAddress.parameters,docs:{...EditAddress.parameters?.docs,source:{originalSource:"(args: AddressBookDrawerFormProps) => <Provider store={createStore(combineReducers(reducers))}>\n    <DrawerProvider>\n      <AddressDrawerFormWithTranslate {...args} />\n    </DrawerProvider>\n  </Provider>",...EditAddress.parameters?.docs?.source}}}}}]);