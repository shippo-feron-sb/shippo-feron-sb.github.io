"use strict";(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[6420],{"./app/actions/orders-batch.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$T:()=>changeBatchStep,$z:()=>ordersFetchTriggered,BM:()=>fetchTransactionData,E3:()=>generatePackingSlipsFromBatch,HW:()=>generatePackingSlipsFromBatchSuccess,J:()=>generateAllLabelsSuccess,K9:()=>pollBatchOrdersEnd,Ud:()=>generateAllLabelsError,Uk:()=>generatePackingSlipsFromBatchError,YG:()=>generateAllLabels,ZA:()=>createBatchTransactionsSuccess,_S:()=>createBatchTransactionsError,_d:()=>confirmBatchEntryRecipient,cJ:()=>pollBatchOrdersTimeout,kc:()=>createBatchTransactions,ns:()=>pollBatchOrdersStart,nv:()=>fetchOrdersBatchSuccess,s5:()=>fetchOrdersBatchError});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/actions/constants.ts");function fetchOrdersBatchSuccess(payload){return{payload,type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_FETCH_SUCCESS}}function fetchOrdersBatchError(){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_FETCH_ERROR}}function pollBatchOrdersStart(batchId,trackingReference){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_POLL_START,payload:{batchId,trackingReference}}}function pollBatchOrdersEnd(){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_POLL_END}}function pollBatchOrdersTimeout(){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_POLL_TIMEOUT}}function createBatchTransactions(batchId,rates,trackingReference){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_CREATE_TRANSACTIONS,payload:{batchId,rates,trackingReference}}}function createBatchTransactionsSuccess(rateCount){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_CREATE_TRANSACTIONS_SUCCESS,payload:{rateCount}}}function createBatchTransactionsError(error){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_CREATE_TRANSACTIONS_ERROR,payload:{error}}}function changeBatchStep(step){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_STEP_CHANGE,payload:{step}}}function generatePackingSlipsFromBatch(){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_GENERATE_PACKING_SLIPS}}function generatePackingSlipsFromBatchSuccess(payload){return{payload,type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_GENERATE_PACKING_SLIPS_SUCCESS}}function generatePackingSlipsFromBatchError(error){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_GENERATE_PACKING_SLIPS_ERROR,payload:{error}}}function generateAllLabels(){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_GENERATE_ALL_LABELS}}function generateAllLabelsSuccess(payload){return{payload,type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_GENERATE_ALL_LABELS_SUCCESS}}function generateAllLabelsError(error){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_GENERATE_ALL_LABELS_ERROR,payload:{error}}}function ordersFetchTriggered(ordersFetched){return{ordersFetched,type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_ORDERS_FETCH_TRIGGERED}}function fetchTransactionData(remainingLabels,labelRenewalDate){return{payload:{remainingLabels,labelRenewalDate},type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_TRANSACTION_DATA}}function confirmBatchEntryRecipient(batchEntryId){return{payload:{batchEntryId},type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.ORDERS_BATCH_ENTRY_CONFIRM_RECIPIENT}}},"./app/actions/routing.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Rr:()=>storeCurrentQueryParams,UQ:()=>changeQueryString,bJ:()=>updateQueryParam});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/actions/constants.ts");function changeQueryString(queryStringParams){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.CHANGE_QUERY_PARAMS,payload:(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({},queryStringParams)}}function updateQueryParam(name,value){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.UPDATE_QUERY_PARAM,payload:{name,value}}}function storeCurrentQueryParams(){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.STORE_CURRENT_QUERY_PARAMS}}},"./app/actions/stores.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{CF:()=>fetchLegacyStores,QZ:()=>fetchLegacyStoresError,de:()=>fetchStoresError,eo:()=>fetchStoresSuccess,hO:()=>fetchStores,pO:()=>fetchLegacyStoresSuccess});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/actions/constants.ts");function fetchStores(){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.STORES_FETCH}}function fetchStoresError(errorMessage){return{errorMessage,type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.STORES_FETCH_ERROR}}function fetchStoresSuccess(stores){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.STORES_FETCH_SUCCESS,payload:{stores}}}function fetchLegacyStores(){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.LEGACY_STORES_FETCH}}function fetchLegacyStoresError(errorMessage){return{errorMessage,type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.LEGACY_STORES_FETCH_ERROR}}function fetchLegacyStoresSuccess(stores){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.t.LEGACY_STORES_FETCH_SUCCESS,payload:{stores}}}},"./app/components/OrderTagIcon/OrderTagIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>OrderTagIcon});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),CircularProgress=__webpack_require__("./node_modules/@goshippo/components/esm/CircularProgress/CircularProgress.js"),colors=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),customIcons=__webpack_require__("./app/components/customIcons/index.ts"),orderTagIconMap={circle:customIcons.GQ,default:customIcons.C3,diamond:customIcons.e9,flag:customIcons.iF,flower:customIcons.vw,heart:customIcons.C3,hourglass:customIcons.ug,person:customIcons.nX,puzzle:customIcons.iq,sprout:customIcons.Ns,square:customIcons.dH,star:customIcons.Gg,tree:customIcons.O8},OrderTagIcon=function(_a){var iconId=_a.iconId,props=(0,tslib_es6.Tt)(_a,["iconId"]),sx=props.sx,isLoading=props.isLoading,remainingProps=(0,tslib_es6.Tt)(props,["sx","isLoading"]),Icon=function(iconId){return orderTagIconMap[iconId]||orderTagIconMap.default}(iconId);return isLoading?(0,emotion_react_jsx_runtime_browser_esm.Y)(CircularProgress.A,{size:"extraSmall"}):(0,emotion_react_jsx_runtime_browser_esm.Y)(Icon,(0,tslib_es6.Cl)({},remainingProps,{sx:(0,tslib_es6.Cl)({color:colors.T.gray80,height:shippoTheme.A.spacing(2),width:shippoTheme.A.spacing(2)},sx)}))}},"./app/components/customIcons/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GQ:()=>CircleIcon,e9:()=>DiamondIcon,qN:()=>EditAddressIcon,iF:()=>FlagIcon,vw:()=>FlowerIcon,C3:()=>HeartIcon,ug:()=>HourGlassIcon,nX:()=>PersonIcon,iq:()=>PuzzleIcon,Ns:()=>SproutIcon,dH:()=>SquareIcon,Gg:()=>StarIcon,O8:()=>TreeIcon});var emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),SvgIcon=__webpack_require__("./node_modules/@goshippo/components/esm/SvgIcon/SvgIcon.js"),createSvgIcon=function(icon,_a){var id=_a.id,defaultProps=(0,tslib_es6.Tt)(_a,["id"]);return function(props){return(0,emotion_react_jsx_runtime_browser_esm.Y)(SvgIcon.A,(0,tslib_es6.Cl)({viewBox:"0 0 24 24","data-testid":id},defaultProps,props,{children:icon}))}},CircleIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.Y)("circle",{id:"CircleIcon",r:"10",cx:"12",cy:"12",fill:"currentColor"}),{id:"CircleIcon"}),DiamondIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.Y)("path",{d:"M8 15L1 8L8 1L15 8L8 15Z",fill:"currentColor"}),{id:"DiamondIcon",viewBox:"0 0 16 16"}),EditAddressIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.Y)("path",{d:"M5 19H6.425L16.2 9.225L14.775 7.8L5 17.575V19ZM3 21V16.75L16.2 3.575C16.4 3.39167 16.6208 3.25 16.8625 3.15C17.1042 3.05 17.3583 3 17.625 3C17.8917 3 18.15 3.05 18.4 3.15C18.65 3.25 18.8667 3.4 19.05 3.6L20.425 5C20.625 5.18333 20.7708 5.4 20.8625 5.65C20.9542 5.9 21 6.15 21 6.4C21 6.66667 20.9542 6.92083 20.8625 7.1625C20.7708 7.40417 20.625 7.625 20.425 7.825L7.25 21H3ZM15.475 8.525L14.775 7.8L16.2 9.225L15.475 8.525Z",fill:"currentColor"}),{id:"EditAddressIcon"}),FlagIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.Y)("path",{d:"M2 16V1H10.3571C10.5571 1 10.7429 1.04779 10.9143 1.14338C11.0857 1.23897 11.2286 1.36765 11.3429 1.52941L14 5.41176L11.3429 9.29412C11.2286 9.45588 11.0857 9.58456 10.9143 9.68015C10.7429 9.77574 10.5571 9.82353 10.3571 9.82353H3.71429V16H2Z",fill:"currentColor"}),{id:"FlagIcon",viewBox:"-1 0 16 16"}),FlowerIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.Y)("path",{d:"M8 15C7.03167 15 6.12167 14.8162 5.27 14.4487C4.41833 14.0812 3.6775 13.5825 3.0475 12.9525C2.4175 12.3225 1.91875 11.5817 1.55125 10.73C1.18375 9.87833 1 8.96833 1 8V1.35L5.2175 4.5175C5.57917 3.96917 5.99042 3.40333 6.45125 2.82C6.91208 2.23667 7.42833 1.63 8 1C8.525 1.58333 9.02667 2.17542 9.505 2.77625C9.98333 3.37708 10.4033 3.9575 10.765 4.5175L15 1.35V8C15 8.96833 14.8162 9.87833 14.4487 10.73C14.0812 11.5817 13.5825 12.3225 12.9525 12.9525C12.3225 13.5825 11.5817 14.0812 10.73 14.4487C9.87833 14.8162 8.96833 15 8 15Z",fill:"currentColor"}),{id:"FlowerIcon",viewBox:"0 0 16 16"}),HeartIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.Y)("path",{d:"M8 15L6.985 14.0649C3.38 10.7564 1 8.57439 1 5.89646C1 3.71444 2.694 2 4.85 2C6.068 2 7.237 2.57384 8 3.48065C8.763 2.57384 9.932 2 11.15 2C13.306 2 15 3.71444 15 5.89646C15 8.57439 12.62 10.7564 9.015 14.0719L8 15Z",fill:"currentColor"}),{id:"HeartIcon",viewBox:"0 0 16 16"}),HourGlassIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.Y)("path",{d:"M2 15V13.6H3.5V11.5C3.5 10.7883 3.67813 10.1204 4.03438 9.49625C4.39062 8.87208 4.8875 8.37333 5.525 8C4.8875 7.62667 4.39062 7.12792 4.03438 6.50375C3.67813 5.87958 3.5 5.21167 3.5 4.5V2.4H2V1H14V2.4H12.5V4.5C12.5 5.21167 12.3219 5.87958 11.9656 6.50375C11.6094 7.12792 11.1125 7.62667 10.475 8C11.1125 8.37333 11.6094 8.87208 11.9656 9.49625C12.3219 10.1204 12.5 10.7883 12.5 11.5V13.6H14V15H2Z",fill:"currentColor"}),{id:"HourGlassIcon",viewBox:"0 0 16 16"}),PersonIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.Y)("path",{d:"M8 8C7.0375 8 6.21354 7.65729 5.52812 6.97187C4.84271 6.28646 4.5 5.4625 4.5 4.5C4.5 3.5375 4.84271 2.71354 5.52812 2.02812C6.21354 1.34271 7.0375 1 8 1C8.9625 1 9.78646 1.34271 10.4719 2.02812C11.1573 2.71354 11.5 3.5375 11.5 4.5C11.5 5.4625 11.1573 6.28646 10.4719 6.97187C9.78646 7.65729 8.9625 8 8 8ZM1 15V12.55C1 12.0542 1.1276 11.5984 1.38281 11.1828C1.63802 10.7672 1.97708 10.45 2.4 10.2312C3.30417 9.77917 4.22292 9.4401 5.15625 9.21406C6.08958 8.98802 7.0375 8.875 8 8.875C8.9625 8.875 9.91042 8.98802 10.8438 9.21406C11.7771 9.4401 12.6958 9.77917 13.6 10.2312C14.0229 10.45 14.362 10.7672 14.6172 11.1828C14.8724 11.5984 15 12.0542 15 12.55V15H1Z",fill:"currentColor"}),{id:"PersonIcon",viewBox:"0 1 16 16"}),PuzzleIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.Y)("path",{d:"M5.46154 16H1V11.5385C1.61538 11.5385 2.15385 11.3429 2.61538 10.9519C3.07692 10.5609 3.30769 10.0641 3.30769 9.46154C3.30769 8.85897 3.07692 8.36218 2.61538 7.97115C2.15385 7.58013 1.61538 7.38462 1 7.38462V2.92308H5.61538C5.61538 2.38462 5.80128 1.92949 6.17308 1.55769C6.54487 1.1859 7 1 7.53846 1C8.07692 1 8.53205 1.1859 8.90385 1.55769C9.27564 1.92949 9.46154 2.38462 9.46154 2.92308H14.0769V7.53846C14.6154 7.53846 15.0705 7.72436 15.4423 8.09615C15.8141 8.46795 16 8.92308 16 9.46154C16 10 15.8141 10.4551 15.4423 10.8269C15.0705 11.1987 14.6154 11.3846 14.0769 11.3846V16H9.61539C9.61539 15.359 9.41346 14.8141 9.00962 14.3654C8.60577 13.9167 8.11539 13.6923 7.53846 13.6923C6.96154 13.6923 6.47115 13.9167 6.06731 14.3654C5.66346 14.8141 5.46154 15.359 5.46154 16Z",fill:"currentColor"}),{id:"PuzzleIcon",viewBox:"0 1 16 16"}),SproutIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.Y)("path",{d:"M7.22222 15V8.79722C6.39259 8.79722 5.59537 8.63843 4.83056 8.32083C4.06574 8.00324 3.39167 7.55278 2.80833 6.96944C2.225 6.38611 1.77778 5.71204 1.46667 4.94722C1.15556 4.18241 1 3.38519 1 2.55556V1H2.55556C3.37222 1 4.16296 1.1588 4.92778 1.47639C5.69259 1.79398 6.36667 2.24444 6.95 2.82778C7.35185 3.22963 7.68565 3.67037 7.95139 4.15C8.21713 4.62963 8.4213 5.14167 8.56389 5.68611C8.6287 5.59537 8.7 5.50787 8.77778 5.42361C8.85556 5.33935 8.93982 5.25185 9.03056 5.16111C9.61389 4.57778 10.288 4.12732 11.0528 3.80972C11.8176 3.49213 12.6148 3.33333 13.4444 3.33333H15V4.88889C15 5.71852 14.8412 6.51574 14.5236 7.28056C14.206 8.04537 13.7556 8.71944 13.1722 9.30278C12.5889 9.88611 11.9181 10.3333 11.1597 10.6444C10.4014 10.9556 9.60741 11.1111 8.77778 11.1111V15H7.22222Z",fill:"currentColor"}),{id:"SproutIcon",viewBox:"0 -1 16 16"}),SquareIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.Y)("path",{d:"M14 2H2V14H14V2Z",fill:"currentColor"}),{id:"SquareIcon",viewBox:"0 0 16 16"}),StarIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.FD)(emotion_react_jsx_runtime_browser_esm.FK,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,emotion_react_jsx_runtime_browser_esm.Y)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,emotion_react_jsx_runtime_browser_esm.Y)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})]}),{id:"StarIcon",viewBox:"2 2 20 20"}),TreeIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.Y)("path",{d:"M10.8715 8H12.4358L6.96089 0L1.52514 8H3.05028L0 12.8H5.41229V16H8.5095V12.8H14L10.8715 8Z",fill:"currentColor"}),{id:"TreeIcon",viewBox:"-1 0 16 16"})},"./app/constants/local-storage-keys.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L$:()=>WIX_PRO_PLAN_NOTIFICATION_DISMISSED,XC:()=>QS_LOCAL_STORAGE_KEY});var QS_LOCAL_STORAGE_KEY="saved_qs",WIX_PRO_PLAN_NOTIFICATION_DISMISSED="wix_pro_plan_notification_dismissed"},"./app/contexts/OrderTagsProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U5:()=>OrderTagsContextProvider,uq:()=>useOrderTagsContext});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),es=__webpack_require__("./node_modules/i18next/dist/es/index.js"),react=__webpack_require__("./node_modules/react/index.js"),web_orders_service=__webpack_require__("./app/services/web-orders.service/index.ts"),Order=__webpack_require__("./app/types/Order.ts"),react_redux_es=__webpack_require__("./node_modules/react-redux/es/index.js"),orders_actions=__webpack_require__("./app/actions/orders.actions.ts"),useSearchQueryParams=__webpack_require__("./app/pages/Orders/Blackbeard/hooks/hooks/useSearchQueryParams.ts"),types=__webpack_require__("./app/pages/Orders/Blackbeard/types/types.ts"),observability=__webpack_require__("./app/utils/observability/index.ts"),tableFiltersTracking=__webpack_require__("./app/utils/tableFiltersTracking.ts");var orders_batch_actions=__webpack_require__("./app/actions/orders-batch.actions.ts"),routing_actions=__webpack_require__("./app/actions/routing.actions.ts"),stores_actions=__webpack_require__("./app/actions/stores.actions.ts"),orders_selectors=__webpack_require__("./app/selectors/orders.selectors.ts"),OrdersBatch=__webpack_require__("./app/types/OrdersBatch.ts"),utils=__webpack_require__("./app/pages/Orders/Blackbeard/types/utils.ts");function useOrdersSearchAndPagination(appLocation,searchQueryParam){var dispatch=(0,react_redux_es.wA)(),convertedSearchQueryParam=(0,react.useMemo)((function(){return function convertToApiQueryParams(searchQueryParam){var arrayParams=["shipping_method","item","tag"];if(void 0!==searchQueryParam){var unaffectedQueryParams=Object.keys(searchQueryParam).filter((function(key){return!arrayParams.some((function(parameter){return(0,utils.c4)(parameter).test(key)}))})).reduce((function(accum,key){return accum[key]=searchQueryParam[key],accum}),{}),arrayParamsList=Object.keys(searchQueryParam).filter((function(item){return arrayParams.some((function(parameter){return(0,utils.c4)(parameter).test(item)}))})).reduce((function(paramsList,item){var _a,paramKey=arrayParams.find((function(parameter){return(0,utils.c4)(parameter).test(item)}));if(!paramKey)return paramsList;var paramsListItem=paramsList[paramKey]||[];return(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},paramsList),((_a={})[paramKey]=(0,tslib_es6.fX)((0,tslib_es6.fX)([],(0,tslib_es6.zs)(paramsListItem),!1),[searchQueryParam[item]],!1),_a))}),{});return(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},unaffectedQueryParams),arrayParamsList)}}(searchQueryParam)}),[searchQueryParam]),hasNewOrders=(0,react_redux_es.d4)(orders_selectors.Yo),stringifiedSearchQueryParam=JSON.stringify(convertedSearchQueryParam),fetchOrdersCallback=(0,react.useCallback)((function(){if(convertedSearchQueryParam){var hidden=(null==convertedSearchQueryParam?void 0:convertedSearchQueryParam.hidden)?"true"===convertedSearchQueryParam.hidden:types.tg.hidden,page=(null==convertedSearchQueryParam?void 0:convertedSearchQueryParam.page)?parseInt(convertedSearchQueryParam.page,10):types.tg.currentPageNumber,fetchCount=(null==convertedSearchQueryParam?void 0:convertedSearchQueryParam.results)||types.tg.currentPerPage.toString(),sortBy=convertedSearchQueryParam.sort_by||"",orderBy=convertedSearchQueryParam.order_by||"",orderStatus=convertedSearchQueryParam.order_status||"";dispatch((0,stores_actions.hO)()),dispatch((0,orders_actions.fI)()),dispatch((0,orders_actions.Gb)(appLocation,page,convertedSearchQueryParam,fetchCount,hidden,orderStatus,"",sortBy,orderBy)),dispatch((0,orders_batch_actions.$T)(OrdersBatch.kG.ORDERS_PAGE)),dispatch((0,routing_actions.Rr)())}}),[dispatch,stringifiedSearchQueryParam]);return(0,react.useEffect)((function(){hasNewOrders&&fetchOrdersCallback()}),[hasNewOrders,fetchOrdersCallback]),{fetchOrdersCallback}}var templateObject_1,templateObject_2,templateObject_3,templateObject_4,TagsCreationModal_styled_templateObject_1,TagsCreationModal_styled_templateObject_2,api=__webpack_require__("./app/services/api.ts"),createUniqueOrderTag=function(_a){var icon=_a.icon,name=_a.name,color=_a.color;return api._s.request({url:TAGS_API,method:"POST",data:(0,tslib_es6.Cl)({icon,name},color?{color}:{})})},updateUniqueOrderTag=function(_a){var id=_a.id,color=_a.color,icon=_a.icon,name=_a.name;return api._s.request({url:"".concat(TAGS_API,"/").concat(id),method:"PUT",data:(0,tslib_es6.Cl)({icon,name},color?{color}:{})})},TAGS_API="/tags",local_storage_keys=__webpack_require__("./app/constants/local-storage-keys.ts"),useTags=function(){var _a=(0,tslib_es6.zs)((0,react.useState)(!1),2),areUniqueTagsLoading=_a[0],setAreUniqueTagsLoading=_a[1],_b=(0,tslib_es6.zs)((0,react.useState)(!1),2),haveUniqueTagsError=_b[0],setHaveUniqueTagsError=_b[1],_c=(0,tslib_es6.zs)((0,react.useState)([]),2),uniqueTags=_c[0],setUniqueTags=_c[1],getUniqueTags=(0,react.useCallback)((function(){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var data,sortedOrderTags;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,3,4]),setHaveUniqueTagsError(!1),setAreUniqueTagsLoading(!0),[4,api._s.request({url:TAGS_API,method:"GET"})];case 1:return data=_a.sent().data,sortedOrderTags=(0,Order.Qh)((null==data?void 0:data.results)||[]),setUniqueTags(sortedOrderTags),[2,sortedOrderTags];case 2:return _a.sent(),setHaveUniqueTagsError(!0),[2,[]];case 3:return setAreUniqueTagsLoading(!1),[7];case 4:return[2]}}))}))}),[]);return{getUniqueTags,createUniqueTag:function(_a){var icon=_a.icon,name=_a.name,color=_a.color;return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var data;return(0,tslib_es6.YH)(this,(function(_b){switch(_b.label){case 0:return[4,createUniqueOrderTag({icon,name,color})];case 1:return data=_b.sent().data,setUniqueTags((function(prevTags){return(0,Order.Qh)((0,tslib_es6.fX)((0,tslib_es6.fX)([],(0,tslib_es6.zs)(prevTags),!1),[data],!1))})),[2,data]}}))}))},updateUniqueTag:function(tag){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var data;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return[4,updateUniqueOrderTag(tag)];case 1:return data=_a.sent().data,setUniqueTags((function(prevTags){var tagIndex=prevTags.findIndex((function(t){return t.id===tag.id})),newTags=(0,tslib_es6.fX)([],(0,tslib_es6.zs)(prevTags),!1);return newTags[tagIndex]=data,(0,Order.Qh)(newTags)})),[2,data]}}))}))},deleteUniqueTag:function(tagId){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return[4,(orderTagId=tagId,api._s.request({url:"".concat(TAGS_API,"/").concat(orderTagId),method:"DELETE"}))];case 1:return _a.sent(),setUniqueTags((function(prevTags){return prevTags.filter((function(tag){return tag.id!==tagId}))})),function(tagId){var storedQueryParams=localStorage.getItem(local_storage_keys.XC);if(storedQueryParams)try{var parsedQueryParams=JSON.parse(storedQueryParams);if(!parsedQueryParams.tag)return;if(!parsedQueryParams.tag.includes(tagId))return;localStorage.removeItem(local_storage_keys.XC)}catch(_){}}(tagId),[2]}var orderTagId}))}))},areUniqueTagsLoading,haveUniqueTagsError,uniqueTags}},useOrderTags=function(){var ordersSearchForm=function useOrdersSearchForm(){var _a=(0,useSearchQueryParams.i)(),queryParams=_a.queryParams,updateQueryParams=_a.updateQueryParams,searchQueryParam=queryParams,stringifiedQueryParams=(0,react.useMemo)((function(){return JSON.stringify(searchQueryParam)}),[searchQueryParam]),searchState=(0,react.useMemo)((function(){return searchQueryParam?(0,types.EK)(searchQueryParam):types.tg}),[stringifiedQueryParams]),searchDirty=(0,react.useMemo)((function(){for(var filterKey in searchState){var filterValue=searchState[filterKey];if(JSON.stringify(filterValue)!==JSON.stringify(types.tg[filterKey]))return!0}return!1}),[searchState]),searchCallbacks=(0,react.useMemo)((function(){var callbacks=Object.keys(types.tg).reduce((function(accum,key){return accum[key]=function(value){var _a,queryUpdateContents=(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},searchState),((_a={sortField:searchDirty?searchState.sortField:"most_relevant"})[key]=value,_a));"orderStatus"===key&&(queryUpdateContents.hidden="hidden"===value),"currentPageNumber"!==key&&(queryUpdateContents.currentPageNumber=types.tg.currentPageNumber);var queryUpdate=(0,types.Q3)(queryUpdateContents);if(updateQueryParams(queryUpdate),"searchBarQuery"!==key){var filterTrackingObject=(0,tableFiltersTracking.H)(key,value);observability.O.singleEvent("ORDERS_TABLE_FILTER_APPLIED",filterTrackingObject)}},accum}),{});return callbacks}),[searchState,searchDirty,updateQueryParams]),clearFilters=(0,react.useCallback)((function(){var defaultQueryParams=(0,types.Q3)(types.tg);updateQueryParams(defaultQueryParams),observability.O.singleEvent("ORDERS_TABLE_FILTERS_CLEARED")}),[updateQueryParams]);return(0,react.useMemo)((function(){return{searchState,searchCallbacks,clearFilters,searchDirty,searchQueryParam}}),[clearFilters,searchCallbacks,searchDirty,searchQueryParam,searchState])}(),fetchOrdersCallback=useOrdersSearchAndPagination("order_table",ordersSearchForm.searchQueryParam).fetchOrdersCallback,dispatch=(0,react_redux_es.wA)(),_a=useTags();return{getUniqueTags:_a.getUniqueTags,updateOrdersTags:function(orderIds,tagIds){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var data,orderToTagsMapping;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return dispatch((0,orders_actions.dk)(orderIds)),[4,(0,web_orders_service.m6)({order_ids:orderIds,tag_ids:tagIds})];case 1:return data=_a.sent().data,orderToTagsMapping=(0,Order.LE)(data.results),dispatch((0,orders_actions.eY)(orderToTagsMapping)),Object.entries(orderToTagsMapping).forEach((function(_a){var _b=(0,tslib_es6.zs)(_a,2),orderId=_b[0],tags=_b[1];observability.O.successEvent("ORDER_TAGS_BY_ORDER_ID",{force:!0,orderId,tagsCount:tags.length})})),[2]}}))}))},removeOrdersTags:function(orderIds,tagIds){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var data,activeFilterTags,removedTagsActiveOnFilter,hasOrdersWithoutAnyFilteredTags,orderToTagsMapping;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return dispatch((0,orders_actions.dk)(orderIds)),[4,(0,web_orders_service.$t)({order_ids:orderIds,tag_ids:tagIds})];case 1:return data=_a.sent().data,activeFilterTags=ordersSearchForm.searchState.orderTagsFilter,removedTagsActiveOnFilter=activeFilterTags.tags.filter((function(tag){return tagIds.includes(tag)})),hasOrdersWithoutAnyFilteredTags=data.results.some((function(order){return!(null==order?void 0:order.tags)||!order.tags.some((function(tag){return activeFilterTags.tags.includes(tag.id)}))})),removedTagsActiveOnFilter.length>0&&hasOrdersWithoutAnyFilteredTags?(fetchOrdersCallback(),[2]):(orderToTagsMapping=(0,Order.LE)(data.results),dispatch((0,orders_actions.eY)(orderToTagsMapping)),Object.entries(orderToTagsMapping).forEach((function(_a){var _b=(0,tslib_es6.zs)(_a,2),orderId=_b[0],tags=_b[1];observability.O.successEvent("ORDER_TAGS_BY_ORDER_ID",{force:!0,orderId,tagsCount:tags.length})})),[2])}}))}))},areUniqueTagsLoading:_a.areUniqueTagsLoading,haveUniqueTagsError:_a.haveUniqueTagsError,uniqueTags:_a.uniqueTags,createUniqueTag:_a.createUniqueTag}},esm_exports=__webpack_require__("./node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js"),react_router_dom=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),Button=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),Dialog=__webpack_require__("./node_modules/@goshippo/libraries/dist/esm/Dialog/Dialog.js"),GlobalComponentsProvider=__webpack_require__("./app/contexts/GlobalComponentsProvider.tsx"),colors=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),TAGS_ICONS_LIST=["heart","diamond","square","star","flower","circle","tree","sprout","hourglass","puzzle","flag","person"],getIconStyles=function(isTagSelected){return{color:isTagSelected?colors.T.white:colors.T.secondary}},styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),InputLabel=__webpack_require__("./node_modules/@goshippo/components/esm/InputLabel/InputLabel.js"),IconButton=__webpack_require__("./node_modules/@goshippo/components/esm/IconButton/IconButton.js"),OrderTagIcon=__webpack_require__("./app/components/OrderTagIcon/OrderTagIcon.tsx"),TagsList=(0,styled.Ay)(Stack.A)(templateObject_1||(templateObject_1=(0,tslib_es6.ue)(["\n  align-items: center;\n  border: 1px solid ",";\n  border-radius: ",";\n  box-sizing: border-box;\n  flex-flow: row wrap;\n  gap: ",";\n  min-height: ",";\n  justify-content: flex-start;\n  padding: "," ",";\n  position: relative;\n\n  "," {\n    gap: ",";\n  }\n"],["\n  align-items: center;\n  border: 1px solid ",";\n  border-radius: ",";\n  box-sizing: border-box;\n  flex-flow: row wrap;\n  gap: ",";\n  min-height: ",";\n  justify-content: flex-start;\n  padding: "," ",";\n  position: relative;\n\n  "," {\n    gap: ",";\n  }\n"])),colors.T.borders,shippoTheme.A.spacing(1),shippoTheme.A.spacing(1.5),shippoTheme.A.spacing(6),shippoTheme.A.spacing(1),shippoTheme.A.spacing(2),shippoTheme.A.breakpoints.down("lg"),shippoTheme.A.spacing(1)),TagsLabel=(0,styled.Ay)(InputLabel.A)(templateObject_2||(templateObject_2=(0,tslib_es6.ue)(["\n  background-color: ",";\n  left: ",";\n  padding: 0 ",";\n  position: absolute;\n  top: ",";\n"],["\n  background-color: ",";\n  left: ",";\n  padding: 0 ",";\n  position: absolute;\n  top: ",";\n"])),colors.T.white,shippoTheme.A.spacing(1),shippoTheme.A.spacing(1),shippoTheme.A.spacing(-1)),IconBox=(0,styled.Ay)(IconButton.A)(templateObject_3||(templateObject_3=(0,tslib_es6.ue)(["\n  align-items: center;\n  border-radius: 50%;\n  cursor: default;\n  display: flex;\n  height: ",";\n  justify-content: center;\n  transition: all 150ms ease-in-out;\n  width: ",";\n"],["\n  align-items: center;\n  border-radius: 50%;\n  cursor: default;\n  display: flex;\n  height: ",";\n  justify-content: center;\n  transition: all 150ms ease-in-out;\n  width: ",";\n"])),shippoTheme.A.spacing(3),shippoTheme.A.spacing(3)),Icon=(0,styled.Ay)(OrderTagIcon.C)(templateObject_4||(templateObject_4=(0,tslib_es6.ue)(["\n  transition: all 150ms ease-in-out;\n"],["\n  transition: all 150ms ease-in-out;\n"]))),IconSelector=function(_a){var selectedTag=_a.selectedTag,handleIconSelection=_a.handleIconSelection,t=_a.t,sx=_a.sx,_b=(0,tslib_es6.zs)((0,react.useState)((null==selectedTag?void 0:selectedTag.icon)||"default"),2),selectedIcon=_b[0],setSelectedIcon=_b[1];return(0,emotion_react_jsx_runtime_browser_esm.FD)(TagsList,(0,tslib_es6.Cl)({sx},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(TagsLabel,(0,tslib_es6.Cl)({shrink:!0},{children:t("tags.list.icon")})),TAGS_ICONS_LIST.map((function(tagIcon){var isTagSelected,isIconSelected=function(tagIcon){return selectedIcon===tagIcon}(tagIcon);return(0,emotion_react_jsx_runtime_browser_esm.Y)(IconBox,(0,tslib_es6.Cl)({name:tagIcon,onClick:function(){setSelectedIcon(tagIcon),handleIconSelection({id:(null==selectedTag?void 0:selectedTag.id)||"",name:(null==selectedTag?void 0:selectedTag.name)||"",icon:tagIcon})},role:"button","aria-label":tagIcon,sx:(isTagSelected=isIconSelected,[{backgroundColor:isTagSelected?colors.T.primary:colors.T.white,cursor:isTagSelected?"default":"pointer"},{"&:hover":{backgroundColor:isTagSelected?colors.T.primary:colors.T.web.hover}}])},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Icon,{iconId:tagIcon,"aria-hidden":!1,focusable:!0,sx:getIconStyles(isIconSelected)})}),tagIcon)}))]}))},TextField=__webpack_require__("./node_modules/@goshippo/components/esm/TextField/TextField.js"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.js"),TagNameInput=function(_a){var onError=_a.onError,onChange=_a.onChange,t=_a.t,_b=(0,index_esm.mN)({mode:"all"}),control=_b.control,errors=_b.formState.errors;return(0,react.useEffect)((function(){null==onError||onError(errors.tagname)}),[errors.tagname,onError]),(0,emotion_react_jsx_runtime_browser_esm.Y)(index_esm.xI,{name:"tagname",control,rules:{required:!0,maxLength:13},render:function(_a){var _b=_a.field,ref=_b.ref,rest=(0,tslib_es6.Tt)(_b,["ref"]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(TextField.A,(0,tslib_es6.Cl)({id:"tagname",label:t("tags.list.tagName"),placeholder:t("tags.inputName.placeholder"),inputRef:ref,error:!!errors.tagname,sx:{flex:"1 1 3rem"}},rest,{onChange:function(e){rest.onChange(e),null==onChange||onChange(e)}}))}})},FormHelperText=__webpack_require__("./node_modules/@goshippo/components/esm/FormHelperText/FormHelperText.js"),BodyWrapper=(0,styled.Ay)(Stack.A)(TagsCreationModal_styled_templateObject_1||(TagsCreationModal_styled_templateObject_1=(0,tslib_es6.ue)(["\n  display: flex;\n  justify-content: center;\n  flex-flow: row wrap;\n  align-items: center;\n  gap: 1rem;\n  padding-top: 0.5rem;\n  width: 100%;\n"],["\n  display: flex;\n  justify-content: center;\n  flex-flow: row wrap;\n  align-items: center;\n  gap: 1rem;\n  padding-top: 0.5rem;\n  width: 100%;\n"]))),InputErrorText=(0,styled.Ay)(FormHelperText.A)(TagsCreationModal_styled_templateObject_2||(TagsCreationModal_styled_templateObject_2=(0,tslib_es6.ue)(["\n  color: ",";\n  font-size: 0.75rem;\n  margin-left: 0.8rem;\n"],["\n  color: ",";\n  font-size: 0.75rem;\n  margin-left: 0.8rem;\n"])),shippoTheme.A.palette.error.main),translate=__webpack_require__("./app/utils/translate.ts"),redux=__webpack_require__("./node_modules/redux/es/redux.js"),initialTag={name:"",icon:"heart"},ComposedTagsCreationModal=(0,redux.Zz)((0,translate.Tl)(["settings"]))((function(_a){var isOpen=_a.isOpen,_b=_a.shouldShowSettingsLink,shouldShowSettingsLink=void 0===_b||_b,handleModalClose=_a.handleModalClose,createUniqueTag=_a.createUniqueTag,assignOrderId=_a.assignOrderId,assignTagToOrder=_a.assignTagToOrder,isBulkAssign=_a.isBulkAssign,bulkAssignTagToSelectedOrders=_a.bulkAssignTagToSelectedOrders,t=_a.t,_c=(0,tslib_es6.zs)((0,react.useState)(""),2),tagNameError=_c[0],setTagNameError=_c[1],_d=(0,tslib_es6.zs)((0,react.useState)(initialTag),2),tag=_d[0],setTag=_d[1],_e=(0,tslib_es6.zs)((0,react.useState)(!1),2),isSaveLoading=_e[0],setIsSaveLoading=_e[1],isSaveDisabled=isSaveLoading||0===tag.name.length||tagNameError.length>0,addSnackbarAlert=(0,GlobalComponentsProvider.s)().snackbar.addSnackbarAlert,handleIconSelection=(0,react.useCallback)((function(tag){setTag((function(prev){return(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},prev),{icon:tag.icon})}))}),[]),handleClose=function(){setTag(initialTag),handleModalClose()},handleTagCreation=(0,react.useCallback)((function(){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var response,error_1,isServerError,errorMessage,_a,_b,_c;return(0,tslib_es6.YH)(this,(function(_d){switch(_d.label){case 0:return _d.trys.push([0,6,7,8]),observability.O.startEvent("ORDER_TAGS_CREATE_UNIQUE_TAG"),setIsSaveLoading(!0),[4,createUniqueTag(tag)];case 1:return response=_d.sent(),assignOrderId&&assignTagToOrder&&response?[4,assignTagToOrder(assignOrderId,response.id)]:[3,3];case 2:_d.sent(),_d.label=3;case 3:return isBulkAssign&&bulkAssignTagToSelectedOrders&&response?[4,bulkAssignTagToSelectedOrders(response.id)]:[3,5];case 4:_d.sent(),_d.label=5;case 5:return addSnackbarAlert(t("tags.create.success"),"success"),observability.O.successEvent("ORDER_TAGS_CREATE_UNIQUE_TAG"),[3,8];case 6:return error_1=_d.sent(),isServerError=(null===(_a=error_1.response)||void 0===_a?void 0:_a.status)>=500,errorMessage=(null===(_c=null===(_b=error_1.response)||void 0===_b?void 0:_b.data)||void 0===_c?void 0:_c.detail)||t("tags.create.error"),observability.O.errorEvent("ORDER_TAGS_CREATE_UNIQUE_TAG",{errorMessage}),addSnackbarAlert(errorMessage,"error"),isServerError&&(0,esm_exports.Cp)("failed to create unique tag ".concat(error_1),{level:"error"}),[3,8];case 7:return setTag(initialTag),setIsSaveLoading(!1),handleModalClose(),[7];case 8:return[2]}}))}))}),[addSnackbarAlert,assignOrderId,assignTagToOrder,bulkAssignTagToSelectedOrders,createUniqueTag,handleModalClose,isBulkAssign,t,tag]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(Dialog.l,{open:isOpen,onClose:handleClose,title:t("tags.modal.title"),content:(0,emotion_react_jsx_runtime_browser_esm.FD)(emotion_react_jsx_runtime_browser_esm.FK,{children:[(0,emotion_react_jsx_runtime_browser_esm.FD)(BodyWrapper,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(IconSelector,{selectedTag:initialTag,handleIconSelection,sx:{gap:shippoTheme.A.spacing(.5)},t}),(0,emotion_react_jsx_runtime_browser_esm.Y)(TagNameInput,{t,onError:function(error){if(!error)return setTagNameError("");var errorByType={required:t("tags.inputName.error.required"),maxLength:t("tags.inputName.error.maxLength")};setTagNameError(errorByType[error.type]||"")},value:null==tag?void 0:tag.name,onChange:function(e){var value=e.target.value;setTag((function(prev){return(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},prev),{name:value.trim()})}))}})]}),tagNameError?(0,emotion_react_jsx_runtime_browser_esm.Y)(InputErrorText,{children:tagNameError}):null]}),actions:(0,tslib_es6.fX)((0,tslib_es6.fX)([],(0,tslib_es6.zs)(shouldShowSettingsLink?[(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({variant:"bodyEmphasized",component:react_router_dom.N_,to:"/settings/tags",sx:{textDecoration:"none"},onClick:handleClose},{children:t("tags.modal.settingsLink")}),0)]:[]),!1),[(0,emotion_react_jsx_runtime_browser_esm.Y)(Button.A,(0,tslib_es6.Cl)({onClick:handleTagCreation,variant:"contained",disabled:isSaveDisabled,name:"save","aria-label":"save"},{children:t("tags.modal.save")}),1)],!1)})})),featureflags=__webpack_require__("./app/utils/featureflags/index.ts"),OrderTagsContext=(0,react.createContext)(null),OrderTagsContextProvider=function(_a){var children=_a.children,_b=(0,tslib_es6.zs)((0,react.useState)(!1),2),isTagCreationModalOpen=_b[0],setIsTagCreationModalOpen=_b[1],_c=(0,tslib_es6.zs)((0,react.useState)(),2),assignOrder=_c[0],setAssignOrder=_c[1],_d=useOrderTags(),getUniqueTags=_d.getUniqueTags,orderTags=(0,tslib_es6.Tt)(_d,["getUniqueTags"]),orderTagFlag=(0,featureflags.u)(featureflags.gH.ORDER_TAG_MVP),addSnackbarAlert=(0,GlobalComponentsProvider.s)().snackbar.addSnackbarAlert,dispatch=(0,react_redux_es.wA)(),selectedOrdersTagsByOrderId=(0,react_redux_es.d4)(orders_selectors.pP),assignTagToOrder=(0,react.useCallback)((function(orderId,tagId){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var error_1,errorMessage;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),observability.O.startEvent("ORDER_TAGS_ASSIGN_TAG_TO_ORDER"),[4,orderTags.updateOrdersTags([orderId],[tagId])];case 1:return _a.sent(),observability.O.successEvent("ORDER_TAGS_ASSIGN_TAG_TO_ORDER",{orderId,tagId}),[3,3];case 2:return error_1=_a.sent(),errorMessage=(0,es.t)("orders:table:errors:addTagToOrderError"),addSnackbarAlert(errorMessage,"error"),(0,esm_exports.Cp)("failed to update Order Tags ".concat(error_1),{level:"error"}),observability.O.errorEvent("ORDER_TAGS_ASSIGN_TAG_TO_ORDER",{errorMessage}),[3,3];case 3:return[2]}}))}))}),[orderTags,addSnackbarAlert]),unassignTagFromOrder=(0,react.useCallback)((function(orderId,tagId){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var error_2,errorMessage;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),observability.O.startEvent("ORDER_TAGS_REMOVE_TAG_FROM_ORDER"),[4,orderTags.removeOrdersTags([orderId],[tagId])];case 1:return _a.sent(),observability.O.successEvent("ORDER_TAGS_REMOVE_TAG_FROM_ORDER",{orderId,tagId}),[3,3];case 2:return error_2=_a.sent(),errorMessage=(0,es.t)("orders:table:errors:removeTagFromOrderError"),addSnackbarAlert(errorMessage,"error"),(0,esm_exports.Cp)("failed to remove Order Tags ".concat(error_2),{level:"error"}),observability.O.errorEvent("ORDER_TAGS_REMOVE_TAG_FROM_ORDER",{errorMessage}),[3,3];case 3:return[2]}}))}))}),[orderTags,addSnackbarAlert]),bulkAssignTagToSelectedOrders=(0,react.useCallback)((function(tagId){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var ordersWithoutNewTag,error_3,errorMessage;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,3,,4]),observability.O.startEvent("ORDER_TAGS_ASSIGN_TAG_TO_ORDER"),ordersWithoutNewTag=Object.entries(selectedOrdersTagsByOrderId||{}).reduce((function(acc,_a){var _b=(0,tslib_es6.zs)(_a,2),orderId=_b[0];return _b[1].map((function(tag){return tag.id})).includes(tagId)||acc.push(orderId),acc}),[]),ordersWithoutNewTag.length?[4,orderTags.updateOrdersTags(ordersWithoutNewTag,[tagId])]:[3,2];case 1:_a.sent(),ordersWithoutNewTag.forEach((function(orderId){observability.O.successEvent("ORDER_TAGS_ASSIGN_TAG_TO_ORDER",{force:!0,orderId,tagId})})),_a.label=2;case 2:return[3,4];case 3:return error_3=_a.sent(),errorMessage=(0,es.t)("orders:table:errors:addTagToOrderError"),addSnackbarAlert(errorMessage,"error"),(0,esm_exports.Cp)("failed to update Order Tags ".concat(error_3),{level:"error"}),dispatch((0,orders_actions.d)()),observability.O.errorEvent("ORDER_TAGS_ASSIGN_TAG_TO_ORDER",{errorMessage}),[3,4];case 4:return[2]}}))}))}),[addSnackbarAlert,dispatch,orderTags,selectedOrdersTagsByOrderId]),bulkUnassignTagFromSelectedOrders=(0,react.useCallback)((function(tagId){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var ordersWithTag,error_4,errorMessage;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,3,,4]),observability.O.startEvent("ORDER_TAGS_REMOVE_TAG_FROM_ORDER"),ordersWithTag=Object.entries(selectedOrdersTagsByOrderId||{}).reduce((function(acc,_a){var _b=(0,tslib_es6.zs)(_a,2),orderId=_b[0];return _b[1].map((function(tag){return tag.id})).includes(tagId)&&acc.push(orderId),acc}),[]),ordersWithTag.length?[4,orderTags.removeOrdersTags(ordersWithTag,[tagId])]:[3,2];case 1:_a.sent(),ordersWithTag.forEach((function(orderId){observability.O.successEvent("ORDER_TAGS_REMOVE_TAG_FROM_ORDER",{force:!0,orderId,tagId})})),_a.label=2;case 2:return[3,4];case 3:return error_4=_a.sent(),errorMessage=(0,es.t)("orders:table:errors:removeTagFromOrderError"),addSnackbarAlert(errorMessage,"error"),(0,esm_exports.Cp)("failed to remove Order Tags ".concat(error_4),{level:"error"}),dispatch((0,orders_actions.d)()),observability.O.errorEvent("ORDER_TAGS_REMOVE_TAG_FROM_ORDER",{errorMessage}),[3,4];case 4:return[2]}}))}))}),[addSnackbarAlert,dispatch,orderTags,selectedOrdersTagsByOrderId]);return(0,react.useEffect)((function(){(null==orderTagFlag?void 0:orderTagFlag.enabled)&&getUniqueTags()}),[getUniqueTags,null==orderTagFlag?void 0:orderTagFlag.enabled]),(0,emotion_react_jsx_runtime_browser_esm.FD)(OrderTagsContext.Provider,(0,tslib_es6.Cl)({value:(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},orderTags),{openTagCreationModal:function(assign){setAssignOrder(assign),setIsTagCreationModalOpen(!0)},assignTagToOrder,unassignTagFromOrder,bulkAssignTagToSelectedOrders,bulkUnassignTagFromSelectedOrders})},{children:[children,(0,emotion_react_jsx_runtime_browser_esm.Y)(ComposedTagsCreationModal,{isOpen:isTagCreationModalOpen,handleModalClose:function(){setAssignOrder(void 0),setIsTagCreationModalOpen(!1)},createUniqueTag:orderTags.createUniqueTag,assignOrderId:null==assignOrder?void 0:assignOrder.assignOrderId,assignTagToOrder,isBulkAssign:null==assignOrder?void 0:assignOrder.isBulkAssign,bulkAssignTagToSelectedOrders,t:es.t})]}))},useOrderTagsContext=function(){var context=(0,react.useContext)(OrderTagsContext);if(null===context)throw new Error("useOrderTagsContext must be used within an OrderTagsContextProvider");return context}},"./app/pages/Orders/Blackbeard/hooks/hooks/useSearchQueryParams.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>useSearchQueryParams});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-router/esm/react-router.js");function useSearchQueryParams(){var history=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_1__.W6)(),_a=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.zs)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0),2),queryParams=_a[0],setQueryParams=_a[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var e_1,_a,searchParams=new URLSearchParams(history.location.search.substring(1)),queryParamObject={},shippingMethodCount=0;try{for(var _b=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Ju)(searchParams.entries()),_c=_b.next();!_c.done;_c=_b.next()){var _d=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.zs)(_c.value,2),key=_d[0],value=_d[1];key.includes("shipping_method")?(queryParamObject["shipping_method[".concat(shippingMethodCount,"]")]=value,shippingMethodCount+=1):queryParamObject[key]=value}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}setQueryParams(queryParamObject)}),[history.location]),{queryParams,updateQueryParams:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(newQueryParams){var queryString=Object.keys(newQueryParams).map((function(key){return encodeURIComponent(key)+"="+encodeURIComponent(newQueryParams[key])})).join("&");history.push("".concat(location.pathname,"?").concat(queryString))}),[history])}}},"./app/pages/Orders/Blackbeard/types/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{EK:()=>ordersSearchQueryToSearchState,Q3:()=>ordersSearchStateToSearchQuery,fL:()=>weightUnitFilterTypeList,tg:()=>defaultOrdersSearchParams});var BulkDrawerLoadOptions,tslib__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_constants_weight__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/constants/weight.ts"),moment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/moment/moment.js"),_types_Store__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./app/types/Order.ts"),__webpack_require__("./app/types/Store.ts")),_utils__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__("./app/utils/businessRules.ts"),__webpack_require__("./app/pages/Orders/Blackbeard/types/utils.ts")),weightUnitFilterTypeList=["g","kg","oz","lb",""],defaultOrdersSearchParams={searchBarQuery:"",searchError:!1,orderStatus:"all",sortField:"-created_at",isInternational:"",dateFilter:[null,null],storeFilter:"all",itemFilter:[],weightFilter:{minWeight:"",maxWeight:"",weightUnit:""},currentPerPage:25,currentPageNumber:1,rowCount:0,hidden:!1,shippingMethodsFilter:[],saved:"",orderTagsFilter:{tags:[],untagged:!1},createdByFilter:"all"},searchQueryToSearchStateStoreValues=Object.keys(_types_Store__WEBPACK_IMPORTED_MODULE_3__.F8).reduce((function(accum,key){var value=_types_Store__WEBPACK_IMPORTED_MODULE_3__.F8[key];return accum[(0,_types_Store__WEBPACK_IMPORTED_MODULE_3__.N3)(value)]=value,accum}),{undefined:"All"});function ordersSearchQueryToSearchState(searchQuery){var searchParameters={};if(searchQuery.start_date||searchQuery.end_date){var startDate=searchQuery.start_date?moment__WEBPACK_IMPORTED_MODULE_1__(searchQuery.start_date):null,endDate=searchQuery.end_date?moment__WEBPACK_IMPORTED_MODULE_1__(searchQuery.end_date):null;searchParameters.dateFilter=[startDate,endDate]}if(searchQuery.weight_gt||searchQuery.weight_lt||searchQuery.weight_unit){var minWeight=searchQuery.weight_gt?searchQuery.weight_gt:"",maxWeight=searchQuery.weight_lt?searchQuery.weight_lt:"",weightUnit=searchQuery.weight_unit?searchQuery.weight_unit:"lb",fallbackWeightUnit=_constants_weight__WEBPACK_IMPORTED_MODULE_0__.bm[weightUnit]||"lb";searchParameters.weightFilter={minWeight,maxWeight,weightUnit:fallbackWeightUnit}}if(searchQuery.order_status&&(searchParameters.orderStatus=searchQuery.order_status),"created_at"===searchQuery.sort_by){var sortField="desc"===searchQuery.order_by?"-created_at":"created_at";searchParameters.sortField=sortField}return"_score"===searchQuery.sort_by&&(searchParameters.sortField="most_relevant"),searchQuery.is_international&&(searchParameters.isInternational=searchQuery.is_international),searchQuery.shop_app&&(searchParameters.storeFilter=searchQueryToSearchStateStoreValues[searchQuery.shop_app]),searchQuery.page&&(searchParameters.currentPageNumber=parseInt(searchQuery.page,10)),searchQuery.results&&(searchParameters.currentPerPage=parseInt(searchQuery.results,10)),searchQuery.hidden&&(searchParameters.hidden="true"===searchQuery.hidden),searchQuery.saved&&(searchParameters.saved=searchQuery.saved),searchParameters.itemFilter=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.xu)(searchQuery,"item"),searchParameters.shippingMethodsFilter=function shippingMethodsQueryToState(searchQuery){return Object.entries(searchQuery).filter((function(_a){return(0,tslib__WEBPACK_IMPORTED_MODULE_6__.zs)(_a,1)[0].includes("shipping_method")})).reduce((function(accum,_a){var value=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.zs)(_a,2)[1];return value&&accum.push(value),accum}),[])}(searchQuery),searchParameters.orderTagsFilter={tags:(0,_utils__WEBPACK_IMPORTED_MODULE_5__.xu)(searchQuery,"tag"),untagged:"true"===searchQuery.untagged},searchParameters.searchBarQuery=searchQuery.q||"",(0,tslib__WEBPACK_IMPORTED_MODULE_6__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_6__.Cl)({},defaultOrdersSearchParams),searchParameters)}function ordersSearchStateToSearchQuery(searchState){var queryParams={},sortParameters=function(sortField){switch(sortField){case"-created_at":queryParams.order_by="desc",queryParams.sort_by="created_at";break;case"created_at":queryParams.order_by="asc",queryParams.sort_by="created_at";break;default:queryParams.order_by="desc",queryParams.sort_by="_score"}};for(var filterKey in searchState)if(JSON.stringify(searchState[filterKey])!==JSON.stringify(defaultOrdersSearchParams[filterKey]))switch(filterKey){case"sortField":sortParameters(searchState.sortField);break;case"shippingMethodsFilter":var shippingMethodParams=searchState.shippingMethodsFilter.reduce((function(accum,item,index){return accum["shipping_method[".concat(index,"]")]=item,accum}),{});Object.entries(shippingMethodParams).forEach((function(_a){var _b=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.zs)(_a,2),key=_b[0],value=_b[1];queryParams[key]=value}));break;case"orderStatus":queryParams.order_status=searchState[filterKey];break;case"isInternational":queryParams.is_international=searchState[filterKey];break;case"dateFilter":var _a=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.zs)(searchState[filterKey],2),startDate=_a[0],endDate=_a[1];moment__WEBPACK_IMPORTED_MODULE_1__.isMoment(startDate)&&(queryParams.start_date=startDate.format()),moment__WEBPACK_IMPORTED_MODULE_1__.isMoment(endDate)&&(queryParams.end_date=endDate.format());break;case"storeFilter":"all"!==(filterValue=searchState[filterKey])&&(queryParams.shop_app=(0,_types_Store__WEBPACK_IMPORTED_MODULE_3__.N3)(filterValue));break;case"weightFilter":var _b=searchState[filterKey],minWeight=_b.minWeight,maxWeight=_b.maxWeight,weightUnit=_b.weightUnit;queryParams.weight_gt=minWeight,queryParams.weight_lt=maxWeight,queryParams.weight_unit=weightUnit;break;case"searchBarQuery":var filterValue=searchState[filterKey];queryParams.q=filterValue;break;case"currentPerPage":filterValue=searchState[filterKey];queryParams.results=String(filterValue);break;case"currentPageNumber":filterValue=searchState[filterKey];queryParams.page=parseInt(String(filterValue),10).toString();break;case"hidden":filterValue=searchState[filterKey];queryParams.hidden=String(filterValue);break;case"itemFilter":filterValue=searchState[filterKey];(0,_utils__WEBPACK_IMPORTED_MODULE_5__.zM)(filterValue,queryParams,"item");break;case"saved":filterValue=searchState[filterKey];queryParams.saved=String(filterValue);break;case"orderTagsFilter":filterValue=searchState[filterKey];(0,_utils__WEBPACK_IMPORTED_MODULE_5__.zM)(filterValue.tags,queryParams,"tag"),queryParams.untagged=String(filterValue.untagged)}var selectedKeys=Object.keys(queryParams);return 0===selectedKeys.length||1===selectedKeys.length&&queryParams.page||sortParameters(searchState.sortField),queryParams}!function(BulkDrawerLoadOptions){BulkDrawerLoadOptions.ADDRESS="customer",BulkDrawerLoadOptions.RATES="carrierService",BulkDrawerLoadOptions.ITEMS="items",BulkDrawerLoadOptions.PACKAGE="packageInformation",BulkDrawerLoadOptions.ORDER="order",BulkDrawerLoadOptions.DEFAULT="default"}(BulkDrawerLoadOptions||(BulkDrawerLoadOptions={}))},"./app/pages/Orders/Blackbeard/types/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c4:()=>getRegExpForQueryParameter,t7:()=>areEqual,xu:()=>searchQueryToSearchParameter,zM:()=>searchParameterToSearchQuery});var tslib__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),getRegExpForQueryParameter=(__webpack_require__("./app/constants/distance.ts"),__webpack_require__("./app/constants/weight.ts"),__webpack_require__("./app/types/LineItem.ts"),__webpack_require__("./app/types/Order.ts"),__webpack_require__("./app/types/OrderBatchEntry.ts"),__webpack_require__("./app/types/ParcelTemplate.ts"),function(parameter){return new RegExp("^".concat(parameter,"(\\[\\d+\\])?$"))}),searchQueryToSearchParameter=function(searchQuery,parameter){return Object.entries(searchQuery).filter((function(_a){var key=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.zs)(_a,1)[0];return getRegExpForQueryParameter(parameter).test(key)})).reduce((function(accum,_a){var value=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.zs)(_a,2)[1];return value&&accum.push(value),accum}),[])},searchParameterToSearchQuery=function(filterValue,queryParams,parameter){filterValue.forEach((function(item,index){queryParams["".concat(parameter,"[").concat(index,"]")]=item}))},areEqual=function(a,b){return JSON.stringify(a)===JSON.stringify(b)}},"./app/services/web-orders.service/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{mS:()=>web_orders_service_WEB_ORDERS_API,WF:()=>getOrders,$t:()=>removeOrdersTags,m6:()=>updateOrdersTags});var api=__webpack_require__("./app/services/api.ts");var getOrders=function(_a){var destination=_a.destination,end_date=_a.end_date,id=_a.id,item=_a.item,mass_max=_a.mass_max,mass_min=_a.mass_min,mass_unit=_a.mass_unit,order_by=_a.order_by,order_status=_a.order_status,page=_a.page,results=_a.results,shipping_method=_a.shipping_method,shop_app=_a.shop_app,sort_by=_a.sort_by,start_date=_a.start_date,tag=_a.tag,untagged=_a.untagged;return api.gH.request({url:"".concat(web_orders_service_WEB_ORDERS_API),method:"GET",params:{destination,end_date,id,item,mass_max,mass_min,mass_unit,order_by,order_status,page,results,shipping_method,shop_app,sort_by,start_date,tag,untagged}})},updateOrdersTags=function(_a){var order_ids=_a.order_ids,tag_ids=_a.tag_ids;return api.gH.request({url:"".concat(web_orders_service_WEB_ORDERS_API,"/tags"),method:"POST",data:{order_ids,tag_ids}})},removeOrdersTags=function(_a){var order_ids=_a.order_ids,tag_ids=_a.tag_ids;return api.gH.request({url:"".concat(web_orders_service_WEB_ORDERS_API,"/tags"),method:"DELETE",data:{order_ids,tag_ids}})},web_orders_service_WEB_ORDERS_API="/web_orders"},"./app/utils/featureflags/FeatureFlagsProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U2:()=>optimizelyClient});__webpack_require__("./node_modules/react/index.js");var react_sdk=__webpack_require__("./node_modules/@optimizely/react-sdk/dist/react-sdk.js"),esm_exports=(__webpack_require__("./node_modules/react-redux/es/index.js"),__webpack_require__("./app/selectors/user.selectors.ts"),__webpack_require__("./node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js")),errorHandler=(__webpack_require__("./app/utils/fullstory/tracking.ts"),{handleError:function(error){esm_exports.wd("[Optimizely] ".concat(null==error?void 0:error.message))}}),optimizelyClient=(0,react_sdk.Q_)({sdkKey:"5BDuBhgGXbHXWEXMojbEi",datafileOptions:{autoUpdate:!0},errorHandler,logLevel:3,eventBatchSize:10,eventFlushInterval:1e3})},"./app/utils/featureflags/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{gH:()=>FeatureFlags,u:()=>useFeatureFlag});var DEFAULT_SPLIT_VARIATION="control",VariationTypes={ROLLOUT:["on","off"],A_B_TESTING:["control","variant","not-included"],OPT_IN_OUT:["initialOptIn","initialOptOut","disabled"]},FeatureFlags={SHIPMENTS_BULK_SELECTION:{name:"shipments_bulk_selection",variationType:VariationTypes.A_B_TESTING},ORDERS_REDESIGN:{name:"orders_redesign",variationType:VariationTypes.ROLLOUT},ORDERS_REDESIGN_WITH_OPT_IN_OPT_OUT:{name:"orders_redesign_with_opt_in_opt_out",variationType:VariationTypes.OPT_IN_OUT},ORDERS_REDESIGN_ALLOW_TOGGLE:{name:"orders_redesign_allow_toggle",variationType:VariationTypes.ROLLOUT},ORDER_TAG_MVP:{name:"order_tag_mvp",variationType:VariationTypes.ROLLOUT},FEDEX_NEW_API_ENABLED:{name:"fedex_new_api_enabled_ui",variationType:VariationTypes.ROLLOUT},RATES_BEST_OPTION:{name:"rates_best_option",variationType:VariationTypes.A_B_TESTING},OPEN_ORDER_DRAWER_ON_BACK:{name:"open_order_drawer_on_back",variationType:VariationTypes.ROLLOUT},UPS_OAUTH_REGISTRATION_ENABLED:{name:"ups_oauth_registration_enabled",variationType:VariationTypes.ROLLOUT},DISPLAY_INVALID_IMPORTED_ADDRESSES:{name:"display_invalid_imported_addresses",variationType:VariationTypes.ROLLOUT},AUTOMATION_RECOMMENDATIONS:{name:"automation_recommendations",variationType:VariationTypes.ROLLOUT},USPS_AES_ITN_UI:{name:"usps_aes_itn_ui",variationType:VariationTypes.ROLLOUT},SQUARE_STORE_CONNECTION:{name:"square_store_connection_setup",variationType:VariationTypes.ROLLOUT},MAGENTO2_STORE_CONNECTION:{name:"magento2_store_connection_setup",variationType:VariationTypes.ROLLOUT},INSURANCE_LARGE_PACKAGES_UPSELL:{name:"insurance_large_packages_upsell",variationType:VariationTypes.A_B_TESTING},TURN_ON_IBD_XCOVER:{name:"turn_on_ibd_xcover",variationType:VariationTypes.ROLLOUT},WOO_STORE_CONNECTION:{name:"woocommerce_store_connection_setup",variationType:VariationTypes.ROLLOUT},SQUARESPACE_STORE_CONNECTION:{name:"squarespace_store_connection_setup",variationType:VariationTypes.ROLLOUT},RECENT_TEMPLATES_NEW_API:{name:"recent_templates_new_api",variationType:VariationTypes.ROLLOUT},SHIPPING_METHODS_NEW_API:{name:"shipping_methods_new_api",variationType:VariationTypes.ROLLOUT},NEW_ZERO_STATE_OVERLAY:{name:"zerostateoverlay",variationType:VariationTypes.ROLLOUT},BLOCK_API_KEY_GENERATION:{name:"block_api_key_generation",variationType:VariationTypes.ROLLOUT},SHIPPING_RISK_ASSESSMENT:{name:"insurance_risk_score_jan_2025",variationType:VariationTypes.ROLLOUT}},tslib_es6=(__webpack_require__("./app/utils/featureflags/FeatureFlagsProvider.tsx"),__webpack_require__("./node_modules/tslib/tslib.es6.mjs")),react_sdk=__webpack_require__("./node_modules/@optimizely/react-sdk/dist/react-sdk.js");function useFeatureFlag(featureFlag,options){var _a=(0,tslib_es6.zs)((0,react_sdk.A2)(featureFlag.name,{autoUpdate:!0,decideOptions:(null==options?void 0:options.blockEvent)?[react_sdk.kn.DISABLE_DECISION_EVENT]:[]}),2),decision=_a[0];return _a[1]?featureFlag.variationType===VariationTypes.ROLLOUT?{enabled:"on"===decision.variationKey}:featureFlag.variationType===VariationTypes.OPT_IN_OUT?{variation:"off"===decision.variationKey?"initialOptIn":decision.variationKey}:{variation:"off"===decision.variationKey?DEFAULT_SPLIT_VARIATION:decision.variationKey}:null}},"./app/utils/tableFiltersTracking.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>getFilterTrackingObject,Z:()=>getFilterTrackingName});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/moment/moment.js"),getFilterTrackingName=function(filter){var filtersTrackingNames={sortField:"Sort",orderStatus:"Order type",orderTagsFilter:"Tags",isInternational:"Destinations",dateFilter:"Date",storeFilter:"Stores",itemFilter:"Items",weightFilter:"Weight",shippingMethodsFilter:"Shipping methods",trackingStatus:"Tracking status",labelStatusFilter:"Label status",createdByFilter:"Created by",carrierFilter:"Carrier",labelTypeFilter:"Label type"};return filtersTrackingNames[filter]?filtersTrackingNames[filter]:filter},getFilterTrackingObject=function(filter,value){var filtersTrackingLogic={sortField:function(){return{value:"-created_at"===value?"newest":"created_at"===value?"oldest":"most relevant"}},orderTagsFilter:function(){return{tagQty:value.tags.length,includeUntagged:value.untagged}},isInternational:function(){return{value:""===value?"all destinations":"true"===value?"international":"domestic"}},dateFilter:function(){var dateFrom=value[0]?value[0]:"",dateTo=value[1]?value[1]:"",filterType=dateFrom&&dateTo?"range":dateFrom?"after date":dateTo?"before date":"clear",todayDate=moment__WEBPACK_IMPORTED_MODULE_0__(),daysRange=dateFrom&&dateTo?{daysRange:dateTo.diff(dateFrom,"days")}:dateFrom?{daysRange:todayDate.diff(dateFrom,"days")}:{};return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({dateFrom:dateFrom?dateFrom.format("L"):"",dateTo:dateTo?dateTo.format("L"):""},daysRange),{filterType})},itemFilter:function(){return{items:value,itemQty:value.length}},weightFilter:function(){var minWeight=value.minWeight||"",maxWeight=value.maxWeight||"";return{filterType:minWeight&&maxWeight?"range":minWeight?"min":maxWeight?"max":"clear",minWeight,maxWeight,weightUnit:value.weightUnit||""}},shippingMethodsFilter:function(){return{shippingMethods:value,shippingMethodQty:value.length}}},filterTrackingObject=filtersTrackingLogic[filter]?filtersTrackingLogic[filter]():void 0;return filterTrackingObject?(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cl)({filter:getFilterTrackingName(filter)},filterTrackingObject):{filter:getFilterTrackingName(filter),value}}}}]);