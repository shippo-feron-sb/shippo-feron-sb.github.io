"use strict";(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[6142],{"./app/selectors/batch-entry.composite.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{zO:()=>getAreAllSenderReturnAddressesEqual});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),currency=__webpack_require__("./app/constants/currency.ts"),format=__webpack_require__("./node_modules/date-fns/esm/format/index.js"),isSameDay=__webpack_require__("./node_modules/date-fns/esm/isSameDay/index.js"),flatten=__webpack_require__("./node_modules/lodash-es/flatten.js"),forOwn=__webpack_require__("./node_modules/lodash-es/forOwn.js"),keyBy=__webpack_require__("./node_modules/lodash-es/keyBy.js"),moment=__webpack_require__("./node_modules/moment/moment.js"),Address=__webpack_require__("./app/types/Address.ts"),CustomsDeclaration=__webpack_require__("./app/types/CustomsDeclaration.ts"),Order=__webpack_require__("./app/types/Order.ts"),OrdersBatch=__webpack_require__("./app/types/OrdersBatch.ts"),Transaction=__webpack_require__("./app/types/Transaction.ts");const RatingErrors_hasRatingErrors=function(order,batchEntry,shipment,transaction,rates,hasValidSenderAddress){var _a,_b,_c,_d,showRecipientAddressError=(0,Order.$I)(order)&&!(null==batchEntry?void 0:batchEntry.addressTo),showParcelError=!(null==batchEntry?void 0:batchEntry.parcel),_e=(0,Address.ZK)(order,batchEntry),addressFrom=_e.addressFrom,addressTo=_e.addressTo,hasPhoneNumberRequiredError=(0,CustomsDeclaration.gG)({addressFrom,addressTo}).hasPhoneNumberRequiredError,isAddressFromIncomplete=!!addressFrom&&(0,Address.I2)(addressFrom),showSenderAddressError=!hasValidSenderAddress&&!addressFrom||isAddressFromIncomplete,transactionHasErrors=(null==batchEntry?void 0:batchEntry.objectStatus)===OrdersBatch.jV.COMPLETE_TRANSACTION&&(null==transaction?void 0:transaction.status)===Transaction.LN.ERROR||(null==batchEntry?void 0:batchEntry.objectStatus)===OrdersBatch.jV.TRANSACTION_REQUEST_FAILED,hasShipmentErrors=!!shipment&&shipment.messages.length>0&&0===rates.length,hasParcelWeightErrors=batchEntry?!(Number(null===(_a=batchEntry.parcel)||void 0===_a?void 0:_a.weight)>0&&(null===(_b=batchEntry.parcel)||void 0===_b?void 0:_b.weightUnit)):!(Number(null===(_c=null==order?void 0:order.parcel)||void 0===_c?void 0:_c.weight)>0&&(null===(_d=null==order?void 0:order.parcel)||void 0===_d?void 0:_d.weightUnit)),batchEntryErrors=(null==batchEntry?void 0:batchEntry.errors)?(0,tslib_es6.ev)([],(0,tslib_es6.CR)(batchEntry.errors),!1):[],orderErrors=0===(null==batchEntry?void 0:batchEntry.partialFulfillmentRank)||0===order.partialFulfillmentRequests.length?(0,tslib_es6.ev)([],(0,tslib_es6.CR)(order.errors),!1):[],hasExceededPackageWeightError=!!(batchEntryErrors.length?batchEntryErrors:orderErrors).find((function(error){return"order_weight_exceeded"===error.code}));return{hasErrors:showRecipientAddressError||showParcelError||showSenderAddressError||transactionHasErrors||hasShipmentErrors||hasParcelWeightErrors||hasExceededPackageWeightError||hasPhoneNumberRequiredError,hasExceededPackageWeightError,transactionHasErrors,hasShipmentErrors,hasParcelWeightErrors,showRecipientAddressError,showSenderAddressError,showParcelError,hasPhoneNumberRequiredError}};var es=__webpack_require__("./node_modules/reselect/es/index.js"),batch_entry_selectors=__webpack_require__("./app/selectors/batch-entry.selectors.ts"),props_selectors=__webpack_require__("./app/selectors/props.selectors.ts"),APIMessage=__webpack_require__("./app/types/APIMessage.ts"),OrderBatchEntry=__webpack_require__("./app/types/OrderBatchEntry.ts"),carriers=__webpack_require__("./app/constants/carriers.ts"),CarrierAccountRegStatus=__webpack_require__("./app/types/CarrierAccountRegStatus.ts"),fetchable=__webpack_require__("./app/utils/fetchable.ts"),getCarrierAccountsStore=function(state){return state.carrierAccounts},getCarrierAccounts=(0,es.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.carrierAccounts})),getCarrierAccountRegStatusMap=(0,es.createSelector)(getCarrierAccountsStore,(function(carrierAccountStore){return carrierAccountStore.carrierAccountRegStatusMap})),getExtractedCarrierAccountRegStatusMap=(0,es.createSelector)(getCarrierAccountRegStatusMap,(function(carrierAccountRegStatusMap){return(0,fetchable.sL)(carrierAccountRegStatusMap)||{}})),getCarrierAccountRegStatusesIncomplete=((0,es.createSelector)(getCarrierAccounts,getExtractedCarrierAccountRegStatusMap,(function(carrierAccounts,carrierAccountRegStatusMap){return carrierAccounts.filter((function(carrierAccount){return carrierAccountRegStatusMap[carrierAccount.objectId]?carrierAccount.isShippoAccount&&carrierAccountRegStatusMap[carrierAccount.objectId]!==CarrierAccountRegStatus.B.OPTED_OUT:carrierAccount.isShippoAccount}))})),(0,es.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.carrierAccounts.filter((function(carrierAccount){return!carrierAccount.isShippoAccount}))})),(0,es.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){var objectIdMap={};return carrierAccountsStore.carrierAccounts.map((function(carrierAccount){carrierAccount.objectId&&(objectIdMap[carrierAccount.objectId]=carrierAccount)})),objectIdMap})),(0,es.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return hasMasterAccount(carrierAccountsStore.carrierAccounts,carriers.B8)})),(0,es.createSelector)(getCarrierAccounts,getExtractedCarrierAccountRegStatusMap,(function(carrierAccounts,carrierAccountRegStatusMap){return hasCarrierAccountWithParameter(carrierAccounts,"billing_address_street1")||hasRegisteredMasterAccount(carrierAccounts,carriers.B8,carrierAccountRegStatusMap)})),(0,es.createSelector)(getCarrierAccounts,getExtractedCarrierAccountRegStatusMap,(function(carrierAccounts,carrierAccountRegStatusMap){return hasRegisteredMasterAccount(carrierAccounts,carriers.U4,carrierAccountRegStatusMap)})),(0,es.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return hasCarrierAccountWithParameter(carrierAccountsStore.carrierAccounts,"platform_id_key","eBay")})),(0,es.createSelector)(getExtractedCarrierAccountRegStatusMap,(function(carrierAccountsRegStatuses){return Object.keys(carrierAccountsRegStatuses).reduce((function(results,objectId){return carrierAccountsRegStatuses[objectId]!==CarrierAccountRegStatus.B.COMPLETE&&(results[objectId]=carrierAccountsRegStatuses[objectId]),results}),{})}))),hasCarrierAccountWithParameter=((0,es.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.isFetchingCarrierAccounts})),(0,es.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.isSavingCarrierAccount})),(0,es.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.errorMessage})),(0,es.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.successfulSubmit})),(0,es.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.successfulFetch})),(0,es.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.editingCarrierAccountId})),(0,es.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.modalStatus})),(0,es.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.editingCarrierServiceLevelsError})),function(carrierAccounts,parameterKey,parameterValue){return carrierAccounts.some((function(account){return account.parameters&&account.parameters[parameterKey]&&(void 0===parameterValue||account.parameters[parameterKey]===parameterValue)}))}),hasMasterAccount=function(carrierAccounts,carrier){return carrierAccounts.some((function(account){return account.isShippoAccount&&account.carrier.id===carrier.id}))},hasRegisteredMasterAccount=function(carrierAccounts,carrier,regStatuses){return carrierAccounts.some((function(account){return account.isShippoAccount&&account.carrier.id===carrier.id&&account.objectId&&regStatuses[account.objectId]===CarrierAccountRegStatus.B.COMPLETE||regStatuses[account.objectId]===CarrierAccountRegStatus.B.OPTED_OUT}))},difference=__webpack_require__("./node_modules/lodash-es/difference.js"),orders_selectors=__webpack_require__("./app/selectors/orders.selectors.ts"),rates_selectors=__webpack_require__("./app/selectors/rates.selectors.ts"),Shipment=__webpack_require__("./app/types/Shipment.ts"),getTransactionsState=function(state){return state.transactions},transactions_selectors_getTransactionsData=(0,es.createSelector)(getTransactionsState,(function(transactionsState){return transactionsState.data})),getOrderIdFromProps=((0,es.createSelector)(transactions_selectors_getTransactionsData,(function(transactionsData){return Object.values(transactionsData).filter((function(transaction){return transaction.status===Transaction.LN.SUCCESS}))})),(0,es.createSelector)(transactions_selectors_getTransactionsData,(function(transactionsData){return Object.values(transactionsData).filter((function(transaction){return transaction.status===Transaction.LN.ERROR}))})),(0,es.createSelector)(getTransactionsState,(function(transactionsState){return transactionsState.isRefundLoading})),(0,es.createSelector)(transactions_selectors_getTransactionsData,props_selectors.t2,(function(transactionsData,transactionId){return transactionsData[transactionId]})),(0,es.createSelector)(getTransactionsState,(function(transactionsState){return transactionsState.fetchingTransactions})),function(_,props){return props.orderId}),getBatchStore=function(state){return state.ordersBatch},getBatchData=((0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.isLoadingBatch})),(0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.data}))),getBatchOrders=(0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.orders})),getBatchEntries=((0,es.createSelector)(getBatchOrders,(function(orders){return orders.allObjectIds.length})),(0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.batchEntries}))),getBatchShipments=(0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.shipments})),getBatchTransactions=((0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.hasPollingTimedOut})),(0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.transactions}))),getBatchOrdersData=(0,es.createSelector)(getBatchOrders,(function(batchOrders){return batchOrders.data})),getBatchOrdersAllIds=(0,es.createSelector)(getBatchOrders,(function(batchOrders){return batchOrders.allObjectIds})),getBatchEntriesData=((0,es.createSelector)(orders_selectors.cT,getOrderIdFromProps,(function(ordersData,orderObjectId){return ordersData[orderObjectId]})),(0,es.createSelector)(getBatchEntries,(function(batchEntries){return batchEntries.data}))),getBatchEntriesByOrder=(0,es.createSelector)(getBatchEntries,(function(batchEntries){return batchEntries.byOrderObjectId})),getBatchShipmentsData=(0,es.createSelector)(getBatchShipments,(function(batchShipments){return batchShipments.data})),getBatchShipmentByShipmentId=(0,es.createSelector)(getBatchShipmentsData,(function(_,props){return props.shipmentObjectId}),(function(batchShipmentData,shipmentObjectId){return batchShipmentData[shipmentObjectId]})),getBatchShipmentsByBatchEntry=((0,es.createSelector)(getBatchShipmentByShipmentId,getBatchEntriesData,(function(batchShipment,batchEntries){return batchEntries[batchShipment.batchEntryId]})),(0,es.createSelector)(getBatchShipmentByShipmentId,getBatchEntriesData,(function(batchShipment,batchEntries){return batchEntries[batchShipment.batchEntryId]})),(0,es.createSelector)(getBatchShipments,(function(batchShipments){return batchShipments.byBatchEntryId}))),getBatchTransactionsData=(0,es.createSelector)(getBatchTransactions,(function(batchTransactions){return batchTransactions.data})),getBatchTransactionsByBatchEntry=(0,es.createSelector)(getBatchTransactions,(function(batchTransactions){return batchTransactions.byBatchEntryId})),getBatchExcludedOrderIds=(0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.excludedOrdersIds})),getBatchOrder=(0,es.createSelector)(getBatchOrdersData,getOrderIdFromProps,(function(batchOrdersData,orderObjectId){return batchOrdersData[orderObjectId]})),getOutboundBatchEntryFromOrderId=((0,es.createSelector)(getBatchData,(function(batchData){return batchData?batchData.id:null})),(0,es.createSelector)(getBatchEntriesData,getBatchEntriesByOrder,getOrderIdFromProps,(function(batchEntriesData,batchEntriesByOrder,orderId){return Object.values(batchEntriesData).find((function(batchEntry){return batchEntriesByOrder[orderId].includes(batchEntry.id)&&!batchEntry.isReturn}))||null}))),getBatchOrderBatchEntries=((0,es.createSelector)(getOutboundBatchEntryFromOrderId,(function(batchEntry){return batchEntry?batchEntry.id:null})),(0,es.createSelector)(getBatchOrder,getBatchEntriesData,getBatchEntriesByOrder,(function(batchOrder,batchEntriesData,batchEntriesByOrder){return batchOrder?(batchEntriesByOrder[batchOrder.objectId]||[]).map((function(batchEntryId){return batchEntriesData[batchEntryId]})):[]}))),getOutboundBatchEntry=(0,es.createSelector)(getBatchOrderBatchEntries,(function(batchEntries){return batchEntries.find((function(batchEntry){return!batchEntry.isReturn}))||null})),getReturnBatchEntry=(0,es.createSelector)(getBatchOrderBatchEntries,(function(batchEntries){return batchEntries.find((function(batchEntry){return batchEntry.isReturn}))||null})),getBatchEntryOutboundShipment=(0,es.createSelector)(getOutboundBatchEntry,getBatchShipmentsData,getBatchShipmentsByBatchEntry,(function(outboundBatchEntry,batchShipmentsData,batchShipmentsByBatchEntry){return outboundBatchEntry?(batchShipmentsByBatchEntry[outboundBatchEntry.id]||[]).map((function(shipmentObjectId){return batchShipmentsData[shipmentObjectId]}))[0]:null})),getNotExcludedOrdersIds=((0,es.createSelector)(getOutboundBatchEntry,getBatchTransactionsData,getBatchTransactionsByBatchEntry,(function(outboundBatchEntry,batchTransactionsData,batchTransactionsByEntry){return outboundBatchEntry?(batchTransactionsByEntry[outboundBatchEntry.id]||[]).map((function(transactionObjectId){return batchTransactionsData[transactionObjectId]}))[0]:null})),(0,es.createSelector)(getReturnBatchEntry,getBatchTransactionsData,getBatchTransactionsByBatchEntry,(function(returnBatchEntry,batchTransactionsData,batchTransactionsByEntry){return returnBatchEntry?(batchTransactionsByEntry[returnBatchEntry.id]||[]).map((function(transactionObjectId){return batchTransactionsData[transactionObjectId]}))[0]:null})),(0,es.createSelector)(rates_selectors.VF,getBatchEntryOutboundShipment,(function(selectedRates,outboundShipment){return outboundShipment?selectedRates[outboundShipment.objectId]:null})),(0,es.createSelector)(getBatchEntryOutboundShipment,(function(outboundShipment){return outboundShipment?outboundShipment.selectedRateObjectId:null})),(0,es.createSelector)(getBatchOrdersAllIds,getBatchExcludedOrderIds,(function(allIds,excludedIds){return(0,difference.Z)(allIds,excludedIds)}))),getNotExcludedOrders=(0,es.createSelector)(orders_selectors.cT,getNotExcludedOrdersIds,(function(ordersData,notExcludedOrderIds){return notExcludedOrderIds.map((function(orderId){return ordersData[orderId]})).filter((function(v){return v}))})),getBatchValidOrders=((0,es.createSelector)(getBatchEntriesData,getBatchExcludedOrderIds,(function(batchEntriesData,excludedOrdersIds){return Object.values(batchEntriesData).filter((function(batchEntry){return!excludedOrdersIds.includes(batchEntry.orderObjectId)}))})),(0,es.createSelector)(getNotExcludedOrders,getBatchEntries,(function(notExcludedOrders,batchEntries){return notExcludedOrders.filter((function(order){var entriesByOrder=batchEntries.byOrderObjectId[order.objectId];if(!entriesByOrder)return!1;var batchEntryId=entriesByOrder[0];return batchEntries.data[batchEntryId].objectStatus===OrdersBatch.jV.INVALID_ORDER}))})),(0,es.createSelector)(getNotExcludedOrders,getBatchEntries,(function(notExcludedOrders,batchEntries){return notExcludedOrders.filter((function(order){var entriesByOrder=batchEntries.byOrderObjectId[order.objectId];if(!entriesByOrder)return!1;var batchEntryId=entriesByOrder[0];return batchEntries.data[batchEntryId].objectStatus!==OrdersBatch.jV.INVALID_ORDER}))}))),getOrdersWithTransactions=((0,es.createSelector)(getNotExcludedOrders,(function(notExcludedOrders){return notExcludedOrders.filter((function(order){return order.validationStatus===Order.Qe.INVALID}))})),(0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.currentStep})),(0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.wasOrdersFetchTriggered})),(0,es.createSelector)(getBatchOrdersData,getBatchEntriesByOrder,getBatchTransactionsByBatchEntry,(function(batchOrders,batchEntriesByOrder,batchTransactionsByEntry){return Object.values(batchOrders).filter((function(batchOrder){return(batchEntriesByOrder[batchOrder.objectId]||[]).some((function(batchEntryId){return 0!==(batchTransactionsByEntry[batchEntryId]||[]).length}))}))}))),getSuccessfulBatchTransactions=(0,es.createSelector)(getBatchTransactions,(function(batchTransactions){return Object.values(batchTransactions.data).filter((function(batchTransaction){return batchTransaction.objectStatus===Transaction.LN.SUCCESS}))})),getEntriesWithSuccessfulTransactions=(0,es.createSelector)(getBatchEntries,getSuccessfulBatchTransactions,(function(batchEntries,batchTransactions){return batchTransactions.map((function(batchTransaction){return{orderObjectId:batchEntries.data[batchTransaction.batchEntryId].orderObjectId,batchEntryId:batchTransaction.batchEntryId}})).reduce((function(entries,_a){var _b,orderObjectId=_a.orderObjectId,batchEntryId=_a.batchEntryId;return entries.orderObjectIds.push(orderObjectId),entries.batchEntryIds.push(batchEntryId),void 0===entries.orderSelection[orderObjectId]&&(entries.orderSelection=(0,tslib_es6.pi)((0,tslib_es6.pi)({},entries.orderSelection),((_b={})[orderObjectId]=[],_b))),entries.orderSelection[orderObjectId].push(batchEntryId),entries}),{batchEntryIds:[],orderObjectIds:[],orderSelection:{}})})),getIgnoredShipmentIds=((0,es.createSelector)(getBatchEntriesData,getBatchEntriesByOrder,getEntriesWithSuccessfulTransactions,(function(batchEntriesData,batchEntriesByOrder,entriesWithSuccessfulTxns){return batchEntriesData?entriesWithSuccessfulTxns.orderObjectIds.reduce((function(list,successfulOrderId){var outboundBatchEntry,returnBatchEntry;return batchEntriesByOrder[successfulOrderId].forEach((function(batchEntryId){var batchEntry=batchEntriesData[batchEntryId];batchEntry.isReturn?returnBatchEntry=batchEntry:outboundBatchEntry=batchEntry})),outboundBatchEntry&&returnBatchEntry&&(0,OrdersBatch.Fs)(returnBatchEntry)?(0,tslib_es6.ev)([outboundBatchEntry],(0,tslib_es6.CR)(list),!1):list}),[]):[]})),(0,es.createSelector)(getOrdersWithTransactions,(function(ordersWithTransactions){return ordersWithTransactions.map((function(batchOrder){return batchOrder.objectId}))})),(0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.isSavingPackageInformation})),(0,es.createSelector)(getBatchData,(function(batchData){return batchData&&batchData.transactionGroupStatus?batchData.transactionGroupStatus:null})),(0,es.createSelector)(getBatchData,(function(batchData){return batchData&&batchData.returnTransactionGroupStatus?batchData.returnTransactionGroupStatus:null})),(0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.selectedServiceLevelForAllOrders})),(0,es.createSelector)(getBatchStore,rates_selectors.VF,(function(batchStore,ratesData){return Object.keys(batchStore.shipments.data).filter((function(shipmentObjectId){return!ratesData[shipmentObjectId]}))}))),getIgnoredBatchEntries=(0,es.createSelector)(getIgnoredShipmentIds,getBatchStore,(function(ignoredShipmentIds,batchStore){return ignoredShipmentIds.reduce((function(ignoredBatchEntries,ignoredShipmentId){var batchShipment=batchStore.shipments.data[ignoredShipmentId],batchEntry=batchStore.batchEntries.data[batchShipment.batchEntryId],excludedOrder=batchStore.excludedOrdersIds.find((function(excludedOrderId){return excludedOrderId===batchEntry.orderObjectId}));return batchEntry.isReturn||excludedOrder?ignoredBatchEntries:(0,tslib_es6.ev)((0,tslib_es6.ev)([],(0,tslib_es6.CR)(ignoredBatchEntries),!1),[batchEntry],!1)}),[])})),getShipmentsWithoutRates=((0,es.createSelector)(getIgnoredBatchEntries,(function(ignoredBatchEntries){return ignoredBatchEntries.map((function(ignoredBatchEntry){return ignoredBatchEntry.orderObjectId}))})),(0,es.createSelector)(getBatchData,(function(batchData){return!(!batchData||!batchData.transactionGroupStatus)&&[OrdersBatch.Ae.PROCESSING,OrdersBatch.Ae.COMPLETE].includes(batchData.transactionGroupStatus)})),(0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.isCreatingTransactions})),(0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.inlineEditModalOpen})),(0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.inlineEditModalShowSlideContent})),(0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.inlineEditOrderId})),(0,es.createSelector)(getBatchEntriesData,(function(_,props){return props.batchEntryId}),(function(batchEntriesData,batchEntryId){return batchEntriesData[batchEntryId].userInput||null})),(0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.isFetchingUserBatchInput})),(0,es.createSelector)(getBatchShipmentsData,(function(batchShipmentsData){return Object.values(batchShipmentsData).filter((function(batchShipment){return 0===batchShipment.numRates&&(0,Shipment.PD)(batchShipment.objectStatus)}))}))),getFailedShipmentsBatchEntries=(0,es.createSelector)(getBatchEntriesData,(function(batchEntriesData){return Object.values(batchEntriesData).filter((function(batchEntry){return batchEntry.objectStatus===OrdersBatch.jV.SHIPMENT_REQUEST_FAILED}))})),getFailedTransactionBatchEntries=(0,es.createSelector)(getBatchEntriesData,getBatchTransactions,getBatchTransactionsData,(function(batchEntriesData,transactions,transactionsData){return Object.values(batchEntriesData).filter((function(batchEntry){return[OrdersBatch.jV.TRANSACTION_REQUEST_FAILED,OrdersBatch.jV.RATE_NOT_AVAILABLE].includes(batchEntry.objectStatus)||transactions.byBatchEntryId[batchEntry.id]&&transactionsData[transactions.byBatchEntryId[batchEntry.id][0]].objectStatus===Transaction.LN.ERROR}))})),getFailedBatchEntriesMessages=((0,es.createSelector)(getFailedTransactionBatchEntries,orders_selectors.cT,(function(failedBatchEntries,ordersData){return Object.values(failedBatchEntries).filter((function(entry){var _a;return null===(_a=ordersData[entry.orderObjectId])||void 0===_a?void 0:_a.orderNumber}))})),(0,es.createSelector)(getFailedTransactionBatchEntries,getBatchTransactions,transactions_selectors_getTransactionsData,(function(failedBatchEntries,batchTransactions,transactionsData){return failedBatchEntries.reduce((function(messagesByOrderId,batchEntry){var _a,messages=[OrdersBatch.jV.TRANSACTION_REQUEST_FAILED,OrdersBatch.jV.RATE_NOT_AVAILABLE].includes(batchEntry.objectStatus)?[{kind:"APIMessage",code:batchEntry.objectStatus,source:"batch-entry",text:batchEntry.objectStatus===OrdersBatch.jV.TRANSACTION_REQUEST_FAILED?"There was an error processing your request. Please try again later.":"Could not auto create return."}]:transactionsData[batchTransactions.byBatchEntryId[batchEntry.id][0]]?transactionsData[batchTransactions.byBatchEntryId[batchEntry.id][0]].messages:null;return messages?(0,tslib_es6.pi)((0,tslib_es6.pi)({},messagesByOrderId),((_a={})[batchEntry.orderObjectId]=messages,_a)):messagesByOrderId}),{})}))),getShipmentsStore=((0,es.createSelector)(getShipmentsWithoutRates,getFailedShipmentsBatchEntries,(function(shipmentsWithoutRates,failedShipmentBatchEntries){return shipmentsWithoutRates.length+failedShipmentBatchEntries.length})),(0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.selectedServiceLevelForAllOrders})),(0,es.createSelector)(getBatchValidOrders,getBatchEntriesByOrder,getBatchEntriesData,getBatchShipmentsByBatchEntry,rates_selectors.VF,(function(batchValidOrders,batchEntriesByOrder,batchEntriesData,shipmentsByEntry,selectedRates){return batchValidOrders.reduce((function(list,validOrder){var batchEntries=batchEntriesByOrder[validOrder.objectId].map((function(entry){return batchEntriesData[entry]})).filter((function(batchEntry){return!batchEntry.isReturn}));if(0===batchEntries.length)return list;var shipments=shipmentsByEntry[batchEntries[0].id];if(!shipments||1!==shipments.length)return list;var selectedRate=selectedRates[shipments[0]];return selectedRate?(0,tslib_es6.ev)((0,tslib_es6.ev)([],(0,tslib_es6.CR)(list),!1),[selectedRate],!1):list}),[])})),(0,es.createSelector)(getBatchStore,(function(batchStore){return batchStore.error})),function(state){return state.shipments}),getShipmentIdFromProps=function(_,props){return props.shipmentId?props.shipmentId:""},shipments_selectors_getShipmentLoadingStates=(0,es.createSelector)(getShipmentsStore,(function(shipmentsStore){return shipmentsStore.loadState})),getShipmentsData=(0,es.createSelector)(getShipmentsStore,(function(shipmentsStore){return shipmentsStore.data})),user_selectors=((0,es.createSelector)(getShipmentsData,getShipmentIdFromProps,(function(shipmentsData,shipmentId){return shipmentsData[shipmentId]})),(0,es.createSelector)(shipments_selectors_getShipmentLoadingStates,getShipmentIdFromProps,(function(loadingState,shipmentObjectId){return!!loadingState[shipmentObjectId]})),__webpack_require__("./app/selectors/user.selectors.ts"));(0,es.createSelector)(batch_entry_selectors.GW,shipments_selectors_getShipmentLoadingStates,(function(batchEntry,shipmentLoadingStates){return!(!batchEntry||!batchEntry.shipmentObjectId)&&(!shipmentLoadingStates.hasOwnProperty(batchEntry.shipmentObjectId)||!!shipmentLoadingStates[batchEntry.shipmentObjectId])})),(0,es.createSelector)(batch_entry_selectors.GW,rates_selectors.L0,rates_selectors.Dm,(function(batchEntry,activeRates,ratesByShipment){return batchEntry&&batchEntry.shipmentObjectId?(ratesByShipment[batchEntry.shipmentObjectId]||[]).map((function(rateId){return activeRates[rateId]})):[]})),(0,es.createSelector)(batch_entry_selectors.GW,rates_selectors.L0,rates_selectors.VF,(function(batchEntry,activeRates,selectedRates){if(!batchEntry||!batchEntry.shipmentObjectId)return null;var selectedRate=selectedRates[batchEntry.shipmentObjectId];return selectedRate?activeRates[selectedRate]:null}));var getSelectedBatchEntries=(0,es.createSelector)(orders_selectors.A0,(function(selectedOrders){return(0,flatten.Z)(Object.values(selectedOrders))})),getSelectedBatchEntriesByOrderId=(0,es.createSelector)(orders_selectors.A0,props_selectors.ik,(function(selectedOrders,orderObjectId){return selectedOrders[orderObjectId]||[]})),getBatchEntriesDataForSelectedOrders=(0,es.createSelector)(getSelectedBatchEntries,batch_entry_selectors.p8,(function(batchEntryIds,batchEntries){return batchEntryIds.map((function(batchEntryId){return batchEntries[batchEntryId]})).filter((function(v){return v}))})),getSelectedBatchEntriesShipments=(0,es.createSelector)(getBatchEntriesDataForSelectedOrders,getShipmentsData,(function(batchEntries,shipmentData){return batchEntries.reduce((function(shipments,_a){var shipmentObjectId=_a.shipmentObjectId;if(shipmentObjectId){var shipment=shipmentData[shipmentObjectId];shipment&&shipments.push(shipment)}return shipments}),[])})),getSelectedBatchEntriesShipmentsMessagesWithoutHidden=(0,es.createSelector)(getSelectedBatchEntriesShipments,(function(shipments){return shipments.reduce((function(selectedMessages,_a){var messages=_a.messages;return(0,tslib_es6.ev)((0,tslib_es6.ev)([],(0,tslib_es6.CR)(selectedMessages),!1),(0,tslib_es6.CR)(messages),!1)}),[]).filter(APIMessage.OL)})),getAddressesFromOrderSelection=((0,es.createSelector)(getSelectedBatchEntriesShipmentsMessagesWithoutHidden,(function(messages){var messagesByCarrier={};messages.forEach((function(message){var _a,text=message.text,source=message.source,carrierMessages=messagesByCarrier[source];carrierMessages?carrierMessages[text]=message:messagesByCarrier[source]=((_a={})[text]=message,_a)}));var uniqueMessagesArray=[];return(0,forOwn.Z)(messagesByCarrier,(function(messages){(0,forOwn.Z)(messages,(function(message){uniqueMessagesArray.push(message)}))})),uniqueMessagesArray})),(0,es.createSelector)(orders_selectors.A0,orders_selectors.cT,batch_entry_selectors.p8,user_selectors.x7,user_selectors.al,(function(orderSelection,ordersData,batchEntryData,defaultSenderAddress,defaultReturnAddress){return Object.entries(orderSelection).reduce((function(addresses,_a){var _b=(0,tslib_es6.CR)(_a,2),orderId=_b[0],batchEntries=_b[1],order=ordersData[orderId];if(batchEntries.length>0)batchEntries.forEach((function(id){var batchEntry=batchEntryData[id],senderAddress=(null==batchEntry?void 0:batchEntry.addressFrom)||(null==order?void 0:order.addressFrom)||defaultSenderAddress,returnAddress=(null==batchEntry?void 0:batchEntry.addressReturn)||(null==order?void 0:order.addressReturn)||defaultReturnAddress;senderAddress&&addresses.senderAddresses.every((function(address){return!(0,Address.WH)(senderAddress,address)}))&&addresses.senderAddresses.push(senderAddress),returnAddress&&addresses.returnAddresses.every((function(address){return!(0,Address.WH)(returnAddress,address)}))&&addresses.returnAddresses.push(returnAddress)}));else{var senderAddress_1=(null==order?void 0:order.addressFrom)||defaultSenderAddress,returnAddress_1=(null==order?void 0:order.addressReturn)||defaultReturnAddress;senderAddress_1&&addresses.senderAddresses.every((function(address){return!(0,Address.WH)(senderAddress_1,address)}))&&addresses.senderAddresses.push(senderAddress_1),returnAddress_1&&addresses.returnAddresses.every((function(address){return!(0,Address.WH)(returnAddress_1,address)}))&&addresses.returnAddresses.push(returnAddress_1)}return addresses}),{senderAddresses:[],returnAddresses:[]})}))),getAreAllSenderReturnAddressesEqual=(0,es.createSelector)(getAddressesFromOrderSelection,(function(addressesFromOrderSelection){return(0,Address.uo)(addressesFromOrderSelection.senderAddresses.concat(addressesFromOrderSelection.returnAddresses))})),getSelectedRatesForSelectedOrders=((0,es.createSelector)(getAddressesFromOrderSelection,(function(addressesFromOrderSelection){return addressesFromOrderSelection.senderAddresses.length>1})),(0,es.createSelector)(getAddressesFromOrderSelection,(function(addressesFromOrderSelection){return addressesFromOrderSelection.returnAddresses.length>1})),(0,es.createSelector)(getBatchEntriesDataForSelectedOrders,rates_selectors.L0,rates_selectors.VF,(function(batchEntries,activeRates,selectedRates){return batchEntries.map((function(batchEntry){if(!batchEntry.shipmentObjectId)return null;var selectedRate=selectedRates[batchEntry.shipmentObjectId];return selectedRate?activeRates[selectedRate]:null})).filter((function(v){return v}))}))),getOrderObjectIdByBatchEntry=(0,es.createSelector)(batch_entry_selectors.p8,props_selectors.jn,(function(batchEntries,batchEntryId){var _a;return(null===(_a=batchEntries[batchEntryId])||void 0===_a?void 0:_a.orderObjectId)||null})),batchEntriesToBuy=((0,es.createSelector)(getOrderObjectIdByBatchEntry,orders_selectors.cT,(function(orderObjectId,ordersData){return orderObjectId?ordersData[orderObjectId]:null})),(0,es.createSelector)(getSelectedRatesForSelectedOrders,(function(rates){return rates.reduce((function(obj,rate){return(0,tslib_es6.pi)((0,tslib_es6.pi)({},obj),{value:obj.value+Number(rate.amount),currencyISO:rate.currency})}),{value:0,currencyISO:currency.Q.USD.iso})})),(0,es.createSelector)(getShipmentsData,batch_entry_selectors.GW,(function(shipmentsData,batchEntry){return batchEntry&&batchEntry.shipmentObjectId?shipmentsData[batchEntry.shipmentObjectId]:null})),function(batchEntryIds,entriesData){return batchEntryIds.map((function(batchEntryId){return entriesData[batchEntryId]})).filter((function(v){return v}))}),getBatchEntriesToBuy=(0,es.createSelector)(props_selectors.UG,batch_entry_selectors.p8,batchEntriesToBuy),getBatchEntryIdsFromStore=(0,es.createSelector)(orders_selectors.A0,(function(selectedOrders){return(0,flatten.Z)(Object.values(selectedOrders))})),getBatchEntriesToBuyEntirelyFromStore=(0,es.createSelector)(getBatchEntryIdsFromStore,batch_entry_selectors.p8,batchEntriesToBuy),batchEntriestoBuyMostCommonShipmentDates=function(batchEntries){var dateCounts=batchEntries.map((function(batchEntry){return batchEntry.shipmentDate?batchEntry.shipmentDate.toDate():new Date})).reduce((function(acc,date){var _a,formattedDate=(0,format.Z)(date,"MM/dd/yy");return(0,tslib_es6.pi)((0,tslib_es6.pi)({},acc),((_a={})[formattedDate]=(acc[formattedDate]||0)+1,_a))}),{}),mostCommon=Object.keys(dateCounts).reduce((function(a,b){return dateCounts[a]>dateCounts[b]?a:b}),(0,format.Z)(new Date,"MM/dd/yy"));return new Date(mostCommon)},getBatchEntriesToBuyMostCommonShipmentDate=(0,es.createSelector)(getBatchEntriesToBuy,batchEntriestoBuyMostCommonShipmentDates),getBatchEntriesToBuyMostCommonShipmentDateEntirelyFromStore=(0,es.createSelector)(getBatchEntriesToBuyEntirelyFromStore,batchEntriestoBuyMostCommonShipmentDates),validBatchEntriesToBuy=function(batchEntries,selectedRates,commonShipmentDate){return batchEntries.filter((function(batchEntry){return(0,OrderBatchEntry.j4)(batchEntry)&&!!selectedRates[batchEntry.shipmentObjectId]&&(0,isSameDay.Z)(commonShipmentDate,batchEntry.shipmentDate?batchEntry.shipmentDate.toDate():new Date)}))},getValidBatchEntriesToBuy=(0,es.createSelector)(getBatchEntriesToBuy,rates_selectors.VF,getBatchEntriesToBuyMostCommonShipmentDate,validBatchEntriesToBuy),getValidBatchEntriesToBuyEntirelyFromStore=(0,es.createSelector)(getBatchEntriesToBuyEntirelyFromStore,rates_selectors.VF,getBatchEntriesToBuyMostCommonShipmentDateEntirelyFromStore,validBatchEntriesToBuy),getValidBatchEntriesToBuyObject=(0,es.createSelector)(getValidBatchEntriesToBuyEntirelyFromStore,(function(validBatchEntriesToBuy){return(0,keyBy.Z)(validBatchEntriesToBuy,"id")})),getValidBatchEntriesToBuyCount=((0,es.createSelector)(getValidBatchEntriesToBuyObject,batch_entry_selectors.tp,(function(validBatchEntriesToBuyObject,batchEntriesByOrderId){var orderHasValidBatchEntryToBuyObject={};return Object.entries(batchEntriesByOrderId).forEach((function(_a){var _b=(0,tslib_es6.CR)(_a,2),orderId=_b[0];_b[1].some((function(batchEntryId){return validBatchEntriesToBuyObject[batchEntryId]}))&&(orderHasValidBatchEntryToBuyObject[orderId]=!0)})),orderHasValidBatchEntryToBuyObject})),(0,es.createSelector)(getValidBatchEntriesToBuy,(function(validBatchEntriesToBuy){return validBatchEntriesToBuy.length||0}))),getRatesForBatchEntriesToBuy=((0,es.createSelector)(orders_selectors.Nw,getValidBatchEntriesToBuyCount,(function(selectedCount,validCount){return selectedCount-validCount})),(0,es.createSelector)(getBatchEntriesDataForSelectedOrders,getSelectedBatchEntries,rates_selectors.VF,(function(batchEntries,batchEntryIds,selectedRates){return batchEntries.filter((function(batchEntry){return batchEntryIds.includes(batchEntry.id)&&(0,OrderBatchEntry.j4)(batchEntry)&&!!selectedRates[batchEntry.shipmentObjectId]}))})),(0,es.createSelector)(getBatchEntriesDataForSelectedOrders,orders_selectors.cT,rates_selectors.VF,(function(batchEntries,ordersData,selectedRates){return batchEntries.filter((function(batchEntry){return(0,OrderBatchEntry.j4)(batchEntry)&&!!selectedRates[batchEntry.shipmentObjectId]})).map((function(batchEntry){return ordersData[batchEntry.orderObjectId]})).filter((function(v){return v}))})),(0,es.createSelector)(batch_entry_selectors.GW,rates_selectors.VF,orders_selectors.Zu,(function(batchEntry,selectedRates,isUpdatingOrder){return!!batchEntry&&(!!selectedRates[batchEntry.shipmentObjectId]&&(0,OrderBatchEntry.j4)(batchEntry)&&!isUpdatingOrder)})),(0,es.createSelector)(getBatchEntriesToBuy,rates_selectors.VF,rates_selectors.L0,getBatchEntriesToBuyMostCommonShipmentDate,(function(batchEntries,selectedRates,activeRates,commonShipmentDate){return batchEntries.map((function(batchEntry){if(!(0,isSameDay.Z)(commonShipmentDate,batchEntry.shipmentDate?batchEntry.shipmentDate.toDate():new Date))return null;if(!batchEntry.shipmentObjectId||batchEntry.transactionObjectId)return null;var rateId=selectedRates[batchEntry.shipmentObjectId];return activeRates[rateId]})).filter((function(v){return!!v}))}))),getFirstBatchEntryIdFromOrder=((0,es.createSelector)(getBatchEntriesToBuy,(function(batchEntries){return batchEntries.reduce((function(count,batchEntry){return batchEntry.extras&&batchEntry.extras.isReturnRequested?count+1:count}),0)})),(0,es.createSelector)(props_selectors.jn,batch_entry_selectors.p8,orders_selectors.cT,transactions_selectors_getTransactionsData,(function(batchEntryId,batchEntries,orders,transactions){var _a,_b,batchEntry=batchEntries[batchEntryId];if(!batchEntry)return!1;var order=orders[batchEntry.orderObjectId],transactionId=batchEntry.transactionObjectId,transactionFromBatchEntry=transactionId?transactions[transactionId]:null,transaction=null===(_a=null==order?void 0:order.transactions)||void 0===_a?void 0:_a.find((function(transaction){return transaction.objectId===transactionId}));return(null===(_b=transactionFromBatchEntry||transaction)||void 0===_b?void 0:_b.status)===Transaction.LN.SUCCESS})),(0,es.createSelector)(getBatchEntriesDataForSelectedOrders,(function(batchEntries){var dateCounts=batchEntries.map((function(batchEntry){return batchEntry.shipmentDate?batchEntry.shipmentDate.toDate():new Date})).reduce((function(acc,date){var _a,formattedDate=(0,format.Z)(date,"MM/dd/yy");return(0,tslib_es6.pi)((0,tslib_es6.pi)({},acc),((_a={})[formattedDate]=(acc[formattedDate]||0)+1,_a))}),{}),mostCommon=Object.keys(dateCounts).reduce((function(a,b){return dateCounts[a]>dateCounts[b]?a:b}),(0,format.Z)(new Date,"MM/dd/yy"));return new Date(mostCommon)})),(0,es.createSelector)(batch_entry_selectors.Ft,props_selectors.jn,(function(rules,batchEntryId){return rules&&rules[batchEntryId]||null})),(0,es.createSelector)(orders_selectors.AU,batch_entry_selectors.p8,batch_entry_selectors.tp,(function(orders,batchEntriesData,batchEntriesByOrderId){return orders.reduce((function(data,order){var bes=batchEntriesByOrderId[order.objectId]||[];if(bes.length<=1)return(0,tslib_es6.ev)((0,tslib_es6.ev)([],(0,tslib_es6.CR)(data),!1),[{order,kind:"single",batchEntry:bes[0]?batchEntriesData[bes[0]]:null}],!1);var batchEntriesSortedByRank=(0,OrderBatchEntry.Ud)(bes,batchEntriesData);return(0,tslib_es6.ev)((0,tslib_es6.ev)((0,tslib_es6.ev)([],(0,tslib_es6.CR)(data),!1),[{order,kind:"partial-parent"}],!1),(0,tslib_es6.CR)(batchEntriesSortedByRank.map((function(beId){return{order,kind:"partial-child",batchEntry:batchEntriesData[beId]}}))),!1)}),[])})),(0,es.createSelector)(orders_selectors.tW,(function(orders){return orders})),(0,es.createSelector)(getSelectedBatchEntriesByOrderId,batch_entry_selectors.BG,(function(selectedBatchEntries,batchEntriesByOrder){return selectedBatchEntries.length===batchEntriesByOrder.length})),(0,es.createSelector)(getSelectedBatchEntriesByOrderId,batch_entry_selectors.BG,(function(selectedBatchEntries,batchEntriesByOrder){return!!selectedBatchEntries.length&&selectedBatchEntries.length<batchEntriesByOrder.length})),(0,es.createSelector)(getSelectedBatchEntries,batch_entry_selectors.p8,batch_entry_selectors.EK,shipments_selectors_getShipmentLoadingStates,(function(selectedBatchEntries,batchEntryData,batchEntryLoadingStates,shipmentLoadingStates){return selectedBatchEntries.some((function(batchEntryId){var batchEntry=batchEntryData[batchEntryId];return!!batchEntry&&(!!batchEntryLoadingStates[batchEntry.orderObjectId]||![OrdersBatch.jV.COMPLETE_TRANSACTION,OrdersBatch.jV.TRANSACTION_REQUEST_FAILED].includes(batchEntry.objectStatus)&&(!!batchEntry.shipmentObjectId&&(batchEntry.objectStatus===OrdersBatch.jV.PROCESSING_SHIPMENT||(!shipmentLoadingStates.hasOwnProperty(batchEntry.shipmentObjectId)||!!shipmentLoadingStates[batchEntry.shipmentObjectId]))))}))})),(0,es.createSelector)(props_selectors.UG,batch_entry_selectors.p8,(function(batchEntryIds,batchEntryData){return batchEntryIds.some((function(batchEntryId){if(!batchEntryId||!batchEntryData||!batchEntryData[batchEntryId])return!1;var partialFulfillmentRank=batchEntryData[batchEntryId].partialFulfillmentRank;return!!partialFulfillmentRank&&partialFulfillmentRank>0}))})),(0,es.createSelector)(getRatesForBatchEntriesToBuy,getCarrierAccountRegStatusesIncomplete,(function(ratesToBuy,regStatuses){return ratesToBuy.reduce((function(acc,rate){var _a,carrierAccountObjectId=rate.carrierAccount,regStatus=regStatuses[carrierAccountObjectId];return regStatus?(0,tslib_es6.pi)((0,tslib_es6.pi)({},acc),((_a={})[carrierAccountObjectId]=regStatus,_a)):acc}),{})})),(0,es.createSelector)(orders_selectors.AU,batch_entry_selectors.tp,(function(orders,beByOrder){return orders.reduce((function(obj,curr){var _a;return(0,tslib_es6.pi)((0,tslib_es6.pi)({},obj),((_a={})[curr.objectId]=beByOrder[curr.objectId]||[],_a))}),{})})),(0,es.createSelector)(batch_entry_selectors.tp,props_selectors.ik,(function(batchEntriesByOrder,orderObjectId){var batchEntries=batchEntriesByOrder[orderObjectId]||[];return 1!==batchEntries.length?null:batchEntries[0]})));(0,es.createSelector)(getFirstBatchEntryIdFromOrder,batch_entry_selectors.p8,(function(batchEntryId,batchEntryData){return batchEntryId?batchEntryData[batchEntryId]:null})),(0,es.createSelector)(getFailedBatchEntriesMessages,(function(apiMessagesByOrderId){return Object.entries(apiMessagesByOrderId).filter((function(_a){return!!(0,tslib_es6.CR)(_a,2)[1].filter((function(apiMessage){return"failed_address_validation"===apiMessage.code})).length})).map((function(_a){var _b=(0,tslib_es6.CR)(_a,2);return{orderId:_b[0],errorMessages:_b[1]}}))})),(0,es.createSelector)(batch_entry_selectors.p8,getShipmentsData,orders_selectors.cT,user_selectors.d7,(function(batchEntryData,shipmentsData,ordersData,isUserSenderAddressValid){var unpurchasedBatchEntriesWithExpiredShipmentDate={};return Object.values(batchEntryData).forEach((function(batchEntry){var _a,_b;if([OrdersBatch.jV.COMPLETE_SHIPMENT,OrdersBatch.jV.PENDING].includes(batchEntry.objectStatus)){var isUnpurchasedBatchEntryWithExpiredShipmentDate=!1;((null===(_a=batchEntry.shipmentDate)||void 0===_a?void 0:_a.isBefore(moment(),"day"))||batchEntry.shipmentObjectId&&(null===(_b=shipmentsData[batchEntry.shipmentObjectId])||void 0===_b?void 0:_b.shipmentDate.isBefore(moment(),"day"))||batchEntry.objectStatus===OrdersBatch.jV.PENDING&&batchEntry.parcel&&ordersData[batchEntry.orderObjectId]&&!RatingErrors_hasRatingErrors(ordersData[batchEntry.orderObjectId],batchEntry,null,null,[],isUserSenderAddressValid).hasErrors)&&(isUnpurchasedBatchEntryWithExpiredShipmentDate=!0),isUnpurchasedBatchEntryWithExpiredShipmentDate&&(unpurchasedBatchEntriesWithExpiredShipmentDate[batchEntry.orderObjectId]?unpurchasedBatchEntriesWithExpiredShipmentDate[batchEntry.orderObjectId].push(batchEntry.id):unpurchasedBatchEntriesWithExpiredShipmentDate[batchEntry.orderObjectId]=[batchEntry.id])}})),unpurchasedBatchEntriesWithExpiredShipmentDate})),(0,es.createSelector)(batch_entry_selectors.p8,(function(batchEntryData){return Object.values(batchEntryData).reduce((function(selection,batchEntry){return(0,OrderBatchEntry.fg)(batchEntry)&&(selection[batchEntry.orderObjectId]?selection[batchEntry.orderObjectId].push(batchEntry.id):selection[batchEntry.orderObjectId]=[batchEntry.id]),selection}),{})}))},"./app/selectors/batch-entry.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BG:()=>getBatchEntriesIdByOrderObjectId,EK:()=>getBatchEntryLoadingStates,Ft:()=>getBatchEntryAssociatedRules,GW:()=>getBatchEntryById,p8:()=>getBatchEntryData,tp:()=>getBatchEntriesByOrderId});var reselect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/reselect/es/index.js"),selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/selectors/props.selectors.ts"),types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./app/types/OrderBatchEntry.ts"),__webpack_require__("./app/types/OrdersBatch.ts")),getBatchEntryStore=function(state){return state.batchEntry},getBatchEntryData=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryStore,(function(batchEntryStore){return batchEntryStore.data})),getBatchEntryAssociatedRules=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryStore,(function(batchEntryStore){return batchEntryStore.associatedRules})),getBatchEntriesByOrderId=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryStore,(function(batchEntryStore){return batchEntryStore.byOrderId})),getBatchEntryLoadingStates=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryStore,selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.q3,(function(batchEntryStore,orderObjectIds){return orderObjectIds.reduce((function(batchEntries,orderObjectId){var batchEntryIds=batchEntryStore.byOrderId[orderObjectId]||[];return batchEntries.concat(batchEntryIds.map((function(id){return batchEntryStore.data[id]})).filter((function(be){return be})))}),[])})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryStore,(function(batchEntryStore){return batchEntryStore.loadState}))),getBatchEntriesIdByOrderObjectId=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryStore,selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.ik,(function(batchEntryStore,orderObjectId){return batchEntryStore.byOrderId[orderObjectId]&&batchEntryStore.byOrderId[orderObjectId].map((function(beId){return batchEntryStore.data[beId]})).filter((function(be){return be})).sort((function(a,b){return a.partialFulfillmentRank-b.partialFulfillmentRank})).map((function(be){return be.id}))||[]})),getBatchEntryById=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryData,selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.jn,(function(batchEntryData,batchEntryId){return batchEntryData[batchEntryId]||null}));(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryData,selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.UG,(function getBatchEntryByIdsStateless(batchEntryData,batchEntryIds){return batchEntryIds.map((function(batchEntryId){return batchEntryData[batchEntryId]})).filter((function(batchEntry){return batchEntry}))}));(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryById,(function(batchEntry){return!!batchEntry&&batchEntry.objectStatus===types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__.jV.COMPLETE_TRANSACTION}));(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryById,(function(batchEntry){return!!batchEntry&&(!batchEntry.shipmentObjectId&&batchEntry.objectStatus===types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__.jV.PROCESSING_SHIPMENT)})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryById,(function(batchEntry){return!!batchEntry&&batchEntry.objectStatus===types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__.jV.TRANSACTION_REQUEST_FAILED})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryStore,selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.jn,(function(batchEntryStore,batchEntryId){var _a;return(null===(_a=batchEntryStore.data[batchEntryId])||void 0===_a?void 0:_a.orderObjectId)||null})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryAssociatedRules,selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.jn,(function(rules,batchEntryId){return rules&&rules[batchEntryId]||null})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.UG,getBatchEntryData,(function(batchEntryIds,batchEntryData){return batchEntryIds.some((function(batchEntryId){if(!batchEntryId||!batchEntryData||!batchEntryData[batchEntryId])return!1;var partialFulfillmentRank=batchEntryData[batchEntryId].partialFulfillmentRank;return!!partialFulfillmentRank&&partialFulfillmentRank>0}))}));var getFirstBatchEntryIdFromOrder=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntriesByOrderId,selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.ik,(function(batchEntriesByOrder,orderObjectId){var batchEntries=batchEntriesByOrder[orderObjectId]||[];return 1!==batchEntries.length?null:batchEntries[0]}));(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getFirstBatchEntryIdFromOrder,getBatchEntryData,(function(batchEntryId,batchEntryData){return batchEntryId?batchEntryData[batchEntryId]:null}))},"./app/selectors/orders.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A0:()=>getSelectedOrders,AU:()=>getOrders,Nw:()=>getSelectedCount,Zu:()=>getIsUpdatingOrder,cT:()=>getOrdersData,tW:()=>getTotalOrders});var reselect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/reselect/es/index.js"),types_Order__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/types/Order.ts"),utils_fetchable__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./app/types/Transaction.ts"),__webpack_require__("./app/utils/fetchable.ts")),EMPTY_ORDER={partialFulfillmentRequests:[]},getOrdersStore=function(state){return state.orders},getOrderIdFromProps=function(_,props){return props.orderId},getOrderObjectIdFromProps=function(_,props){return props.orderObjectId},getOrderAction=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.orderAction})),getOrdersAllIds=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isSyncingOrders})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.hasNewOrders})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(orderStore){return orderStore.totalOrders})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.allIds}))),getOrdersData=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.data})),getOrders=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersAllIds,getOrdersData,(function(allIds,ordersData){return allIds.map((function(id){return ordersData[id]})).filter((function(v){return v}))})),getTotalOrders=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,(function(ordersData){return Object.values(ordersData).some((function(order){return(0,types_Order__WEBPACK_IMPORTED_MODULE_0__.Lq)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,(function(ordersData){return Object.values(ordersData).some((function(order){return(0,types_Order__WEBPACK_IMPORTED_MODULE_0__.si)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.totalOrders}))),getSelectedOrders=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.allOrdersCount})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isLoadingOrdersCount})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.fetchOrderHasError})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isLoadingOrder})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isLoading})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrderAction,(function(orderAction){return"hide"===orderAction.kind&&(0,utils_fetchable__WEBPACK_IMPORTED_MODULE_3__.lH)((function(){return!1}),(function(){return!0}),(function(){return!1}),(function(){return!1}))(orderAction.request)})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.transactions})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.packingSlipUrl})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.labelDownloadUrl})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.labelDownloadErrMsg})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isDownloadingLabels})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.notificationsLoading})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.notificationsSent})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.lastOrderId})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.selectedOrders}))),getSelectedOrdersData=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.checkedOrders})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.rowModelBeingEdited})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.ordersRemainingLabelDownload})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.checkoutRateAfterPoll})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,getOrdersData,(function(ordersSelection,ordersData){return Object.keys(ordersSelection).map((function(id){return ordersData[id]})).filter((function(v){return v}))}))),getOrderById=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,getOrderObjectIdFromProps,(function(ordersData,orderObjectId){return ordersData[orderObjectId]||EMPTY_ORDER})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,getOrderIdFromProps,(function(ordersData,orderId){return ordersData[orderId]}))),getIsUpdatingOrder=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrderById,(function(order){return(0,types_Order__WEBPACK_IMPORTED_MODULE_0__.Lq)(order)})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.some((function(order){return(0,types_Order__WEBPACK_IMPORTED_MODULE_0__.si)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.some((function(order){return(0,types_Order__WEBPACK_IMPORTED_MODULE_0__.Lq)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.every((function(order){return(0,types_Order__WEBPACK_IMPORTED_MODULE_0__.Lq)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isUpdatingBatchEntry}))),getSelectedCount=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isSingleOrderMode})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isOnOrdersTableScreen})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,getOrderObjectIdFromProps,(function(selectedOrders,orderObjectId){return!!selectedOrders[orderObjectId]})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,getOrdersAllIds,(function(selectedOrders,allIds){return Object.keys(selectedOrders).length===allIds.length})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,(function(_,props){return props}),(function(selectedOrders,props){return(selectedOrders[props.orderObjectId]||[]).includes(props.batchEntryId)})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,(function(selectedOrders){return Object.values(selectedOrders).reduce((function(count,currVal){return currVal.length?count+currVal.length:count+1}),0)}))),getOrdersDataByObjectIds=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.batchEntryEditNotificationState})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(orderStore){return orderStore.patchBatchEntriesExtrasRequest})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,(function(_,props){return props.orderObjectIds}),(function(ordersData,orderObjectIds){return orderObjectIds.map((function(objectId){return ordersData[objectId]}))})));(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersDataByObjectIds,(function(ordersData){return ordersData.filter((function(order){var _a;return null===(_a=null==order?void 0:order.transactions)||void 0===_a?void 0:_a.some((function(transaction){return"SUCCESS"===transaction.status}))})).map((function(order){return order.transactions.filter((function(t){return"SUCCESS"===t.status}))[0].objectId}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isUpdatingCustomsItems})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isCreatingCustomsItems})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isSidePanelCheckout})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isUpdatingParcel}))},"./app/selectors/props.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{UG:()=>getBatchEntryIdsFromProps,ik:()=>getOrderObjectIdFromProps,jn:()=>getBatchEntryIdFromProps,q3:()=>getOrderObjectIdsFromProps,t2:()=>getTransactionObjectIdFromProps});var getOrderObjectIdFromProps=function(_,props){return props.orderObjectId},getOrderObjectIdsFromProps=function(_,props){return props.orderObjectIds},getBatchEntryIdFromProps=function(_,props){return props.batchEntryId},getBatchEntryIdsFromProps=function(_,props){return props.batchEntryIds},getTransactionObjectIdFromProps=function(_,props){return props.transactionObjectId}},"./app/selectors/providers.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ft:()=>getServiceLevelsByAccountRequest,IE:()=>getAllServiceLevelsMapByAccount});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),re_reselect__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/re-reselect/dist/index.js"),re_reselect__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(re_reselect__WEBPACK_IMPORTED_MODULE_3__),reselect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/reselect/es/index.js"),types_ServiceLevel__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/types/ServiceLevel.ts"),utils_fetchable__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./app/utils/fetchable.ts"),_user_selectors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/selectors/user.selectors.ts"),getProvidersStore=function(state){return state.providers},getServiceLevelsByAccountRequest=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getProvidersStore,(function(providersStore){return providersStore.serviceLevelsByAccountRequest})),getMappedServiceLevelsByToken=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getProvidersStore,(function(providersStore){return providersStore.mappedServiceLevelsByAccount})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getProvidersStore,(function(providersStore){return providersStore.mappedServiceLevelsByToken}))),getAllServiceLevelsMapByAccount=(re_reselect__WEBPACK_IMPORTED_MODULE_3___default()(getProvidersStore,(function(_,props){return props.carrierAccount}),(function(providersStore,carrierProps){var _a,targetCarrier=providersStore.mappedServiceLevelsByAccount[null===(_a=null==carrierProps?void 0:carrierProps.carrier)||void 0===_a?void 0:_a.providerToken];if(targetCarrier)return targetCarrier.find((function(carrier){return(null==carrier?void 0:carrier.objectId)===(null==carrierProps?void 0:carrierProps.objectId)}))}))((function(_,props){var _a;return null===(_a=null==props?void 0:props.carrierAccount)||void 0===_a?void 0:_a.objectId})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getProvidersStore,(function(providersStore){var allServiceLevelsByAccount={};return Object.values(providersStore.mappedServiceLevelsByAccount).forEach((function(providerAccounts){providerAccounts.forEach((function(providerAccount){var serviceLevelsByToken={};providerAccount.allServiceLevels.forEach((function(serviceLevel){serviceLevelsByToken[serviceLevel.token]=serviceLevel})),allServiceLevelsByAccount[providerAccount.objectId]=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},providerAccount),{serviceLevelsByToken})}))})),allServiceLevelsByAccount})));(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getProvidersStore,(function(providersStore){var request=providersStore.serviceLevelsByAccountRequest;return(0,utils_fetchable__WEBPACK_IMPORTED_MODULE_5__.A9)(request)||(0,utils_fetchable__WEBPACK_IMPORTED_MODULE_5__.yL)(request)})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getProvidersStore,(function(providersStore){var request=providersStore.serviceLevelsByAccountRequest;return(0,utils_fetchable__WEBPACK_IMPORTED_MODULE_5__.K4)(request)||(0,utils_fetchable__WEBPACK_IMPORTED_MODULE_5__.yL)(request)})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getMappedServiceLevelsByToken,_user_selectors__WEBPACK_IMPORTED_MODULE_1__.f_,(function(mappedServiceLevelsByToken,userDefaultReturnServiceLevel){return(0,types_ServiceLevel__WEBPACK_IMPORTED_MODULE_0__.Eo)({mappedServiceLevels:mappedServiceLevelsByToken,accountId:void 0,token:null==userDefaultReturnServiceLevel?void 0:userDefaultReturnServiceLevel.token})}))},"./app/selectors/rates.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Dm:()=>getRatesIdsByShipmentId,L0:()=>getActiveRates,VF:()=>getSelectedRates});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),reselect__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/reselect/es/index.js"),selectors_providers_selectors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/selectors/providers.selectors.ts"),getRatesStore=function(state){return state.rates},getActiveRates=((0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getRatesStore,(function(ratesStore){return ratesStore.data})),(0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getRatesStore,selectors_providers_selectors__WEBPACK_IMPORTED_MODULE_0__.IE,(function(ratesStore,activeServiceLevels){if(!activeServiceLevels||!Object.keys(activeServiceLevels).length)return ratesStore.data;var activeRates={};return Object.entries(ratesStore.data).forEach((function(_a){var _b,_c,_d,_e=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.CR)(_a,2),key=_e[0],rate=_e[1];!0!==(null===(_d=null===(_b=null==activeServiceLevels?void 0:activeServiceLevels[rate.carrierAccount])||void 0===_b?void 0:_b.serviceLevelsByToken[null!==(_c=rate.servicelevel.extended_token)&&void 0!==_c?_c:rate.servicelevel.token])||void 0===_d?void 0:_d.is_hidden)&&(activeRates[key]=rate)})),activeRates}))),getRatesIdsByShipmentId=(0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getRatesStore,getActiveRates,(function(ratesStore,activeRates){var ratesIdsByShipmentId={};return Object.entries(ratesStore.byShipmentId).forEach((function(_a){var _b=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.CR)(_a,2),key=_b[0],rateIds=_b[1];ratesIdsByShipmentId[key]=rateIds.filter((function(rateId){return activeRates[rateId]}))})),ratesIdsByShipmentId})),getSelectedRates=((0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getActiveRates,(function(ratesData){return Object.keys(ratesData).reduce((function(uniqueServiceLevels,rateObjectId){var _a,rate=ratesData[rateObjectId],serviceLevel=rate.servicelevel;return uniqueServiceLevels[serviceLevel.token]?uniqueServiceLevels:(0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)({},uniqueServiceLevels),((_a={})[serviceLevel.token]=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)({},serviceLevel),{provider:rate.provider}),_a))}),{})})),(0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getRatesStore,getActiveRates,(function(ratesStore,activeRates){var selectedRateIds={};return Object.entries(ratesStore.selectedRates).forEach((function(_a){var _b=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.CR)(_a,2),key=_b[0],rateId=_b[1];activeRates[rateId]&&(selectedRateIds[key]=rateId)})),selectedRateIds})));(0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getRatesStore,(function(ratesStore){return ratesStore.userTouchedRates})),(0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getActiveRates,getSelectedRates,(function(activeRates,batchSelectedRates){return Object.values(batchSelectedRates).map((function(selectedRate){return activeRates[selectedRate]})).filter((function(rate){return rate}))}))},"./app/types/CarrierAccountRegStatus.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var RegStatus;__webpack_require__.d(__webpack_exports__,{B:()=>RegStatus}),function(RegStatus){RegStatus.PENDING_INFO="PENDING_INFO",RegStatus.PROCESSING="PROCESSING",RegStatus.COMPLETE="COMPLETE",RegStatus.OPTED_OUT="OPTED_OUT",RegStatus.ERROR="ERROR",RegStatus.PENDING_TERMS="PENDING_TERMS",RegStatus.UNDEFINED="UNDEFINED"}(RegStatus||(RegStatus={}))},"./app/types/Shipment.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{PD:()=>isShipmentCompleted,_U:()=>ShipmentStatus});var ShipmentStatus;__webpack_require__("./app/constants/currency.ts"),__webpack_require__("./node_modules/moment/moment.js"),__webpack_require__("./app/types/APIMessage.ts"),__webpack_require__("./app/types/OrdersBatch.ts"),__webpack_require__("./app/types/Rate.ts");function isShipmentCompleted(status){return new Set([ShipmentStatus.COMPLETE,ShipmentStatus.ERROR,ShipmentStatus.SUCCESS]).has(status)}!function(ShipmentStatus){ShipmentStatus.PENDING="PENDING",ShipmentStatus.PROCESSING="PROCESSING",ShipmentStatus.COMPLETE="COMPLETE",ShipmentStatus.ERROR="ERROR",ShipmentStatus.SUCCESS="SUCCESS"}(ShipmentStatus||(ShipmentStatus={}))}}]);