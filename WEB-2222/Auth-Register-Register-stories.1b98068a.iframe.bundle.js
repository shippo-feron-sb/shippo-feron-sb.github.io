"use strict";(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[1817],{"./node_modules/@emotion/react/dist/emotion-react.browser.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AH:()=>css,Y:()=>jsx,Z2:()=>ClassNames,i7:()=>keyframes,mL:()=>Global,n:()=>jsx});var _emotion_element_c39617d8_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@emotion/react/dist/emotion-element-c39617d8.browser.esm.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_emotion_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@emotion/utils/dist/emotion-utils.browser.esm.js"),_emotion_use_insertion_effect_with_fallbacks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@emotion/use-insertion-effect-with-fallbacks/dist/emotion-use-insertion-effect-with-fallbacks.browser.esm.js"),_emotion_serialize__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@emotion/serialize/dist/emotion-serialize.browser.esm.js"),jsx=(__webpack_require__("./node_modules/@emotion/cache/dist/emotion-cache.browser.esm.js"),__webpack_require__("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),function jsx(type,props){var args=arguments;if(null==props||!_emotion_element_c39617d8_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.h.call(props,"css"))return react__WEBPACK_IMPORTED_MODULE_0__.createElement.apply(void 0,args);var argsLength=args.length,createElementArgArray=new Array(argsLength);createElementArgArray[0]=_emotion_element_c39617d8_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.E,createElementArgArray[1]=(0,_emotion_element_c39617d8_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.c)(type,props);for(var i=2;i<argsLength;i++)createElementArgArray[i]=args[i];return react__WEBPACK_IMPORTED_MODULE_0__.createElement.apply(null,createElementArgArray)}),Global=(0,_emotion_element_c39617d8_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.w)((function(props,cache){var styles=props.styles,serialized=(0,_emotion_serialize__WEBPACK_IMPORTED_MODULE_2__.J)([styles],void 0,react__WEBPACK_IMPORTED_MODULE_0__.useContext(_emotion_element_c39617d8_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.T));if(!_emotion_element_c39617d8_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.i){for(var _ref,serializedNames=serialized.name,serializedStyles=serialized.styles,next=serialized.next;void 0!==next;)serializedNames+=" "+next.name,serializedStyles+=next.styles,next=next.next;var shouldCache=!0===cache.compat,rules=cache.insert("",{name:serializedNames,styles:serializedStyles},cache.sheet,shouldCache);return shouldCache?null:react__WEBPACK_IMPORTED_MODULE_0__.createElement("style",((_ref={})["data-emotion"]=cache.key+"-global "+serializedNames,_ref.dangerouslySetInnerHTML={__html:rules},_ref.nonce=cache.sheet.nonce,_ref))}var sheetRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef();return(0,_emotion_use_insertion_effect_with_fallbacks__WEBPACK_IMPORTED_MODULE_1__.i)((function(){var key=cache.key+"-global",sheet=new cache.sheet.constructor({key,nonce:cache.sheet.nonce,container:cache.sheet.container,speedy:cache.sheet.isSpeedy}),rehydrating=!1,node=document.querySelector('style[data-emotion="'+key+" "+serialized.name+'"]');return cache.sheet.tags.length&&(sheet.before=cache.sheet.tags[0]),null!==node&&(rehydrating=!0,node.setAttribute("data-emotion",key),sheet.hydrate([node])),sheetRef.current=[sheet,rehydrating],function(){sheet.flush()}}),[cache]),(0,_emotion_use_insertion_effect_with_fallbacks__WEBPACK_IMPORTED_MODULE_1__.i)((function(){var sheetRefCurrent=sheetRef.current,sheet=sheetRefCurrent[0];if(sheetRefCurrent[1])sheetRefCurrent[1]=!1;else{if(void 0!==serialized.next&&(0,_emotion_utils__WEBPACK_IMPORTED_MODULE_6__.sk)(cache,serialized.next,!0),sheet.tags.length){var element=sheet.tags[sheet.tags.length-1].nextElementSibling;sheet.before=element,sheet.flush()}cache.insert("",serialized,sheet,!1)}}),[cache,serialized.name]),null}));function css(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(0,_emotion_serialize__WEBPACK_IMPORTED_MODULE_2__.J)(args)}var keyframes=function keyframes(){var insertable=css.apply(void 0,arguments),name="animation-"+insertable.name;return{name,styles:"@keyframes "+name+"{"+insertable.styles+"}",anim:1,toString:function toString(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},classnames=function classnames(args){for(var len=args.length,i=0,cls="";i<len;i++){var arg=args[i];if(null!=arg){var toAdd=void 0;switch(typeof arg){case"boolean":break;case"object":if(Array.isArray(arg))toAdd=classnames(arg);else for(var k in toAdd="",arg)arg[k]&&k&&(toAdd&&(toAdd+=" "),toAdd+=k);break;default:toAdd=arg}toAdd&&(cls&&(cls+=" "),cls+=toAdd)}}return cls};var Insertion=function Insertion(_ref){var cache=_ref.cache,serializedArr=_ref.serializedArr;return(0,_emotion_use_insertion_effect_with_fallbacks__WEBPACK_IMPORTED_MODULE_1__.s)((function(){for(var i=0;i<serializedArr.length;i++)(0,_emotion_utils__WEBPACK_IMPORTED_MODULE_6__.sk)(cache,serializedArr[i],!1)})),null},ClassNames=(0,_emotion_element_c39617d8_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.w)((function(props,cache){var serializedArr=[],css=function css(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var serialized=(0,_emotion_serialize__WEBPACK_IMPORTED_MODULE_2__.J)(args,cache.registered);return serializedArr.push(serialized),(0,_emotion_utils__WEBPACK_IMPORTED_MODULE_6__.SF)(cache,serialized,!1),cache.key+"-"+serialized.name},content={css,cx:function cx(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return function merge(registered,css,className){var registeredStyles=[],rawClassName=(0,_emotion_utils__WEBPACK_IMPORTED_MODULE_6__.Rk)(registered,registeredStyles,className);return registeredStyles.length<2?className:rawClassName+css(registeredStyles)}(cache.registered,css,classnames(args))},theme:react__WEBPACK_IMPORTED_MODULE_0__.useContext(_emotion_element_c39617d8_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.T)},ele=props.children(content);return!0,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(Insertion,{cache,serializedArr}),ele)}))},"./node_modules/clsx/dist/clsx.m.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function r(e){var t,f,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=" "),n+=f);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function clsx(){for(var e,t,f=0,n="";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=" "),n+=t);return n}},"./node_modules/lodash-es/takeRight.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseSlice_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/_baseSlice.js"),_toInteger_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/toInteger.js");const __WEBPACK_DEFAULT_EXPORT__=function takeRight(array,n,guard){var length=null==array?0:array.length;return length?(n=length-(n=guard||void 0===n?1:(0,_toInteger_js__WEBPACK_IMPORTED_MODULE_0__.A)(n)),(0,_baseSlice_js__WEBPACK_IMPORTED_MODULE_1__.A)(array,n<0?0:n,length)):[]}},"./app/components/Layout/Grid.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>Column,f:()=>Row});var templateObject_1,templateObject_2,tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_emotion_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),_components_Layout_FlexContainer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/components/Layout/FlexContainer.tsx"),Row=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A)(_components_Layout_FlexContainer__WEBPACK_IMPORTED_MODULE_1__.Ay)(templateObject_1||(templateObject_1=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.ue)(["\n  margin-bottom: 10px;\n"],["\n  margin-bottom: 10px;\n"]))),Column=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A)("div")(templateObject_2||(templateObject_2=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.ue)(["\n  flex-basis: ",";\n  margin-right: 15px;\n\n  &:last-of-type {\n    margin-right: 0px;\n  }\n"],["\n  flex-basis: ",";\n  margin-right: 15px;\n\n  &:last-of-type {\n    margin-right: 0px;\n  }\n"])),(function(props){return props.width}))},"./app/utils/segment/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{sV:()=>schema.Ay,P0:()=>getLocalTraits,ls:()=>segment_identify,Ok:()=>isTraitDifferent,u4:()=>track});var esm_exports=__webpack_require__("./node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js"),schema=__webpack_require__("./app/utils/segment/schema.ts");__webpack_require__("./node_modules/moment/moment.js"),__webpack_require__("./app/pages/Onboarding/onboarding.constants.ts"),__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/react-redux/es/index.js"),__webpack_require__("./app/selectors/user.selectors.ts");var segment_identify=function(id,traits){window.analytics?window.analytics.identify(id,traits):esm_exports.wd("identify called before window.analytics available",{level:"warning"})},track=function(name,properties){window.analytics?window.analytics.track(name,properties):esm_exports.wd("track called before window.analytics available",{level:"warning"})},getLocalTraits=function(){var ajsUserTraits=localStorage.getItem("ajs_user_traits");if(ajsUserTraits)try{return JSON.parse(ajsUserTraits)}catch(error){return}},isTraitDifferent=function(property,value){var localTraits=getLocalTraits();return!(localTraits&&localTraits[property]===value)}},"./app/utils/segment/schema.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var Events;__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,ID:()=>EVENT_ORIGIN_ORDER_DETAILS,hX:()=>EVENT_ORIGIN_LEGACY_ORDER}),function(Events){Events.registered="Signed Up",Events.store_connected="Store Connected",Events.store_disconnected="Store Disconnected",Events.address_created="Address Created",Events.credit_card_added="Credit Card Added",Events.carrier_connected="Carrier Connected",Events.carrier_error_displayed="Carrier Error Displayed",Events.package_template_created="Package Template Created",Events.label_purchase="Label Purchased",Events.label_purchase_failed="Label Purchase Failed",Events.label_downloaded="Label Downloaded",Events.packing_slip_downloaded="Packing Slip Downloaded",Events.tracking_status_viewed="Tracking Status Viewed",Events.onboarding_step_completed="Step Completed",Events.onboarding_completed="Onboarding Completed",Events.get_started_viewed="Get Started Page View",Events.insurance_updated="Insurance Updated",Events.insurance_modal_opened="Insurance Modal Opened",Events.insurance_modal_link_clicked="Insurance Modal Link Clicked",Events.email_notification_changed="Email Notifications Changed",Events.insurance_option_onboarding="Insurance option during onboarding",Events.automatic_insurance_settings_update="Automatic insurance settings update",Events.insurance_removal="Insurance removal in confirmation modal",Events.insurance_removal_order_details="Remove Insurance from Order Details",Events.signaure_modal_opened="Signature Confirmation Modal Opened",Events.signature_modal_updated="Signature Confirmation Modal Updated",Events.signature_removal_order_details="Remove Signature from Order Details",Events.ups_surcharge_warning="UPS surcharge warnings",Events.insurance_details_opened="Insurance Details Opened From Sidebar",Events.signature_details_opened="Signature Details Opened From Sidebar",Events.signature_updated="Signature Details Updated From Sidebar",Events.new_insurance_updated="Insurance Updated From Sidebar",Events.insurance_link_clicked="Insurance Link Clicked From Sidebar",Events.insurance_removed_sidebar="Remove Insurance From Sidebar",Events.signature_removed_sidebar="Remove Signature From Sidebar",Events.promo_code_add_replace="Promo code added or replaced",Events.save_default_package_units="Default package units updated",Events.update_user_information="User profile updated",Events.update_user_language="User language updated",Events.order_search_completed="Order search completed",Events.order_search_result_selected="Order search row selected",Events.customs_options_form_submit="Customs Options Form Submit",Events.customs_items_form_submit="Customs Items Form Submit",Events.package_info_edited="Package Info Updated",Events.embeddable_next_params="Embeddable User Set Next Params",Events.plan_updated="Plan Updated",Events.downgrade_survey_question_answered="Pro Plan Downgrade Survey Question Answered",Events.downgrade_survey_cancelled="Pro Plan Downgrade Survey Cancelled",Events.downgrade_survey_completed="Pro Plan Downgrade Survey Completed",Events.downgrade_survey_submitted="Pro Plan Downgrade Survey Submitted"}(Events||(Events={}));var EVENT_ORIGIN_ORDER_DETAILS="Order details",EVENT_ORIGIN_LEGACY_ORDER="Legacy orders table";const __WEBPACK_DEFAULT_EXPORT__=Events},"./app/utils/url.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>getTopLevelDomain});var lodash_es_takeRight__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/takeRight.js"),getTopLevelDomain=function(url){try{var matches=url.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i),domain=matches&&matches[2];if(!domain)return null;var splitDomain=domain&&domain.split(".");return(0,lodash_es_takeRight__WEBPACK_IMPORTED_MODULE_0__.A)(splitDomain,2).join(".")}catch(error){return null}}},"./app/pages/Auth/Register/Register.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{EmbeddableUserDefault:()=>EmbeddableUserDefault,RegistrationPartnerFedex:()=>RegistrationPartnerFedex,RegistrationPartnerUPS:()=>RegistrationPartnerUPS,Regular:()=>Regular,SearchTermDHLExpress:()=>SearchTermDHLExpress,SearchTermFedex:()=>SearchTermFedex,SearchTermUPS:()=>SearchTermUPS,SearchTermUSPS:()=>SearchTermUSPS,WithStoreGodaddy:()=>WithStoreGodaddy,WithStoreShopify:()=>WithStoreShopify,WithStoreSquare:()=>WithStoreSquare,WithStoreWeebly:()=>WithStoreWeebly,WithStoreWix:()=>WithStoreWix,default:()=>Register_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),translate=__webpack_require__("./app/utils/translate.ts"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),constants=__webpack_require__("./app/actions/constants.ts");var auth_actions=__webpack_require__("./app/actions/auth.actions.ts"),Input=__webpack_require__("./app/components/Input/index.ts"),Grid=__webpack_require__("./app/components/Layout/Grid.tsx"),Link=__webpack_require__("./app/components/Link/index.ts");const Marketo=(0,emotion_styled_browser_esm.A)("form")(templateObject_1||(templateObject_1=(0,tslib_es6.ue)(["\n  display: none;\n"],["\n  display: none;\n"])));var templateObject_1,register=__webpack_require__("./app/constants/register.ts"),js_cookie=__webpack_require__("./node_modules/js-cookie/src/js.cookie.js"),AuthLayout=__webpack_require__("./app/pages/Auth/common/AuthLayout.tsx"),common=__webpack_require__("./app/pages/Auth/common/common.tsx"),ShippoLogo=__webpack_require__("./app/pages/Auth/common/ShippoLogo/ShippoLogo.tsx"),RegisterSuccess=__webpack_require__("./app/pages/Auth/Register/RegisterSuccess.tsx"),has=__webpack_require__("./node_modules/lodash-es/has.js"),lib=__webpack_require__("./node_modules/qs/lib/index.js"),searchTermMappings=[{term:"usps",matcher:"usps"},{term:"ups",matcher:"ups"},{term:"fedex",matcher:"fedex"},{term:"dhl_express",matcher:"dhl_express"}],getUTMFromCookie=function(key){var utmCookie=js_cookie.getJSON("shippoUTM");return utmCookie&&utmCookie.hasOwnProperty(key)?utmCookie[key]:void 0},getSearchTerm=function(queryString,param){var queryParams=lib.parse(queryString,{decoder:decodeURIComponent}),queryParam=queryParams.hasOwnProperty(param)&&"string"==typeof queryParams[param]?queryParams[param]:void 0,term=void 0;if(term="utm_term"===param?null!=queryParam?queryParam:getUTMFromCookie("utm_term"):null!=queryParam?queryParam:void 0){var cleanedTerm_1=term.replace("+","").toLowerCase(),matchingTerm_1=void 0;return searchTermMappings.forEach((function(mapping){new RegExp(mapping.matcher).test(cleanedTerm_1)&&(matchingTerm_1=mapping.term)})),matchingTerm_1}},hasUTMSource=function(queryString,sourceValue){var queryParams=lib.parse(null!=queryString?queryString:"",{decoder:decodeURIComponent});return((0,has.A)(queryParams,"utm_source")?queryParams.utm_source:getUTMFromCookie("utm_source"))===sourceValue},EmbeddableAuth=__webpack_require__("./app/pages/common/EmbeddableAuth/index.ts"),embeddable_helpers=__webpack_require__("./app/pages/common/EmbeddableAuth/embeddable-helpers.ts"),react=__webpack_require__("./node_modules/react/index.js"),Helmet=(__webpack_require__("./node_modules/react-google-recaptcha/lib/esm/index.js"),__webpack_require__("./node_modules/react-helmet/lib/Helmet.js")),es=__webpack_require__("./node_modules/react-redux/es/index.js"),redux=__webpack_require__("./node_modules/redux/es/redux.js"),Field=__webpack_require__("./node_modules/redux-form/es/Field.js"),reduxForm=__webpack_require__("./node_modules/redux-form/es/reduxForm.js"),styles_constants=__webpack_require__("./app/styles/constants.ts"),segment=__webpack_require__("./app/utils/segment/index.ts"),responsiveCheck=__webpack_require__("./app/utils/responsiveCheck.ts"),url=__webpack_require__("./app/utils/url.ts");const data_analytics={firstname:"registration-first-name-input",lastname:"registration-last-name-input",email:"registration-email-input",password:"registration-password-input",terms:"registration-terms-checkbox",signup:"registration-click-signUp"};var FlexWrapper=(0,emotion_styled_browser_esm.A)("div")(Register_templateObject_1||(Register_templateObject_1=(0,tslib_es6.ue)(["\n  background-color: white;\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  flex: 1 1 0;\n  align-items: center;\n"],["\n  background-color: white;\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  justify-content: space-between;\n  flex: 1 1 0;\n  align-items: center;\n"]))),StyledTerms=(0,emotion_styled_browser_esm.A)("p")(templateObject_2||(templateObject_2=(0,tslib_es6.ue)(["\n  font-weight: ",";\n  text-align: left;\n  margin-bottom: 1.5rem;\n"],["\n  font-weight: ",";\n  text-align: left;\n  margin-bottom: 1.5rem;\n"])),styles_constants.Wy.normal),StyledLogin=(0,emotion_styled_browser_esm.A)("p")(templateObject_3||(templateObject_3=(0,tslib_es6.ue)(["\n  font-weight: ",";\n  color: ",";\n"],["\n  font-weight: ",";\n  color: ",";\n"])),styles_constants.Wy.normal,styles_constants.Tj.gray800),StyledRow=(0,emotion_styled_browser_esm.A)(Grid.f)(templateObject_4||(templateObject_4=(0,tslib_es6.ue)(["\n  margin-bottom: 0;\n"],["\n  margin-bottom: 0;\n"]))),StyledInputField=(0,emotion_styled_browser_esm.A)(Input.FO)(templateObject_5||(templateObject_5=(0,tslib_es6.ue)(["\n  height: 2.5rem;\n  border-radius: 4px;\n"],["\n  height: 2.5rem;\n  border-radius: 4px;\n"]))),errorStyle={textAlign:"left",fontWeight:styles_constants.Wy.normal,marginTop:"0.25rem",height:"1.25rem"},Content=function(_super){function Content(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.recaptchaRef=react.createRef(),_this.getUrlParams=function(){return _this.props.location?lib.parse(_this.props.location.search.slice(1)):""},_this.onSubmit=function(recaptchaResponse){return function(data){var next=_this.getUrlParams().next,completeData={user:(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},data),{gRecaptchaResponse:recaptchaResponse})};return _this.props.register(completeData,next)}},_this.recaptchaOnSubmit=function(e){e.stopPropagation(),e.preventDefault(),_this.recaptchaRef.current&&_this.recaptchaRef.current.execute()},_this.recaptchaOnChange=function(recaptchaResponse){return _this.props.handleSubmit(_this.onSubmit(recaptchaResponse))()},_this}return(0,tslib_es6.C6)(Content,_super),Content.prototype.isPersonalizedRegFor=function(stores){var _a=this.props,storeReferral=_a.storeReferral;if(_a.embeddableUser&&stores.includes(register.jz))return!0;var isPersonalizedReg=!1;return stores.forEach((function(store){isPersonalizedReg=storeReferral===store||isPersonalizedReg})),isPersonalizedReg},Content.prototype.signUpMessaging=function(){var _a=this.props,t=_a.t,regPartner=_a.regPartner,searchTerm=_a.searchTerm,embeddableUser=_a.embeddableUser,message=t("messaging");return embeddableUser?t("embeddable.messaging"):searchTerm?t("searchTermMessaging.".concat(searchTerm,".line2"),message):!regPartner||"fedex"!==regPartner&&"ups"!==regPartner?message:t("carrierBrandedMessaging.".concat(regPartner,".line2"),message)},Content.prototype.signUpTitle=function(){var _a=this.props,t=_a.t,regPartner=_a.regPartner,searchTerm=_a.searchTerm,storeReferral=_a.storeReferral,embeddableUser=_a.embeddableUser,title=t("title");return embeddableUser?t("embeddable.title"):storeReferral&&this.isPersonalizedRegFor(register.G7)?t("personalizedStore.".concat(storeReferral)):searchTerm?t("searchTermMessaging.".concat(searchTerm,".line1"),title):!regPartner||"fedex"!==regPartner&&"ups"!==regPartner?title:t("carrierBrandedMessaging.".concat(regPartner,".line1"),title)},Content.prototype.signUpButtonText=function(){var _a=this.props,t=_a.t,regPartner=_a.regPartner,searchTerm=_a.searchTerm,isLoading=_a.isLoading,storeReferral=_a.storeReferral;if(isLoading)return t("loading");var signUpText=t("signUp");return storeReferral&&this.isPersonalizedRegFor(register.G7)?t("personalizedStore.signUp"):searchTerm?t("searchTermMessaging.".concat(searchTerm,".line3"),signUpText):!regPartner||"fedex"!==regPartner&&"ups"!==regPartner?signUpText:t("carrierBrandedMessaging.".concat(regPartner,".line3"),signUpText)},Content.prototype.componentDidMount=function(){var _a=this.props,initGTM=_a.initGTM,storeReferral=_a.storeReferral;initGTM(),storeReferral&&localStorage.setItem("registration_store",storeReferral);var currentUrl=this.getUrlParams(),loginQueryParams={next:currentUrl.next};this.props.embeddableUser&&loginQueryParams&&(0,segment.u4)(segment.sV.embeddable_next_params,{source:"Register - Load",nextParams:currentUrl.next})},Content.prototype.componentDidUpdate=function(prevProps){prevProps.errorMessage!==this.props.errorMessage&&this.recaptchaRef.current&&this.recaptchaRef.current.reset()},Content.prototype.renderErrorMessage=function(){return this.props.errorMessage?(0,emotion_react_jsx_runtime_browser_esm.Y)(common.Ow,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(common.Kw,(0,tslib_es6.Cl)({"data-e2e":"registration-error-message"},{children:this.props.errorMessage}))}):null},Content.prototype.render=function(){var _this=this;if(this.props.finishRegister)return(0,emotion_react_jsx_runtime_browser_esm.Y)(RegisterSuccess.A,{sessionToken:this.props.sessionToken,next:this.props.next});var partner,_a=this.props,t=_a.t,isLoading=_a.isLoading,invalid=_a.invalid,regPartner=_a.regPartner,storeReferral=_a.storeReferral,embeddableUser=_a.embeddableUser,termsAndPrivacyLink=function(trans){return(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.ic,(0,tslib_es6.Cl)({href:"".concat("https://dev-qa.shippodev.com","/").concat(trans),rel:"noreferrer noopener",target:"_blank",tabIndex:-1,hideUnderline:!0},{children:t(trans)}))},getStarted=(0,emotion_react_jsx_runtime_browser_esm.Y)("em",{children:t("signUp")}),termsAndPrivacy=(0,emotion_react_jsx_runtime_browser_esm.Y)(translate.In,{i18nKey:"termsAndPolicy",terms:termsAndPrivacyLink("terms"),privacy:termsAndPrivacyLink("privacy"),start:getStarted}),loginQueryParams={next:this.getUrlParams().next},loginQueryString=loginQueryParams?"?".concat(lib.stringify(loginQueryParams)):"",loginUrl="".concat("https://WEB-2222.ui.shippodev.com/","login").concat(loginQueryString),partnerSetting=register.Mr[regPartner||""],responsive=(0,responsiveCheck.z)();return(0,emotion_react_jsx_runtime_browser_esm.FD)(react.Fragment,{children:[(0,emotion_react_jsx_runtime_browser_esm.FD)(Helmet.m,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)("title",{children:t("seoTitle")}),(0,emotion_react_jsx_runtime_browser_esm.Y)("meta",{name:"description",content:t("seoDescription")})]}),(0,emotion_react_jsx_runtime_browser_esm.Y)(AuthLayout.A,(0,tslib_es6.Cl)({storeReferral:this.isPersonalizedRegFor(register.G7)?storeReferral:void 0,isEmbeddable:embeddableUser},{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(FlexWrapper,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(ShippoLogo.A,{partner:(partner=_this.props.searchTerm?_this.props.searchTerm:_this.props.regPartner,register.Mr[partner||""]&&register.Mr[partner||""].cobranded&&(!_this.isPersonalizedRegFor(register.G7)||_this.props.embeddableUser)?partner:void 0),isEmbeddable:embeddableUser}),(0,emotion_react_jsx_runtime_browser_esm.FD)(common.xE,(0,tslib_es6.Cl)({"data-e2e":"register",style:partnerSetting&&partnerSetting.compact&&!this.isPersonalizedRegFor(["wix",register.jz])?{alignItems:"flex-start"}:{}},{children:[(0,emotion_react_jsx_runtime_browser_esm.FD)("form",(0,tslib_es6.Cl)({action:"#",onSubmit:this.props.handleSubmit(this.onSubmit())},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(common.x9,(0,tslib_es6.Cl)({noMessage:this.isPersonalizedRegFor(register.G7)&&!embeddableUser},{children:this.signUpTitle()})),(!this.isPersonalizedRegFor(register.G7)||embeddableUser)&&(0,emotion_react_jsx_runtime_browser_esm.Y)(common.cf,(0,tslib_es6.Cl)({"data-name":"subtitle"},{children:this.signUpMessaging()})),responsive?(0,emotion_react_jsx_runtime_browser_esm.FD)(emotion_react_jsx_runtime_browser_esm.FK,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(StyledRow,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Grid.V,(0,tslib_es6.Cl)({width:"100%"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Field.A,{name:"firstName",component:StyledInputField,label:t("firstName"),errorMessageStyle:errorStyle,dataE2E:"registration-first-name-input",dataAnalytics:data_analytics.firstname,errorArea:!0,responsive:!0,autofocus:!0})}))}),(0,emotion_react_jsx_runtime_browser_esm.Y)(StyledRow,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Grid.V,(0,tslib_es6.Cl)({width:"100%"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Field.A,{name:"lastName",component:StyledInputField,label:t("lastName"),errorMessageStyle:errorStyle,dataE2E:"registration-last-name-input",dataAnalytics:data_analytics.lastname,errorArea:!0,responsive:!0})}))})]}):(0,emotion_react_jsx_runtime_browser_esm.FD)(StyledRow,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Grid.V,(0,tslib_es6.Cl)({width:"50%"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Field.A,{name:"firstName",component:StyledInputField,label:t("firstName"),errorMessageStyle:errorStyle,dataE2E:"registration-first-name-input",dataAnalytics:data_analytics.firstname,errorArea:!0,responsive:!0,autofocus:!0})})),(0,emotion_react_jsx_runtime_browser_esm.Y)(Grid.V,(0,tslib_es6.Cl)({width:"50%"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Field.A,{name:"lastName",component:StyledInputField,label:t("lastName"),errorMessageStyle:errorStyle,dataE2E:"registration-last-name-input",dataAnalytics:data_analytics.lastname,errorArea:!0,responsive:!0})}))]}),(0,emotion_react_jsx_runtime_browser_esm.Y)(StyledRow,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Grid.V,(0,tslib_es6.Cl)({width:"100%"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Field.A,{showErrorsOnBlur:!0,name:"email",type:"email",dataE2E:"registration-email-input",dataAnalytics:data_analytics.email,component:StyledInputField,label:t("email"),errorMessageStyle:errorStyle,errorArea:!0,responsive:!0})}))}),(0,emotion_react_jsx_runtime_browser_esm.Y)(StyledRow,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Grid.V,(0,tslib_es6.Cl)({width:"100%"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Field.A,{showErrorsOnBlur:!0,name:"password",type:"password",dataE2E:"registration-password-input",dataAnalytics:data_analytics.password,component:StyledInputField,label:t("password"),errorMessageStyle:errorStyle,infoMessage:t("passwordMessage"),errorArea:!0,responsive:!0})}))}),(0,emotion_react_jsx_runtime_browser_esm.Y)(StyledTerms,{children:termsAndPrivacy}),"",this.renderErrorMessage(),(0,emotion_react_jsx_runtime_browser_esm.Y)(common.cF,(0,tslib_es6.Cl)({disabled:isLoading||invalid,type:"submit",dataAnalytics:data_analytics.signup},{children:this.signUpButtonText()})),(0,emotion_react_jsx_runtime_browser_esm.FD)(StyledLogin,(0,tslib_es6.Cl)({"data-name":"existing-account"},{children:[t("accountExists"),"Â ",(0,emotion_react_jsx_runtime_browser_esm.Y)(Link.ic,(0,tslib_es6.Cl)({href:loginUrl,hideUnderline:!0},{children:t("login")}))]}))]})),(0,emotion_react_jsx_runtime_browser_esm.Y)(Marketo,{id:"mktoForm_1194"})]}))]})}))]})},Content}(react.Component);(0,redux.Zz)((0,translate.Tl)(["join","validations"]),(0,es.Ng)((function(state,ownProps){var campaignValue,queryParams=ownProps.location?lib.parse(ownProps.location.search,{ignoreQueryPrefix:!0,delimiter:/[?&]/,decoder:decodeURIComponent}):{},initialValues={terms:{shippo:!0},email:queryParams[register.hn]?queryParams[register.hn]:""},regPartner=queryParams[register.OI]?queryParams[register.OI].toLowerCase():void 0,searchTerm=void 0,campaignTerm=function(queryString,param,useCookie){void 0===useCookie&&(useCookie=!1);var queryParams=lib.parse(queryString,{decoder:decodeURIComponent}),queryParam=queryParams.hasOwnProperty(param)&&"string"==typeof queryParams[param]?queryParams[param]:void 0;return"utm_term"===param?null!=queryParam?queryParam:getUTMFromCookie("utm_term"):useCookie?null!=queryParam?queryParam:getUTMFromCookie(param):null!=queryParam?queryParam:void 0}(window.location.search.slice(1),"utm_campaign",!0);if(campaignValue=campaignTerm||"",!regPartner&&queryParams.utm_source&&register.G7.includes(queryParams.utm_source.toLowerCase())&&(regPartner=queryParams.utm_source.toLowerCase()),hasUTMSource(window.location.search.slice(1),"ups-sales")&&(regPartner="ups"),hasUTMSource(window.location.search.slice(1),"fedex-sales")&&(regPartner="fedex"),!regPartner){var foundSearchTerm=ownProps.location?getSearchTerm(ownProps.location.search.slice(1),"utm_term"):"";if(foundSearchTerm)searchTerm=foundSearchTerm;else{var checkPartnerParam=ownProps.location?getSearchTerm(ownProps.location.search.slice(1),"partner"):"";checkPartnerParam&&(searchTerm=checkPartnerParam)}}if(queryParams.code){var cookieDomain=(0,url.K)(window.location.href),codeParam=queryParams.code;js_cookie.set("shippo_apply_promo",encodeURIComponent(codeParam),{expires:7,domain:".".concat(cookieDomain)})}var embeddableUser=!1;if(queryParams.next)try{var nextUrl=new URL(queryParams.next);embeddableUser=(0,EmbeddableAuth.Ie)(nextUrl.search);var nextParams=lib.parse(nextUrl.search,{ignoreQueryPrefix:!0,decoder:decodeURIComponent});nextParams.hasOwnProperty("utm_source")&&!queryParams.hasOwnProperty("utm_source")&&((0,embeddable_helpers.i_)(nextParams.utm_source,embeddableUser),(0,segment.u4)(segment.sV.embeddable_next_params,{source:"Refresh - Register",nextParams}))}catch(error){embeddableUser=!1}var storeReferral="";return campaignValue&&register.G7.includes(campaignValue)&&(storeReferral=campaignValue),searchTerm&&register.G7.includes(searchTerm)&&(storeReferral=searchTerm),regPartner&&register.G7.includes(regPartner)&&(storeReferral=regPartner),{initialValues,regPartner,searchTerm,campaignValue,storeReferral,embeddableUser,isLoading:state.auth.isLoading,errorMessage:state.auth.error,sessionToken:state.auth.sessionToken,finishRegister:state.auth.finishRegister,next:state.auth.next}}),(function(dispatch){return{register:function(payload,next){return dispatch((0,auth_actions.kz)(payload,next))},initGTM:function(){return dispatch((0,auth_actions.EM)())},setABCookie:function(name,content){return dispatch(function setABCookie(name,content){return{type:constants.t.SET_AB_COOKIE,payload:{name,content}}}(name,content))}}})),(0,reduxForm.A)({validate:common.tf,form:"join"}))(Content);var Register_templateObject_1,templateObject_2,templateObject_3,templateObject_4,templateObject_5,reducers=__webpack_require__("./app/reducers/index.ts"),Store=__webpack_require__("./app/types/Store.ts");const Register_stories={title:"Onboarding / Register",component:Content,argTypes:{handleSubmit:{action:"handleSubmit"},initGTM:{action:"initGTM"}},parameters:{backgrounds:{default:"grey"}}};var RegisterWithTranslate=(0,redux.Zz)((0,translate.Tl)(["join","validations"]),(0,reduxForm.A)({validate:common.tf,form:"join"}))(Content),Template=function(args){return(0,emotion_react_jsx_runtime_browser_esm.Y)(es.Kq,(0,tslib_es6.Cl)({store:(0,redux.y$)((0,redux.HY)(reducers.A))},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(RegisterWithTranslate,(0,tslib_es6.Cl)({},args))}))},Regular=Template.bind({});Regular.args={};var SearchTermUSPS=Template.bind({});SearchTermUSPS.args={searchTerm:"usps"};var SearchTermUPS=Template.bind({});SearchTermUPS.args={searchTerm:"ups"};var SearchTermFedex=Template.bind({});SearchTermFedex.args={searchTerm:"fedex"};var SearchTermDHLExpress=Template.bind({});SearchTermDHLExpress.args={searchTerm:"dhl_express"};var EmbeddableUserDefault=Template.bind({});EmbeddableUserDefault.args={embeddableUser:!0,storeReferral:register.jz};var WithStoreShopify=Template.bind({});WithStoreShopify.args={storeReferral:Store.F8.Shopify.toLowerCase()};var WithStoreGodaddy=Template.bind({});WithStoreGodaddy.args={storeReferral:Store.F8.Godaddy.toLowerCase()};var WithStoreWix=Template.bind({});WithStoreWix.args={storeReferral:Store.F8.Wix.toLowerCase()};var WithStoreSquare=Template.bind({});WithStoreSquare.args={storeReferral:Store.F8.Square.toLowerCase()};var WithStoreWeebly=Template.bind({});WithStoreWeebly.args={storeReferral:Store.F8.Weebly.toLowerCase()};var RegistrationPartnerFedex=Template.bind({});RegistrationPartnerFedex.args={regPartner:"fedex"};var RegistrationPartnerUPS=Template.bind({});RegistrationPartnerUPS.args={regPartner:"ups"},Regular.parameters={...Regular.parameters,docs:{...Regular.parameters?.docs,source:{originalSource:"(args: ContentCompositeProps) => <Provider store={createStore(combineReducers(reducers))}>\n    <RegisterWithTranslate {...args} />\n  </Provider>",...Regular.parameters?.docs?.source}}},SearchTermUSPS.parameters={...SearchTermUSPS.parameters,docs:{...SearchTermUSPS.parameters?.docs,source:{originalSource:"(args: ContentCompositeProps) => <Provider store={createStore(combineReducers(reducers))}>\n    <RegisterWithTranslate {...args} />\n  </Provider>",...SearchTermUSPS.parameters?.docs?.source}}},SearchTermUPS.parameters={...SearchTermUPS.parameters,docs:{...SearchTermUPS.parameters?.docs,source:{originalSource:"(args: ContentCompositeProps) => <Provider store={createStore(combineReducers(reducers))}>\n    <RegisterWithTranslate {...args} />\n  </Provider>",...SearchTermUPS.parameters?.docs?.source}}},SearchTermFedex.parameters={...SearchTermFedex.parameters,docs:{...SearchTermFedex.parameters?.docs,source:{originalSource:"(args: ContentCompositeProps) => <Provider store={createStore(combineReducers(reducers))}>\n    <RegisterWithTranslate {...args} />\n  </Provider>",...SearchTermFedex.parameters?.docs?.source}}},SearchTermDHLExpress.parameters={...SearchTermDHLExpress.parameters,docs:{...SearchTermDHLExpress.parameters?.docs,source:{originalSource:"(args: ContentCompositeProps) => <Provider store={createStore(combineReducers(reducers))}>\n    <RegisterWithTranslate {...args} />\n  </Provider>",...SearchTermDHLExpress.parameters?.docs?.source}}},EmbeddableUserDefault.parameters={...EmbeddableUserDefault.parameters,docs:{...EmbeddableUserDefault.parameters?.docs,source:{originalSource:"(args: ContentCompositeProps) => <Provider store={createStore(combineReducers(reducers))}>\n    <RegisterWithTranslate {...args} />\n  </Provider>",...EmbeddableUserDefault.parameters?.docs?.source}}},WithStoreShopify.parameters={...WithStoreShopify.parameters,docs:{...WithStoreShopify.parameters?.docs,source:{originalSource:"(args: ContentCompositeProps) => <Provider store={createStore(combineReducers(reducers))}>\n    <RegisterWithTranslate {...args} />\n  </Provider>",...WithStoreShopify.parameters?.docs?.source}}},WithStoreGodaddy.parameters={...WithStoreGodaddy.parameters,docs:{...WithStoreGodaddy.parameters?.docs,source:{originalSource:"(args: ContentCompositeProps) => <Provider store={createStore(combineReducers(reducers))}>\n    <RegisterWithTranslate {...args} />\n  </Provider>",...WithStoreGodaddy.parameters?.docs?.source}}},WithStoreWix.parameters={...WithStoreWix.parameters,docs:{...WithStoreWix.parameters?.docs,source:{originalSource:"(args: ContentCompositeProps) => <Provider store={createStore(combineReducers(reducers))}>\n    <RegisterWithTranslate {...args} />\n  </Provider>",...WithStoreWix.parameters?.docs?.source}}},WithStoreSquare.parameters={...WithStoreSquare.parameters,docs:{...WithStoreSquare.parameters?.docs,source:{originalSource:"(args: ContentCompositeProps) => <Provider store={createStore(combineReducers(reducers))}>\n    <RegisterWithTranslate {...args} />\n  </Provider>",...WithStoreSquare.parameters?.docs?.source}}},WithStoreWeebly.parameters={...WithStoreWeebly.parameters,docs:{...WithStoreWeebly.parameters?.docs,source:{originalSource:"(args: ContentCompositeProps) => <Provider store={createStore(combineReducers(reducers))}>\n    <RegisterWithTranslate {...args} />\n  </Provider>",...WithStoreWeebly.parameters?.docs?.source}}},RegistrationPartnerFedex.parameters={...RegistrationPartnerFedex.parameters,docs:{...RegistrationPartnerFedex.parameters?.docs,source:{originalSource:"(args: ContentCompositeProps) => <Provider store={createStore(combineReducers(reducers))}>\n    <RegisterWithTranslate {...args} />\n  </Provider>",...RegistrationPartnerFedex.parameters?.docs?.source}}},RegistrationPartnerUPS.parameters={...RegistrationPartnerUPS.parameters,docs:{...RegistrationPartnerUPS.parameters?.docs,source:{originalSource:"(args: ContentCompositeProps) => <Provider store={createStore(combineReducers(reducers))}>\n    <RegisterWithTranslate {...args} />\n  </Provider>",...RegistrationPartnerUPS.parameters?.docs?.source}}}},"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}__webpack_require__.d(__webpack_exports__,{A:()=>_assertThisInitialized})},"./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>_inheritsLoose});var _setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,(0,_setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_0__.A)(subClass,superClass)}},"./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}__webpack_require__.d(__webpack_exports__,{A:()=>_setPrototypeOf})}}]);