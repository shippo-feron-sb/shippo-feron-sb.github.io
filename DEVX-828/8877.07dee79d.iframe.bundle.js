"use strict";(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[8877],{"./app/components/OrderTagChip/OrderTagChip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>OrderTagChip});var templateObject_1,templateObject_2,templateObject_3,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),Close=__webpack_require__("./node_modules/@mui/icons-material/esm/Close.js"),OrderTagIcon=__webpack_require__("./app/components/OrderTagIcon/OrderTagIcon.tsx"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),Box=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),colors=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),Chip=__webpack_require__("./node_modules/@goshippo/components/esm/Chip/Chip.js"),elevations=__webpack_require__("./node_modules/@goshippo/components/esm/styles/elevations.js"),constants=__webpack_require__("./app/styles/constants.ts"),Tag=(0,emotion_styled_browser_esm.A)(Box.A)(templateObject_1||(templateObject_1=(0,tslib_es6.ue)(["\n  align-items: center;\n  background-color: ",";\n  border-radius: 50%;\n  display: flex;\n  height: ",";\n  justify-content: center;\n  width: ",";\n"],["\n  align-items: center;\n  background-color: ",";\n  border-radius: 50%;\n  display: flex;\n  height: ",";\n  justify-content: center;\n  width: ",";\n"])),colors.T.secondary,shippoTheme.A.spacing(3),shippoTheme.A.spacing(3)),TagIcon=(0,emotion_styled_browser_esm.A)(OrderTagIcon.C)(templateObject_2||(templateObject_2=(0,tslib_es6.ue)(["\n  color: ",";\n  flex: 0 0 auto;\n"],["\n  color: ",";\n  flex: 0 0 auto;\n"])),colors.T.gray10),TagChip=(0,emotion_styled_browser_esm.A)(Chip.A)(templateObject_3||(templateObject_3=(0,tslib_es6.ue)(["\n  align-items: center;\n  background-color: ",";\n  display: inline-flex;\n  transition: all 150ms ease-in-out;\n\n  & .MuiChip-label {\n    font-weight: ",";\n  }\n\n  &:hover {\n    background-color: ",";\n    box-shadow: ",";\n  }\n\n  /* Active chip styles */\n  &.MuiChip-deletable {\n    background-color: ",";\n    color: ",";\n    cursor: default;\n\n    .MuiChip-deleteIcon {\n      border-radius: 50%;\n      color: ",";\n      transition: all 150ms ease-in-out;\n\n      &:hover {\n        background-color: ",";\n        color: ",";\n      }\n    }\n\n    .MuiChip-icon {\n      color: ",";\n    }\n  }\n"],["\n  align-items: center;\n  background-color: ",";\n  display: inline-flex;\n  transition: all 150ms ease-in-out;\n\n  & .MuiChip-label {\n    font-weight: ",";\n  }\n\n  &:hover {\n    background-color: ",";\n    box-shadow: ",";\n  }\n\n  /* Active chip styles */\n  &.MuiChip-deletable {\n    background-color: ",";\n    color: ",";\n    cursor: default;\n\n    .MuiChip-deleteIcon {\n      border-radius: 50%;\n      color: ",";\n      transition: all 150ms ease-in-out;\n\n      &:hover {\n        background-color: ",";\n        color: ",";\n      }\n    }\n\n    .MuiChip-icon {\n      color: ",";\n    }\n  }\n"])),colors.T.gray20,constants.Wy.medium,colors.T.gray20,elevations.$[2],colors.T.secondary,colors.T.white,colors.T.white,colors.T.white,colors.T.secondary,colors.T.gray10),OrderTagChip=function(props){var tag=props.tag,mode=props.mode,_a=props.isLoading,isLoading=void 0!==_a&&_a,id=tag.id,name=tag.name,icon=tag.icon;if("icon"===mode)return(0,emotion_react_jsx_runtime_browser_esm.Y)(Tag,(0,tslib_es6.Cl)({"data-testid":"tag-chip-".concat(id),"aria-label":name,role:"img"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(TagIcon,{"data-testid":"tag-icon-".concat(id),iconId:icon,isLoading})}));var isChecked=props.isChecked,onClick=props.onClick,onDelete=props.onDelete;return(0,emotion_react_jsx_runtime_browser_esm.Y)(TagChip,{icon:(0,emotion_react_jsx_runtime_browser_esm.Y)(OrderTagIcon.C,{"data-testid":"tag-icon-".concat(id),iconId:icon,isLoading}),label:name,size:"small",onDelete:isChecked?function(){return onDelete(id)}:void 0,onClick:function(){return"full-with-edit"===mode?onClick(id):isChecked?void 0:onClick(id)},deleteIcon:(0,emotion_react_jsx_runtime_browser_esm.Y)(Close.A,{role:"button","aria-label":"Delete ".concat(name),"aria-hidden":"false"}),"aria-checked":isChecked,"aria-label":name,role:"menuitemcheckbox","data-testid":"tag-chip-".concat(id),"aria-hidden":"false"})}},"./app/components/OrderTagChip/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>_OrderTagChip__WEBPACK_IMPORTED_MODULE_0__.F});var _OrderTagChip__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/components/OrderTagChip/OrderTagChip.tsx")},"./app/components/OrderTagIcon/OrderTagIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>OrderTagIcon});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),CircularProgress=__webpack_require__("./node_modules/@goshippo/components/esm/CircularProgress/CircularProgress.js"),colors=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),customIcons=__webpack_require__("./app/components/customIcons/index.ts"),orderTagIconMap={circle:customIcons.GQ,default:customIcons.C3,diamond:customIcons.e9,flag:customIcons.iF,flower:customIcons.vw,heart:customIcons.C3,hourglass:customIcons.ug,person:customIcons.nX,puzzle:customIcons.iq,sprout:customIcons.Ns,square:customIcons.dH,star:customIcons.Gg,tree:customIcons.O8},OrderTagIcon=function(_a){var iconId=_a.iconId,props=(0,tslib_es6.Tt)(_a,["iconId"]),sx=props.sx,isLoading=props.isLoading,remainingProps=(0,tslib_es6.Tt)(props,["sx","isLoading"]),Icon=function(iconId){return orderTagIconMap[iconId]||orderTagIconMap.default}(iconId);return isLoading?(0,emotion_react_jsx_runtime_browser_esm.Y)(CircularProgress.A,{size:"extraSmall"}):(0,emotion_react_jsx_runtime_browser_esm.Y)(Icon,(0,tslib_es6.Cl)({},remainingProps,{sx:(0,tslib_es6.Cl)({color:colors.T.gray80,height:shippoTheme.A.spacing(2),width:shippoTheme.A.spacing(2)},sx)}))}},"./app/constants/api.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$J:()=>OVERRIDE_ADDRESS_VERSION,Sh:()=>OVERRIDE_ADDRESS_HEADER,V1:()=>V1,X1:()=>LATEST_VERSION,XP:()=>VERSION_HEADER});var V1="2014-02-11",LATEST_VERSION="2018-02-08",VERSION_HEADER="Shippo-API-Version",OVERRIDE_ADDRESS_HEADER="Shippo-Override-Addresses",OVERRIDE_ADDRESS_VERSION="V2"},"./app/contexts/OrderTagsProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U5:()=>OrderTagsContextProvider,uq:()=>useOrderTagsContext});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),es=__webpack_require__("./node_modules/i18next/dist/es/index.js"),react=__webpack_require__("./node_modules/react/index.js"),web_orders_service=__webpack_require__("./app/services/web-orders.service/index.ts"),Order=__webpack_require__("./app/types/Order.ts"),react_redux_es=__webpack_require__("./node_modules/react-redux/es/index.js"),orders_actions=__webpack_require__("./app/actions/orders.actions.ts"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js");var types=__webpack_require__("./app/pages/Orders/Blackbeard/types/types.ts");function useOrdersSearchForm(){var _a=function useSearchQueryParams(){var history=(0,react_router.W6)(),_a=(0,tslib_es6.zs)((0,react.useState)(void 0),2),queryParams=_a[0],setQueryParams=_a[1];return(0,react.useEffect)((function(){var e_1,_a,searchParams=new URLSearchParams(history.location.search.substring(1)),queryParamObject={},shippingMethodCount=0;try{for(var _b=(0,tslib_es6.Ju)(searchParams.entries()),_c=_b.next();!_c.done;_c=_b.next()){var _d=(0,tslib_es6.zs)(_c.value,2),key=_d[0],value=_d[1];key.includes("shipping_method")?(queryParamObject["shipping_method[".concat(shippingMethodCount,"]")]=value,shippingMethodCount+=1):queryParamObject[key]=value}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}setQueryParams(queryParamObject)}),[history.location]),{queryParams,updateQueryParams:(0,react.useCallback)((function(newQueryParams){var queryString=Object.keys(newQueryParams).map((function(key){return encodeURIComponent(key)+"="+encodeURIComponent(newQueryParams[key])})).join("&");history.push("".concat(location.pathname,"?").concat(queryString))}),[history])}}(),queryParams=_a.queryParams,updateQueryParams=_a.updateQueryParams,searchQueryParam=queryParams,stringifiedQueryParams=(0,react.useMemo)((function(){return JSON.stringify(searchQueryParam)}),[searchQueryParam]),searchState=(0,react.useMemo)((function(){return searchQueryParam?(0,types.EK)(searchQueryParam):types.tg}),[stringifiedQueryParams]),searchDirty=(0,react.useMemo)((function(){for(var filterKey in searchState){var filterValue=searchState[filterKey];if(JSON.stringify(filterValue)!==JSON.stringify(types.tg[filterKey]))return!0}return!1}),[searchState]),searchCallbacks=(0,react.useMemo)((function(){var callbacks=Object.keys(types.tg).reduce((function(accum,key){return accum[key]=function(value){var _a,queryUpdateContents=(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},searchState),((_a={sortField:searchDirty?searchState.sortField:"most_relevant"})[key]=value,_a));"orderStatus"===key&&(queryUpdateContents.hidden="hidden"===value),"currentPageNumber"!==key&&(queryUpdateContents.currentPageNumber=types.tg.currentPageNumber);var queryUpdate=(0,types.Q3)(queryUpdateContents);updateQueryParams(queryUpdate)},accum}),{});return callbacks}),[searchState,updateQueryParams,searchDirty]),clearFilters=(0,react.useCallback)((function(){var defaultQueryParams=(0,types.Q3)(types.tg);updateQueryParams(defaultQueryParams)}),[updateQueryParams]);return(0,react.useMemo)((function(){return{searchState,searchCallbacks,clearFilters,searchDirty,searchQueryParam}}),[clearFilters,searchCallbacks,searchDirty,searchQueryParam,searchState])}var orders_batch_actions=__webpack_require__("./app/actions/orders-batch.actions.ts"),routing_actions=__webpack_require__("./app/actions/routing.actions.ts"),stores_actions=__webpack_require__("./app/actions/stores.actions.ts"),orders_selectors=__webpack_require__("./app/selectors/orders.selectors.ts"),OrdersBatch=__webpack_require__("./app/types/OrdersBatch.ts");function useOrdersSearchAndPagination(appLocation,searchQueryParam){var dispatch=(0,react_redux_es.wA)(),convertedSearchQueryParam=(0,react.useMemo)((function(){return function convertToApiQueryParams(searchQueryParam){var arrayParams=["shipping_method","item","tag"];if(void 0!==searchQueryParam){var unaffectedQueryParams=Object.keys(searchQueryParam).filter((function(key){return!arrayParams.some((function(param){return key.includes(param)}))})).reduce((function(accum,key){return accum[key]=searchQueryParam[key],accum}),{}),arrayParamsList=Object.keys(searchQueryParam).filter((function(item){return arrayParams.some((function(param){return item.includes(param)}))})).reduce((function(paramsList,item){var _a,paramKey=arrayParams.find((function(param){return item.includes(param)}));if(!paramKey)return paramsList;var paramsListItem=paramsList[paramKey]||[];return(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},paramsList),((_a={})[paramKey]=(0,tslib_es6.fX)((0,tslib_es6.fX)([],(0,tslib_es6.zs)(paramsListItem),!1),[searchQueryParam[item]],!1),_a))}),{});return(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},unaffectedQueryParams),arrayParamsList)}}(searchQueryParam)}),[searchQueryParam]),hasNewOrders=(0,react_redux_es.d4)(orders_selectors.Yo),stringifiedSearchQueryParam=JSON.stringify(convertedSearchQueryParam),fetchOrdersCallback=(0,react.useCallback)((function(){if(convertedSearchQueryParam){var hidden=(null==convertedSearchQueryParam?void 0:convertedSearchQueryParam.hidden)?"true"===convertedSearchQueryParam.hidden:types.tg.hidden,page=(null==convertedSearchQueryParam?void 0:convertedSearchQueryParam.page)?parseInt(convertedSearchQueryParam.page,10):types.tg.currentPageNumber,fetchCount=(null==convertedSearchQueryParam?void 0:convertedSearchQueryParam.results)||types.tg.currentPerPage.toString(),sortBy=convertedSearchQueryParam.sort_by||"",orderBy=convertedSearchQueryParam.order_by||"",orderStatus=convertedSearchQueryParam.order_status||"";dispatch((0,stores_actions.hO)()),dispatch((0,orders_actions.fI)()),dispatch((0,orders_actions.Gb)(appLocation,page,convertedSearchQueryParam,fetchCount,hidden,orderStatus,"",sortBy,orderBy)),dispatch((0,orders_batch_actions.$T)(OrdersBatch.kG.ORDERS_PAGE)),dispatch((0,routing_actions.Rr)())}}),[dispatch,stringifiedSearchQueryParam]);return(0,react.useEffect)((function(){hasNewOrders&&fetchOrdersCallback()}),[hasNewOrders,fetchOrdersCallback]),{fetchOrdersCallback}}var templateObject_1,templateObject_2,templateObject_3,templateObject_4,TagsCreationModal_styled_templateObject_1,TagsCreationModal_styled_templateObject_2,api=__webpack_require__("./app/services/api.ts"),createUniqueOrderTag=function(_a){var icon=_a.icon,name=_a.name,color=_a.color;return api.i5.request({url:TAGS_API,method:"POST",data:(0,tslib_es6.Cl)({icon,name},color?{color}:{})})},updateUniqueOrderTag=function(_a){var id=_a.id,color=_a.color,icon=_a.icon,name=_a.name;return api.i5.request({url:"".concat(TAGS_API,"/").concat(id),method:"PUT",data:(0,tslib_es6.Cl)({icon,name},color?{color}:{})})},TAGS_API="/tags",observability=__webpack_require__("./app/utils/observability/index.ts"),useOrderTags=function(){var ordersSearchForm=useOrdersSearchForm(),fetchOrdersCallback=useOrdersSearchAndPagination("order_table",ordersSearchForm.searchQueryParam).fetchOrdersCallback,dispatch=(0,react_redux_es.wA)(),_a=function(){var _a=(0,tslib_es6.zs)((0,react.useState)(!1),2),areUniqueTagsLoading=_a[0],setAreUniqueTagsLoading=_a[1],_b=(0,tslib_es6.zs)((0,react.useState)(!1),2),haveUniqueTagsError=_b[0],setHaveUniqueTagsError=_b[1],_c=(0,tslib_es6.zs)((0,react.useState)([]),2),uniqueTags=_c[0],setUniqueTags=_c[1],getUniqueTags=(0,react.useCallback)((function(){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var data,sortedOrderTags;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,3,4]),setHaveUniqueTagsError(!1),setAreUniqueTagsLoading(!0),[4,api.i5.request({url:TAGS_API,method:"GET"})];case 1:return data=_a.sent().data,sortedOrderTags=(0,Order.Qh)((null==data?void 0:data.results)||[]),setUniqueTags(sortedOrderTags),[2,sortedOrderTags];case 2:return _a.sent(),setHaveUniqueTagsError(!0),[2,[]];case 3:return setAreUniqueTagsLoading(!1),[7];case 4:return[2]}}))}))}),[]);return{getUniqueTags,createUniqueTag:function(_a){var icon=_a.icon,name=_a.name,color=_a.color;return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var data;return(0,tslib_es6.YH)(this,(function(_b){switch(_b.label){case 0:return[4,createUniqueOrderTag({icon,name,color})];case 1:return data=_b.sent().data,setUniqueTags((function(prevTags){return(0,Order.Qh)((0,tslib_es6.fX)((0,tslib_es6.fX)([],(0,tslib_es6.zs)(prevTags),!1),[data],!1))})),[2,data]}}))}))},updateUniqueTag:function(tag){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var data;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return[4,updateUniqueOrderTag(tag)];case 1:return data=_a.sent().data,setUniqueTags((function(prevTags){var tagIndex=prevTags.findIndex((function(t){return t.id===tag.id})),newTags=(0,tslib_es6.fX)([],(0,tslib_es6.zs)(prevTags),!1);return newTags[tagIndex]=data,(0,Order.Qh)(newTags)})),[2,data]}}))}))},deleteUniqueTag:function(tagId){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return[4,(orderTagId=tagId,api.i5.request({url:"".concat(TAGS_API,"/").concat(orderTagId),method:"DELETE"}))];case 1:return _a.sent(),setUniqueTags((function(prevTags){return prevTags.filter((function(tag){return tag.id!==tagId}))})),[2]}var orderTagId}))}))},areUniqueTagsLoading,haveUniqueTagsError,uniqueTags}}();return{getUniqueTags:_a.getUniqueTags,updateOrdersTags:function(orderIds,tagIds){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var data,orderToTagsMapping;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return dispatch((0,orders_actions.dk)(orderIds)),[4,(0,web_orders_service.m6)({order_ids:orderIds,tag_ids:tagIds})];case 1:return data=_a.sent().data,orderToTagsMapping=(0,Order.LE)(data.results),dispatch((0,orders_actions.eY)(orderToTagsMapping)),Object.entries(orderToTagsMapping).forEach((function(_a){var _b=(0,tslib_es6.zs)(_a,2),orderId=_b[0],tags=_b[1];observability.O.successEvent("ORDER_TAGS_BY_ORDER_ID",{force:!0,orderId,tagsCount:tags.length})})),[2]}}))}))},removeOrdersTags:function(orderIds,tagIds){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var data,activeFilterTags,removedTagsActiveOnFilter,hasOrdersWithoutAnyFilteredTags,orderToTagsMapping;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return dispatch((0,orders_actions.dk)(orderIds)),[4,(0,web_orders_service.$t)({order_ids:orderIds,tag_ids:tagIds})];case 1:return data=_a.sent().data,activeFilterTags=ordersSearchForm.searchState.orderTagsFilter,removedTagsActiveOnFilter=activeFilterTags.filter((function(tag){return tagIds.includes(tag)})),hasOrdersWithoutAnyFilteredTags=data.results.some((function(order){return!(null==order?void 0:order.tags)||!order.tags.some((function(tag){return activeFilterTags.includes(tag.id)}))})),removedTagsActiveOnFilter.length>0&&hasOrdersWithoutAnyFilteredTags?(fetchOrdersCallback(),[2]):(orderToTagsMapping=(0,Order.LE)(data.results),dispatch((0,orders_actions.eY)(orderToTagsMapping)),Object.entries(orderToTagsMapping).forEach((function(_a){var _b=(0,tslib_es6.zs)(_a,2),orderId=_b[0],tags=_b[1];observability.O.successEvent("ORDER_TAGS_BY_ORDER_ID",{force:!0,orderId,tagsCount:tags.length})})),[2])}}))}))},areUniqueTagsLoading:_a.areUniqueTagsLoading,haveUniqueTagsError:_a.haveUniqueTagsError,uniqueTags:_a.uniqueTags,createUniqueTag:_a.createUniqueTag}},esm_exports=__webpack_require__("./node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js"),react_router_dom=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),Button=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),Dialog=__webpack_require__("./node_modules/@goshippo/libraries/dist/esm/Dialog/Dialog.js"),GlobalComponentsProvider=__webpack_require__("./app/contexts/GlobalComponentsProvider.tsx"),colors=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),TAGS_ICONS_LIST=["heart","diamond","square","star","flower","circle","tree","sprout","hourglass","puzzle","flag","person"],getIconStyles=function(isTagSelected){return{color:isTagSelected?colors.T.white:colors.T.secondary}},styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),InputLabel=__webpack_require__("./node_modules/@goshippo/components/esm/InputLabel/InputLabel.js"),IconButton=__webpack_require__("./node_modules/@goshippo/components/esm/IconButton/IconButton.js"),OrderTagIcon=__webpack_require__("./app/components/OrderTagIcon/OrderTagIcon.tsx"),TagsList=(0,styled.Ay)(Stack.A)(templateObject_1||(templateObject_1=(0,tslib_es6.ue)(["\n  align-items: center;\n  border: 1px solid ",";\n  border-radius: ",";\n  box-sizing: border-box;\n  flex-flow: row wrap;\n  gap: ",";\n  min-height: ",";\n  justify-content: flex-start;\n  padding: "," ",";\n  position: relative;\n\n  "," {\n    gap: ",";\n  }\n"],["\n  align-items: center;\n  border: 1px solid ",";\n  border-radius: ",";\n  box-sizing: border-box;\n  flex-flow: row wrap;\n  gap: ",";\n  min-height: ",";\n  justify-content: flex-start;\n  padding: "," ",";\n  position: relative;\n\n  "," {\n    gap: ",";\n  }\n"])),colors.T.borders,shippoTheme.A.spacing(1),shippoTheme.A.spacing(1.5),shippoTheme.A.spacing(6),shippoTheme.A.spacing(1),shippoTheme.A.spacing(2),shippoTheme.A.breakpoints.down("lg"),shippoTheme.A.spacing(1)),TagsLabel=(0,styled.Ay)(InputLabel.A)(templateObject_2||(templateObject_2=(0,tslib_es6.ue)(["\n  background-color: ",";\n  left: ",";\n  padding: 0 ",";\n  position: absolute;\n  top: ",";\n"],["\n  background-color: ",";\n  left: ",";\n  padding: 0 ",";\n  position: absolute;\n  top: ",";\n"])),colors.T.white,shippoTheme.A.spacing(1),shippoTheme.A.spacing(1),shippoTheme.A.spacing(-1)),IconBox=(0,styled.Ay)(IconButton.A)(templateObject_3||(templateObject_3=(0,tslib_es6.ue)(["\n  align-items: center;\n  border-radius: 50%;\n  cursor: default;\n  display: flex;\n  height: ",";\n  justify-content: center;\n  transition: all 150ms ease-in-out;\n  width: ",";\n"],["\n  align-items: center;\n  border-radius: 50%;\n  cursor: default;\n  display: flex;\n  height: ",";\n  justify-content: center;\n  transition: all 150ms ease-in-out;\n  width: ",";\n"])),shippoTheme.A.spacing(3),shippoTheme.A.spacing(3)),Icon=(0,styled.Ay)(OrderTagIcon.C)(templateObject_4||(templateObject_4=(0,tslib_es6.ue)(["\n  transition: all 150ms ease-in-out;\n"],["\n  transition: all 150ms ease-in-out;\n"]))),IconSelector=function(_a){var selectedTag=_a.selectedTag,handleIconSelection=_a.handleIconSelection,t=_a.t,sx=_a.sx,_b=(0,tslib_es6.zs)((0,react.useState)((null==selectedTag?void 0:selectedTag.icon)||"default"),2),selectedIcon=_b[0],setSelectedIcon=_b[1];return(0,emotion_react_jsx_runtime_browser_esm.FD)(TagsList,(0,tslib_es6.Cl)({sx},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(TagsLabel,(0,tslib_es6.Cl)({shrink:!0},{children:t("tags.list.icon")})),TAGS_ICONS_LIST.map((function(tagIcon){var isTagSelected,isIconSelected=function(tagIcon){return selectedIcon===tagIcon}(tagIcon);return(0,emotion_react_jsx_runtime_browser_esm.Y)(IconBox,(0,tslib_es6.Cl)({name:tagIcon,onClick:function(){setSelectedIcon(tagIcon),handleIconSelection({id:(null==selectedTag?void 0:selectedTag.id)||"",name:(null==selectedTag?void 0:selectedTag.name)||"",icon:tagIcon})},role:"button","aria-label":tagIcon,sx:(isTagSelected=isIconSelected,[{backgroundColor:isTagSelected?colors.T.primary:colors.T.white,cursor:isTagSelected?"default":"pointer"},{"&:hover":{backgroundColor:isTagSelected?colors.T.primary:colors.T.web.hover}}])},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Icon,{iconId:tagIcon,"aria-hidden":!1,focusable:!0,sx:getIconStyles(isIconSelected)})}),tagIcon)}))]}))},TextField=__webpack_require__("./node_modules/@goshippo/components/esm/TextField/TextField.js"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.js"),TagNameInput=function(_a){var onError=_a.onError,onChange=_a.onChange,t=_a.t,_b=(0,index_esm.mN)({mode:"all"}),control=_b.control,errors=_b.formState.errors;return(0,react.useEffect)((function(){null==onError||onError(errors.tagname)}),[errors.tagname,onError]),(0,emotion_react_jsx_runtime_browser_esm.Y)(index_esm.xI,{name:"tagname",control,rules:{required:!0,maxLength:13},render:function(_a){var _b=_a.field,ref=_b.ref,rest=(0,tslib_es6.Tt)(_b,["ref"]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(TextField.A,(0,tslib_es6.Cl)({id:"tagname",label:t("tags.list.tagName"),placeholder:t("tags.inputName.placeholder"),inputRef:ref,error:!!errors.tagname,sx:{flex:"1 1 3rem"}},rest,{onChange:function(e){rest.onChange(e),null==onChange||onChange(e)}}))}})},FormHelperText=__webpack_require__("./node_modules/@goshippo/components/esm/FormHelperText/FormHelperText.js"),BodyWrapper=(0,styled.Ay)(Stack.A)(TagsCreationModal_styled_templateObject_1||(TagsCreationModal_styled_templateObject_1=(0,tslib_es6.ue)(["\n  display: flex;\n  justify-content: center;\n  flex-flow: row wrap;\n  align-items: center;\n  gap: 1rem;\n  padding-top: 0.5rem;\n  width: 100%;\n"],["\n  display: flex;\n  justify-content: center;\n  flex-flow: row wrap;\n  align-items: center;\n  gap: 1rem;\n  padding-top: 0.5rem;\n  width: 100%;\n"]))),InputErrorText=(0,styled.Ay)(FormHelperText.A)(TagsCreationModal_styled_templateObject_2||(TagsCreationModal_styled_templateObject_2=(0,tslib_es6.ue)(["\n  color: ",";\n  font-size: 0.75rem;\n  margin-left: 0.8rem;\n"],["\n  color: ",";\n  font-size: 0.75rem;\n  margin-left: 0.8rem;\n"])),shippoTheme.A.palette.error.main),translate=__webpack_require__("./app/utils/translate.ts"),redux=__webpack_require__("./node_modules/redux/es/redux.js"),initialTag={name:"",icon:"heart"},ComposedTagsCreationModal=(0,redux.Zz)((0,translate.Tl)(["settings"]))((function(_a){var isOpen=_a.isOpen,_b=_a.shouldShowSettingsLink,shouldShowSettingsLink=void 0===_b||_b,handleModalClose=_a.handleModalClose,createUniqueTag=_a.createUniqueTag,t=_a.t,_c=(0,tslib_es6.zs)((0,react.useState)(""),2),tagNameError=_c[0],setTagNameError=_c[1],_d=(0,tslib_es6.zs)((0,react.useState)(initialTag),2),tag=_d[0],setTag=_d[1],_e=(0,tslib_es6.zs)((0,react.useState)(!1),2),isSaveLoading=_e[0],setIsSaveLoading=_e[1],isSaveDisabled=isSaveLoading||0===tag.name.length||tagNameError.length>0,addSnackbarAlert=(0,GlobalComponentsProvider.s)().snackbar.addSnackbarAlert,handleIconSelection=(0,react.useCallback)((function(tag){setTag((function(prev){return(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},prev),{icon:tag.icon})}))}),[]),handleClose=function(){setTag(initialTag),handleModalClose()},handleTagCreation=(0,react.useCallback)((function(){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var error_1,isBadRequest,errorMessage,_a,_b,_c;return(0,tslib_es6.YH)(this,(function(_d){switch(_d.label){case 0:return _d.trys.push([0,2,3,4]),observability.O.startEvent("ORDER_TAGS_CREATE_UNIQUE_TAG"),setIsSaveLoading(!0),[4,createUniqueTag(tag)];case 1:return _d.sent(),addSnackbarAlert(t("tags.create.success"),"success"),observability.O.successEvent("ORDER_TAGS_CREATE_UNIQUE_TAG"),[3,4];case 2:return error_1=_d.sent(),isBadRequest=400===(null===(_a=error_1.response)||void 0===_a?void 0:_a.status),errorMessage=isBadRequest?null===(_c=null===(_b=error_1.response)||void 0===_b?void 0:_b.data)||void 0===_c?void 0:_c.detail:t("tags.create.error"),observability.O.errorEvent("ORDER_TAGS_CREATE_UNIQUE_TAG",{errorMessage}),addSnackbarAlert(errorMessage,"error"),isBadRequest||(0,esm_exports.Cp)("failed to create unique tag ".concat(error_1),{level:"error"}),[3,4];case 3:return setTag(initialTag),setIsSaveLoading(!1),handleModalClose(),[7];case 4:return[2]}}))}))}),[addSnackbarAlert,createUniqueTag,handleModalClose,t,tag]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(Dialog.l,{open:isOpen,onClose:handleClose,title:t("tags.modal.title"),content:(0,emotion_react_jsx_runtime_browser_esm.FD)(emotion_react_jsx_runtime_browser_esm.FK,{children:[(0,emotion_react_jsx_runtime_browser_esm.FD)(BodyWrapper,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(IconSelector,{selectedTag:initialTag,handleIconSelection,sx:{gap:shippoTheme.A.spacing(.5)},t}),(0,emotion_react_jsx_runtime_browser_esm.Y)(TagNameInput,{t,onError:function(error){if(!error)return setTagNameError("");var errorByType={required:t("tags.inputName.error.required"),maxLength:t("tags.inputName.error.maxLength")};setTagNameError(errorByType[error.type]||"")},value:null==tag?void 0:tag.name,onChange:function(e){var value=e.target.value;setTag((function(prev){return(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},prev),{name:value.trim()})}))}})]}),tagNameError?(0,emotion_react_jsx_runtime_browser_esm.Y)(InputErrorText,{children:tagNameError}):null]}),actions:(0,tslib_es6.fX)((0,tslib_es6.fX)([],(0,tslib_es6.zs)(shouldShowSettingsLink?[(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({variant:"bodyEmphasized",component:react_router_dom.N_,to:"/settings/tags",sx:{textDecoration:"none"},onClick:handleClose},{children:t("tags.modal.settingsLink")}),0)]:[]),!1),[(0,emotion_react_jsx_runtime_browser_esm.Y)(Button.A,(0,tslib_es6.Cl)({onClick:handleTagCreation,variant:"contained",disabled:isSaveDisabled,name:"save","aria-label":"save"},{children:t("tags.modal.save")}),1)],!1)})})),featureflags=__webpack_require__("./app/utils/featureflags/index.ts"),OrderTagsContext=(0,react.createContext)(null),OrderTagsContextProvider=function(_a){var children=_a.children,_b=(0,tslib_es6.zs)((0,react.useState)(!1),2),isTagCreationModalOpen=_b[0],setIsTagCreationModalOpen=_b[1],_c=useOrderTags(),getUniqueTags=_c.getUniqueTags,orderTags=(0,tslib_es6.Tt)(_c,["getUniqueTags"]),orderTagFlag=(0,featureflags.u)(featureflags.gH.ORDER_TAG_MVP);return(0,react.useEffect)((function(){(null==orderTagFlag?void 0:orderTagFlag.enabled)&&getUniqueTags()}),[getUniqueTags,null==orderTagFlag?void 0:orderTagFlag.enabled]),(0,emotion_react_jsx_runtime_browser_esm.FD)(OrderTagsContext.Provider,(0,tslib_es6.Cl)({value:(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},orderTags),{openTagCreationModal:function(){return setIsTagCreationModalOpen(!0)}})},{children:[children,(0,emotion_react_jsx_runtime_browser_esm.Y)(ComposedTagsCreationModal,{isOpen:isTagCreationModalOpen,handleModalClose:function(){return setIsTagCreationModalOpen(!1)},createUniqueTag:orderTags.createUniqueTag,t:es.t})]}))},useOrderTagsContext=function(){var context=(0,react.useContext)(OrderTagsContext);if(null===context)throw new Error("useOrderTagsContext must be used within an OrderTagsContextProvider");return context}},"./app/pages/Orders/Blackbeard/OrdersTable/CreateTagButton/CreateTagButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>CreateTagButton});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),_components_customIcons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/components/customIcons/index.ts"),CreateTagButton=function(_a){var t=_a.t,onClick=_a.onClick;return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_goshippo_components__WEBPACK_IMPORTED_MODULE_2__.A,(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cl)({alignItems:"center"},{children:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.FD)(_goshippo_components__WEBPACK_IMPORTED_MODULE_4__.A,(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cl)({variant:"text",color:"secondary",size:"small",onClick},{children:[t("orders:orderTags:createNew"),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(_components_customIcons__WEBPACK_IMPORTED_MODULE_0__.RE,{color:"secondary",sx:{height:_goshippo_components__WEBPACK_IMPORTED_MODULE_5__.A.spacing(3),marginLeft:_goshippo_components__WEBPACK_IMPORTED_MODULE_5__.A.spacing(1),width:_goshippo_components__WEBPACK_IMPORTED_MODULE_5__.A.spacing(3)}})]}))}))}},"./app/pages/Orders/Blackbeard/OrdersTable/cells/TagsTooltip/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>TagsTooltip});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),util=__webpack_require__("./app/pages/Orders/Blackbeard/OrdersTable/columns/util.ts"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),OrderTagsProvider=__webpack_require__("./app/contexts/OrderTagsProvider.tsx"),OrderTagChip=__webpack_require__("./app/components/OrderTagChip/index.ts"),context=__webpack_require__("./app/pages/Orders/Blackbeard/OrdersTable/context.ts"),CreateTagButton=__webpack_require__("./app/pages/Orders/Blackbeard/OrdersTable/CreateTagButton/CreateTagButton.tsx"),TagsTooltip=function(_a){var tags=_a.tags,handleTagSelection=_a.handleTagSelection,handleTagDeletion=_a.handleTagDeletion,_b=_a.endContent,endContent=void 0===_b?null:_b,_c=_a.tagBeingAdded,tagBeingAdded=void 0===_c?"":_c,_d=_a.tagChipMode,tagChipMode=void 0===_d?"full":_d,t=(0,context.D)().t,_e=(0,OrderTagsProvider.uq)(),uniqueTags=_e.uniqueTags,openTagCreationModal=_e.openTagCreationModal;return 0===uniqueTags.length?(0,emotion_react_jsx_runtime_browser_esm.Y)(util.T,(0,tslib_es6.Cl)({sx:{maxWidth:shippoTheme.A.spacing(20)}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(CreateTagButton.$,{t,onClick:openTagCreationModal})})):(0,emotion_react_jsx_runtime_browser_esm.Y)(util.T,(0,tslib_es6.Cl)({sx:{maxWidth:shippoTheme.A.spacing(20)}},{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(Stack.A,(0,tslib_es6.Cl)({direction:"column",gap:shippoTheme.A.spacing(1)},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Stack.A,(0,tslib_es6.Cl)({gap:shippoTheme.A.spacing(1),alignItems:"flex-start"},{children:uniqueTags.map((function(tag){return(0,emotion_react_jsx_runtime_browser_esm.Y)(OrderTagChip.F,{isLoading:tagBeingAdded===tag.id,mode:tagChipMode,onClick:handleTagSelection,onDelete:handleTagDeletion,tag,isChecked:(tagId=tag.id,selectedTags=tags,!!selectedTags&&selectedTags.some((function(_a){return _a.id===tagId})))},tag.id);var tagId,selectedTags}))})),endContent]}))}))}},"./app/pages/Orders/Blackbeard/OrdersTable/columns/util.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>ColumnTooltipContainer});var templateObject_1,tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_goshippo_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),ColumnTooltipContainer=(0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.Ay)("div")(templateObject_1||(templateObject_1=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.ue)(["\n  display: flex;\n  flex-direction: row;\n  place-items: center;\n  padding: ",";\n  max-width: 100%;\n"],["\n  display: flex;\n  flex-direction: row;\n  place-items: center;\n  padding: ",";\n  max-width: 100%;\n"])),_goshippo_components__WEBPACK_IMPORTED_MODULE_2__.A.spacing(1.5))},"./app/pages/Orders/Blackbeard/OrdersTable/context.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,D:()=>useBlackBeardOrdersTableContext});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),BlackbeardOrdersTableContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({addSimpleSnackbarNotification:function(){},addSnackbarActionAlert:function(){},isSmallScreen:!1,isTablet:!1,setRefundLabelTransactionId:function(){},onCopyToClipboard:function(){},onClickPackingSlip:function(){},onClickDownloadPackingSlip:function(){},setShipmentsInformationDrawerData:function(){},onClickPlus:function(){},recentPackages:[],carrierTemplates:{},onPackageQuickSelectAction:function(){},t:function(){},createAnotherLabel:function(){},hideUnhideOrders:function(){},onSplitOrder:function(){},toggleInvalidAddressModal:function(){},onClickRefresh:function(){},setTransactionModalOrderId:function(){},duplicateOrderFunc:function(){return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.sH)(void 0,void 0,void 0,(function(){return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.YH)(this,(function(_a){return[2]}))}))},apiRef:null,setApiRef:function(){},setInitialLoadColumn:function(){}});function useBlackBeardOrdersTableContext(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(BlackbeardOrdersTableContext)}const __WEBPACK_DEFAULT_EXPORT__=BlackbeardOrdersTableContext},"./app/pages/Orders/Blackbeard/OrdersTable/hooks/useTooltip.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>useTooltip});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useTooltip(){var _a=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.zs)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),2),isTooltipOpen=_a[0],setIsTooltipOpen=_a[1];return{isTooltipOpen,handleTooltipClose:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){setIsTooltipOpen(!1)}),[setIsTooltipOpen]),handleTooltipOpen:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){setIsTooltipOpen(!0)}),[setIsTooltipOpen])}}},"./app/pages/Orders/Blackbeard/types/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{EK:()=>ordersSearchQueryToSearchState,Q3:()=>ordersSearchStateToSearchQuery,fL:()=>weightUnitFilterTypeList,tg:()=>defaultOrdersSearchParams});var BulkDrawerLoadOptions,tslib__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_constants_weight__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/constants/weight.ts"),moment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/moment/moment.js"),_types_Store__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./app/types/Order.ts"),__webpack_require__("./app/types/Store.ts")),_utils__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__("./app/utils/businessRules.ts"),__webpack_require__("./app/pages/Orders/Blackbeard/types/utils.ts")),weightUnitFilterTypeList=["g","kg","oz","lb",""],defaultOrdersSearchParams={searchBarQuery:"",searchError:!1,orderStatus:"all",sortField:"-created_at",isInternational:"",dateFilter:[null,null],storeFilter:"all",itemFilter:[],weightFilter:{minWeight:"",maxWeight:"",weightUnit:""},currentPerPage:25,currentPageNumber:1,rowCount:0,hidden:!1,shippingMethodsFilter:[],saved:"",orderTagsFilter:[]},searchQueryToSearchStateStoreValues=Object.keys(_types_Store__WEBPACK_IMPORTED_MODULE_3__.F8).reduce((function(accum,key){var value=_types_Store__WEBPACK_IMPORTED_MODULE_3__.F8[key];return accum[(0,_types_Store__WEBPACK_IMPORTED_MODULE_3__.N3)(value)]=value,accum}),{undefined:"All"});function ordersSearchQueryToSearchState(searchQuery){var searchParameters={};if(searchQuery.start_date||searchQuery.end_date){var startDate=searchQuery.start_date?moment__WEBPACK_IMPORTED_MODULE_1__(searchQuery.start_date):null,endDate=searchQuery.end_date?moment__WEBPACK_IMPORTED_MODULE_1__(searchQuery.end_date):null;searchParameters.dateFilter=[startDate,endDate]}if(searchQuery.weight_gt||searchQuery.weight_lt||searchQuery.weight_unit){var minWeight=searchQuery.weight_gt?searchQuery.weight_gt:"",maxWeight=searchQuery.weight_lt?searchQuery.weight_lt:"",weightUnit=searchQuery.weight_unit?searchQuery.weight_unit:"lb",fallbackWeightUnit=_constants_weight__WEBPACK_IMPORTED_MODULE_0__.bm[weightUnit]||"lb";searchParameters.weightFilter={minWeight,maxWeight,weightUnit:fallbackWeightUnit}}if(searchQuery.order_status&&(searchParameters.orderStatus=searchQuery.order_status),"created_at"===searchQuery.sort_by){var sortField="desc"===searchQuery.order_by?"-created_at":"created_at";searchParameters.sortField=sortField}return"_score"===searchQuery.sort_by&&(searchParameters.sortField="most_relevant"),searchQuery.is_international&&(searchParameters.isInternational=searchQuery.is_international),searchQuery.shop_app&&(searchParameters.storeFilter=searchQueryToSearchStateStoreValues[searchQuery.shop_app]),searchQuery.page&&(searchParameters.currentPageNumber=parseInt(searchQuery.page,10)),searchQuery.results&&(searchParameters.currentPerPage=parseInt(searchQuery.results,10)),searchQuery.hidden&&(searchParameters.hidden="true"===searchQuery.hidden),searchQuery.saved&&(searchParameters.saved=searchQuery.saved),searchParameters.itemFilter=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.xu)(searchQuery,"item"),searchParameters.orderTagsFilter=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.xu)(searchQuery,"tag"),searchParameters.shippingMethodsFilter=function shippingMethodsQueryToState(searchQuery){return Object.entries(searchQuery).filter((function(_a){return(0,tslib__WEBPACK_IMPORTED_MODULE_6__.zs)(_a,1)[0].includes("shipping_method")})).reduce((function(accum,_a){var value=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.zs)(_a,2)[1];return value&&accum.push(value),accum}),[])}(searchQuery),searchParameters.searchBarQuery=searchQuery.q||"",(0,tslib__WEBPACK_IMPORTED_MODULE_6__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_6__.Cl)({},defaultOrdersSearchParams),searchParameters)}function ordersSearchStateToSearchQuery(searchState){var queryParams={},sortParameters=function(sortField){switch(sortField){case"-created_at":queryParams.order_by="desc",queryParams.sort_by="created_at";break;case"created_at":queryParams.order_by="asc",queryParams.sort_by="created_at";break;default:queryParams.order_by="desc",queryParams.sort_by="_score"}};for(var filterKey in searchState)if(JSON.stringify(searchState[filterKey])!==JSON.stringify(defaultOrdersSearchParams[filterKey]))switch(filterKey){case"sortField":sortParameters(searchState.sortField);break;case"shippingMethodsFilter":var shippingMethodParams=searchState.shippingMethodsFilter.reduce((function(accum,item,index){return accum["shipping_method[".concat(index,"]")]=item,accum}),{});Object.entries(shippingMethodParams).forEach((function(_a){var _b=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.zs)(_a,2),key=_b[0],value=_b[1];queryParams[key]=value}));break;case"orderStatus":queryParams.order_status=searchState[filterKey];break;case"isInternational":queryParams.is_international=searchState[filterKey];break;case"dateFilter":var _a=(0,tslib__WEBPACK_IMPORTED_MODULE_6__.zs)(searchState[filterKey],2),startDate=_a[0],endDate=_a[1];moment__WEBPACK_IMPORTED_MODULE_1__.isMoment(startDate)&&(queryParams.start_date=startDate.format()),moment__WEBPACK_IMPORTED_MODULE_1__.isMoment(endDate)&&(queryParams.end_date=endDate.format());break;case"storeFilter":"all"!==(filterValue=searchState[filterKey])&&(queryParams.shop_app=(0,_types_Store__WEBPACK_IMPORTED_MODULE_3__.N3)(filterValue));break;case"weightFilter":var _b=searchState[filterKey],minWeight=_b.minWeight,maxWeight=_b.maxWeight,weightUnit=_b.weightUnit;queryParams.weight_gt=minWeight,queryParams.weight_lt=maxWeight,queryParams.weight_unit=weightUnit;break;case"searchBarQuery":var filterValue=searchState[filterKey];queryParams.q=filterValue;break;case"currentPerPage":filterValue=searchState[filterKey];queryParams.results=String(filterValue);break;case"currentPageNumber":filterValue=searchState[filterKey];queryParams.page=parseInt(String(filterValue),10).toString();break;case"hidden":filterValue=searchState[filterKey];queryParams.hidden=String(filterValue);break;case"itemFilter":filterValue=searchState[filterKey];(0,_utils__WEBPACK_IMPORTED_MODULE_5__.zM)(filterValue,queryParams,"item");break;case"saved":filterValue=searchState[filterKey];queryParams.saved=String(filterValue);break;case"orderTagsFilter":filterValue=searchState[filterKey];(0,_utils__WEBPACK_IMPORTED_MODULE_5__.zM)(filterValue,queryParams,"tag")}var selectedKeys=Object.keys(queryParams);return 0===selectedKeys.length||1===selectedKeys.length&&queryParams.page||sortParameters(searchState.sortField),queryParams}!function(BulkDrawerLoadOptions){BulkDrawerLoadOptions.ADDRESS="customer",BulkDrawerLoadOptions.RATES="carrierService",BulkDrawerLoadOptions.ITEMS="items",BulkDrawerLoadOptions.PACKAGE="packageInformation",BulkDrawerLoadOptions.ORDER="order",BulkDrawerLoadOptions.DEFAULT="default"}(BulkDrawerLoadOptions||(BulkDrawerLoadOptions={}))},"./app/selectors/orders.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$m:()=>getIsUpdatingOrder,BE:()=>getSelectedCount,Bq:()=>getPackingSlipUrl,Cd:()=>getSelectedOrdersTags,H4:()=>makeGetOrderById,JF:()=>getIsOrderLoading,Ld:()=>getOrdersCount,Li:()=>getSelectedOrders,MO:()=>getAreAllOrdersSelected,Oz:()=>getAllOrdersCount,PJ:()=>getOrderFirstSuccessfulTransactionIds,RQ:()=>getIsLoading,SP:()=>getTotalOrders,Sv:()=>getOrdersData,Ub:()=>getLastOrderId,WF:()=>getOrders,YC:()=>makeGetIsOrderPartiallyFulfilled,Yo:()=>hasNewOrders,Z:()=>getOrdersRemainingForLabelDownload,ZN:()=>getSelectedOrdersData,bL:()=>getPatchBatchEntriesExtrasRequest,f6:()=>getOrderAction,kA:()=>getIsSidePanelCheckout,pP:()=>getSelectedOrderTagsByOrderId,q2:()=>getIsOrderSelected,qf:()=>getIsBatchEntrySelected,qy:()=>getCheckoutRateAfterPoll,x4:()=>getOrderSuccessfulTransactionIds,yD:()=>getOrderByObjectId,zF:()=>getOrdersAllIds});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),reselect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/reselect/es/index.js"),_types_Order__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/types/Order.ts"),_types_Transaction__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/types/Transaction.ts"),_utils_fetchable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/utils/fetchable.ts"),EMPTY_ORDER={partialFulfillmentRequests:[]},getOrdersStore=function(state){return state.orders},getOrderIdFromProps=function(_,props){return props.orderId},getOrderObjectIdFromProps=function(_,props){return props.orderObjectId},getOrderAction=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.orderAction})),hasNewOrders=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isSyncingOrders})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.hasNewOrders}))),getOrdersCount=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(orderStore){return orderStore.totalOrders})),getOrdersAllIds=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.allIds})),getOrdersData=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.data})),getOrders=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersAllIds,getOrdersData,(function(allIds,ordersData){return allIds.map((function(id){return ordersData[id]})).filter((function(v){return v}))})),getTotalOrders=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,(function(ordersData){return Object.values(ordersData).some((function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.vz)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,(function(ordersData){return Object.values(ordersData).some((function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.vX)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.totalOrders}))),getAllOrdersCount=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.allOrdersCount})),getIsOrderLoading=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isLoadingOrdersCount})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.fetchOrderHasError})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isLoadingOrder}))),getIsLoading=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isLoading})),getPackingSlipUrl=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrderAction,(function(orderAction){return"hide"===orderAction.kind&&(0,_utils_fetchable__WEBPACK_IMPORTED_MODULE_3__.A7)((function(){return!1}),(function(){return!0}),(function(){return!1}),(function(){return!1}))(orderAction.request)})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isCreatingReturnBatchEntry})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.createReturnBatchEntryHasError})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.returnLabelCreatedSuccessfully})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.transactions})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.packingSlipUrl}))),getLastOrderId=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.labelDownloadUrl})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.labelDownloadErrMsg})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isDownloadingLabels})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.notificationsLoading})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.notificationsSent})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.lastOrderId}))),getSelectedOrders=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.selectedOrders})),getOrdersRemainingForLabelDownload=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.checkedOrders})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.rowModelBeingEdited})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.ordersRemainingLabelDownload}))),getCheckoutRateAfterPoll=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.checkoutRateAfterPoll})),getSelectedOrdersData=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,getOrdersData,(function(ordersSelection,ordersData){return Object.keys(ordersSelection||{}).map((function(id){return ordersData[id]})).filter((function(v){return v}))})),getSelectedOrdersTags=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.reduce((function(acc,order){return acc.concat(order.tags||[])}),[])})),getSelectedOrderTagsByOrderId=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.reduce((function(acc,order){return acc[order.objectId]=order.tags||[],acc}),{})})),makeGetOrderById=function(){return(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,getOrderIdFromProps,(function(ordersData,orderId){return ordersData[orderId]}))},getOrderByObjectId=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,getOrderObjectIdFromProps,(function(ordersData,orderObjectId){return ordersData[orderObjectId]||EMPTY_ORDER})),makeGetIsOrderPartiallyFulfilled=function(){return(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrderByObjectId,(function(order){var e_1,_a,_b;if(!order.partialFulfillmentRequests||!order.totalPartialFulfillments)return!1;var hasFulfilledOrder=!1,hasUnfulfilledOrder=!1,_loop_1=function(request){request.transactionObjectId?(null===(_b=order.transactions.find((function(transaction){return transaction.objectId===request.transactionObjectId})))||void 0===_b?void 0:_b.status)===_types_Transaction__WEBPACK_IMPORTED_MODULE_1__.x8.SUCCESS?hasFulfilledOrder=!0:hasUnfulfilledOrder=!0:hasUnfulfilledOrder=!0;if(hasFulfilledOrder&&hasUnfulfilledOrder)return{value:!0}};try{for(var _c=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Ju)(order.partialFulfillmentRequests),_d=_c.next();!_d.done;_d=_c.next()){var state_1=_loop_1(_d.value);if("object"==typeof state_1)return state_1.value}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_1)throw e_1.error}}return!1}))},getIsUpdatingOrder=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,getOrderIdFromProps,(function(ordersData,orderId){return ordersData[orderId]})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.some((function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.vX)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.some((function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.vz)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.every((function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.vz)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isUpdatingBatchEntry}))),getIsOrderSelected=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isSingleOrderMode})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,getOrderObjectIdFromProps,(function(selectedOrders,orderObjectId){return!!selectedOrders[orderObjectId]}))),getAreAllOrdersSelected=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,getOrdersAllIds,(function(selectedOrders,allIds){return Object.keys(selectedOrders).length===allIds.length})),getIsBatchEntrySelected=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,(function(_,props){return props}),(function(selectedOrders,props){return(selectedOrders[props.orderObjectId]||[]).includes(props.batchEntryId)})),getSelectedCount=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,(function(selectedOrders){return Object.values(selectedOrders).reduce((function(count,currVal){return currVal.length?count+currVal.length:count+1}),0)})),getPatchBatchEntriesExtrasRequest=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.batchEntryEditNotificationState})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(orderStore){return orderStore.patchBatchEntriesExtrasRequest}))),getOrdersDataByObjectIds=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,(function(_,props){return props.orderObjectIds}),(function(ordersData,orderObjectIds){return orderObjectIds.map((function(objectId){return ordersData[objectId]}))})),getOrderSuccessfulTransactionIds=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersDataByObjectIds,(function(ordersData){return ordersData.filter((function(order){var _a;return null===(_a=null==order?void 0:order.transactions)||void 0===_a?void 0:_a.some((function(transaction){return"SUCCESS"===transaction.status}))})).reduce((function(txnIds,order){var orderTxns=order.transactions.filter((function(t){return"SUCCESS"===t.status})).map((function(t){return t.objectId}));return(0,tslib__WEBPACK_IMPORTED_MODULE_4__.fX)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.fX)([],(0,tslib__WEBPACK_IMPORTED_MODULE_4__.zs)(txnIds),!1),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.zs)(orderTxns),!1)}),[])})),getOrderFirstSuccessfulTransactionIds=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersDataByObjectIds,(function(ordersData){return ordersData.filter((function(order){var _a;return null===(_a=null==order?void 0:order.transactions)||void 0===_a?void 0:_a.some((function(transaction){return"SUCCESS"===transaction.status}))})).map((function(order){return order.transactions.filter((function(t){return"SUCCESS"===t.status})).map((function(t){return t.objectId}))[0]}),[])})),getIsSidePanelCheckout=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isUpdatingCustomsItems})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isCreatingCustomsItems})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isSidePanelCheckout})));(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isUpdatingParcel})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isLoadingOrderTags})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.orderTagsBeingUpdated}))},"./app/services/api.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,C4:()=>storeConnectApi,Sg:()=>unauthApi,YZ:()=>armorAPI,i5:()=>microServiceAPI,kC:()=>apiV1,kM:()=>setupAuthentication});var _a,tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),axios__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/axios/index.js"),axios__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__),_constants_api__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/constants/api.ts"),_utils_local_storage__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/utils/local-storage.ts");function setupBaseHeaders(envId){var _a,baseHeaders=((_a={})[_constants_api__WEBPACK_IMPORTED_MODULE_1__.XP]=_constants_api__WEBPACK_IMPORTED_MODULE_1__.X1,_a);if("production"===envId)return baseHeaders;baseHeaders["X-HTTP-Request-Source"]="React-".concat(envId);var lang=(0,_utils_local_storage__WEBPACK_IMPORTED_MODULE_2__.X)("i18nextLng");return lang&&(baseHeaders["Accept-Language"]=lang),baseHeaders}function setupAuthentication(jwt){var configureHeaders=function(useShippoToken){return void 0===useShippoToken&&(useShippoToken=!1),function(config){var auth=useShippoToken&&{batchPollTimeout:12e4,shippoRootUrl:".shippodev.com",reactBaseUrl:"https://DEVX-828.ui.shippodev.com/",emberBaseUrl:"#",portalBaseUrl:"https://portal-dev-qa.shippodev.com",apiBaseUrl:"https://service-dev-qa.shippodev.com",djangoBaseUrl:"https://dev-qa.shippodev.com",staticUrl:"https://dev-qa-static-shippodev-com.s3.amazonaws.com",armorUrl:"https://service-dev-qa.shippodev.com",analyticsUrl:"https://service-dev-qa.shippodev.com",storeConnectUrl:"https://service-dev-qa.shippodev.com/store_connect",trackingAppUrl:"https://track-dev-qa.shippodev.com",supportUrl:"http://support.goshippo.com",sisenseUrl:"https://goshippo-dev.sisense.com",microServiceBaseUrl:"https://api-dev-qa.shippodev.com",gtm:{id:"GTM-544FF49",dataLayer:"dataLayer",enabled:!0},heap:{id:"1954862292"},loqate:{key:"PG54-RG49-ZD26-RT49"},recaptchaKeyCreditCard:"",recaptchaKeyForgotPassword:"6LdntqgUAAAAAL6zcqM8A2hBPq--mFFvHaW1JyS1",recaptchaKeyLogin:"",recaptchaKeyRegistration:"",recaptchaBypassCookieName:"magic_recaptcha_bypass_for_qa",siftAccount:"",flags:{enableBatchAddress:!0,enableBatchInlineEdit:!0,enableDeliveredNotificationConfig:!0,automationsActive:!0,showProgressIndicator:!0,showWix:!0,enableNewExpReturns:!0,useNewParcelTemplateEndpoints:!0,enableAlcohol:!0,enableUPSMaster:!0,enableRefreshRates:!0,enableLogoOnLabelSetting:!1,enableManualLabelCreation:!1,enableCustomsEoriNumber:!0,enableAusPostMyPost:!0},featureTests:{priceTestCookie:"shippo_phpHgsPqBsbLghsk_var"},sentryDsn:"https://b69c1d48f9e74504b9c497d142ff62b5@o7666.ingest.sentry.io/6424286",sentry:{organization:"goshippocom",project:"feron",sourcemapsToken:"4dd47077c9a64aa5b82c3d05e9f93e37c068f699c7af41cd8419b125e030fac3",dsn:"https://b69c1d48f9e74504b9c497d142ff62b5@o7666.ingest.sentry.io/6424286"},newRelic:{enabled:!0,licenseKey:"NRJS-15287797fbbb22be5f3",accountId:"3617693",agentId:"601459129",applicationId:"601459129",trustKey:"3617693"},optimizely:{sdkKey:"5BDuBhgGXbHXWEXMojbEi"},showTools:!0,uspsAPI:{userId:"302SHIPP1769"},segment:"WlQv3s9abZxRRQH0rtQaOYChnOlbn63H",environmentName:"dynamic",sisense:{dashboardId:"62ab350cf4cf370038f4be31"},microFrontend:{template:"https://mfe-dev-qa.shippodev.com/template/latest"}}.shippoToken?"ShippoToken ".concat({batchPollTimeout:12e4,shippoRootUrl:".shippodev.com",reactBaseUrl:"https://DEVX-828.ui.shippodev.com/",emberBaseUrl:"#",portalBaseUrl:"https://portal-dev-qa.shippodev.com",apiBaseUrl:"https://service-dev-qa.shippodev.com",djangoBaseUrl:"https://dev-qa.shippodev.com",staticUrl:"https://dev-qa-static-shippodev-com.s3.amazonaws.com",armorUrl:"https://service-dev-qa.shippodev.com",analyticsUrl:"https://service-dev-qa.shippodev.com",storeConnectUrl:"https://service-dev-qa.shippodev.com/store_connect",trackingAppUrl:"https://track-dev-qa.shippodev.com",supportUrl:"http://support.goshippo.com",sisenseUrl:"https://goshippo-dev.sisense.com",microServiceBaseUrl:"https://api-dev-qa.shippodev.com",gtm:{id:"GTM-544FF49",dataLayer:"dataLayer",enabled:!0},heap:{id:"1954862292"},loqate:{key:"PG54-RG49-ZD26-RT49"},recaptchaKeyCreditCard:"",recaptchaKeyForgotPassword:"6LdntqgUAAAAAL6zcqM8A2hBPq--mFFvHaW1JyS1",recaptchaKeyLogin:"",recaptchaKeyRegistration:"",recaptchaBypassCookieName:"magic_recaptcha_bypass_for_qa",siftAccount:"",flags:{enableBatchAddress:!0,enableBatchInlineEdit:!0,enableDeliveredNotificationConfig:!0,automationsActive:!0,showProgressIndicator:!0,showWix:!0,enableNewExpReturns:!0,useNewParcelTemplateEndpoints:!0,enableAlcohol:!0,enableUPSMaster:!0,enableRefreshRates:!0,enableLogoOnLabelSetting:!1,enableManualLabelCreation:!1,enableCustomsEoriNumber:!0,enableAusPostMyPost:!0},featureTests:{priceTestCookie:"shippo_phpHgsPqBsbLghsk_var"},sentryDsn:"https://b69c1d48f9e74504b9c497d142ff62b5@o7666.ingest.sentry.io/6424286",sentry:{organization:"goshippocom",project:"feron",sourcemapsToken:"4dd47077c9a64aa5b82c3d05e9f93e37c068f699c7af41cd8419b125e030fac3",dsn:"https://b69c1d48f9e74504b9c497d142ff62b5@o7666.ingest.sentry.io/6424286"},newRelic:{enabled:!0,licenseKey:"NRJS-15287797fbbb22be5f3",accountId:"3617693",agentId:"601459129",applicationId:"601459129",trustKey:"3617693"},optimizely:{sdkKey:"5BDuBhgGXbHXWEXMojbEi"},showTools:!0,uspsAPI:{userId:"302SHIPP1769"},segment:"WlQv3s9abZxRRQH0rtQaOYChnOlbn63H",environmentName:"dynamic",sisense:{dashboardId:"62ab350cf4cf370038f4be31"},microFrontend:{template:"https://mfe-dev-qa.shippodev.com/template/latest"}}.shippoToken):"JWT ".concat(jwt);return config.headers=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cl)({},config.headers),{Authorization:auth}),config}};api.interceptors.request.use(configureHeaders()),microServiceAPI.interceptors.request.use(configureHeaders(!0)),armorAPI.interceptors.request.use(configureHeaders()),djangoApi.interceptors.request.use(configureHeaders()),apiV1.interceptors.request.use(configureHeaders()),storeConnectApi.interceptors.request.use(configureHeaders()),analyticsApi.interceptors.request.use(configureHeaders())}var api=axios__WEBPACK_IMPORTED_MODULE_0___default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")}),microServiceAPI=axios__WEBPACK_IMPORTED_MODULE_0___default().create({baseURL:"https://api-dev-qa.shippodev.com",headers:(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cl)({},setupBaseHeaders("dynamic"))}),armorAPI=axios__WEBPACK_IMPORTED_MODULE_0___default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")}),unauthApi=axios__WEBPACK_IMPORTED_MODULE_0___default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")}),djangoApi=axios__WEBPACK_IMPORTED_MODULE_0___default().create({baseURL:"https://dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")}),storeConnectApi=axios__WEBPACK_IMPORTED_MODULE_0___default().create({baseURL:"https://service-dev-qa.shippodev.com/store_connect",headers:setupBaseHeaders("dynamic")}),analyticsApi=axios__WEBPACK_IMPORTED_MODULE_0___default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")}),apiV1=axios__WEBPACK_IMPORTED_MODULE_0___default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cl)({},setupBaseHeaders("dynamic")),(_a={},_a[_constants_api__WEBPACK_IMPORTED_MODULE_1__.XP]=_constants_api__WEBPACK_IMPORTED_MODULE_1__.V1,_a))});const __WEBPACK_DEFAULT_EXPORT__=api},"./app/utils/featureflags/FeatureFlagsProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U2:()=>optimizelyClient});__webpack_require__("./node_modules/react/index.js");var react_sdk=__webpack_require__("./node_modules/@optimizely/react-sdk/dist/react-sdk.js"),esm_exports=(__webpack_require__("./node_modules/react-redux/es/index.js"),__webpack_require__("./app/selectors/user.selectors.ts"),__webpack_require__("./node_modules/uuid/index.js"),__webpack_require__("./node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js")),errorHandler={handleError:function(error){esm_exports.wd("[Optimizely] ".concat(null==error?void 0:error.message))}},optimizelyClient=(0,react_sdk.Q_)({sdkKey:"5BDuBhgGXbHXWEXMojbEi",datafileOptions:{autoUpdate:!0},errorHandler,logLevel:3,eventBatchSize:10,eventFlushInterval:1e3})},"./app/utils/featureflags/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{gH:()=>FeatureFlags,u:()=>useFeatureFlag});var DEFAULT_SPLIT_VARIATION="control",VariationTypes={ROLLOUT:["on","off"],A_B_TESTING:["control","variant","not-included"],OPT_IN_OUT:["initialOptIn","initialOptOut","disabled"]},FeatureFlags={SHIPMENTS_BULK_SELECTION:{name:"shipments_bulk_selection",variationType:VariationTypes.A_B_TESTING},SHOW_DUPLICATE_ORDERS:{name:"show_duplicate_orders",variationType:VariationTypes.A_B_TESTING},NEW_RETURNS_WORKFLOW:{name:"new_returns_workflow",variationType:VariationTypes.A_B_TESTING},ORDERS_REDESIGN:{name:"orders_redesign",variationType:VariationTypes.ROLLOUT},ORDERS_REDESIGN_WITH_OPT_IN_OPT_OUT:{name:"orders_redesign_with_opt_in_opt_out",variationType:VariationTypes.OPT_IN_OUT},JOIN_FLOW:{name:"join_flow_2024",variationType:VariationTypes.A_B_TESTING},ORDER_TAG_MVP:{name:"order_tag_mvp",variationType:VariationTypes.ROLLOUT},FEDEX_NEW_API_ENABLED:{name:"fedex_new_api_enabled_ui",variationType:VariationTypes.ROLLOUT},PORTAL_REDIRECT:{name:"portal_redirect",variationType:VariationTypes.ROLLOUT},ADDRESS_SERVICE_V2:{name:"address_autocomplete_validation_v2",variationType:VariationTypes.ROLLOUT},RATES_BEST_OPTION:{name:"rates_best_option",variationType:VariationTypes.A_B_TESTING},IMPROVED_REFUNDS:{name:"improved_refunds",variationType:VariationTypes.ROLLOUT},TEAMS_ENHANCEMENT:{name:"teams_enhancement",variationType:VariationTypes.ROLLOUT}},tslib_es6=(__webpack_require__("./app/utils/featureflags/FeatureFlagsProvider.tsx"),__webpack_require__("./node_modules/tslib/tslib.es6.mjs")),react_sdk=__webpack_require__("./node_modules/@optimizely/react-sdk/dist/react-sdk.js");function useFeatureFlag(featureFlag,options){var _a=(0,tslib_es6.zs)((0,react_sdk.A2)(featureFlag.name,{autoUpdate:!0,decideOptions:(null==options?void 0:options.blockEvent)?[react_sdk.kn.DISABLE_DECISION_EVENT]:[]}),2),decision=_a[0];return _a[1]?featureFlag.variationType===VariationTypes.ROLLOUT?{enabled:"on"===decision.variationKey}:featureFlag.variationType===VariationTypes.OPT_IN_OUT?{variation:"off"===decision.variationKey?"initialOptIn":decision.variationKey}:{variation:"off"===decision.variationKey?DEFAULT_SPLIT_VARIATION:decision.variationKey}:null}},"./app/utils/local-storage.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function saveInLocalStorage(keyName,value){window.localStorage.setItem(keyName,value)}function readFromLocalStorage(keyName){return window.localStorage.getItem(keyName)}__webpack_require__.d(__webpack_exports__,{X:()=>readFromLocalStorage,r:()=>saveInLocalStorage})},"./app/utils/newRelic/newRelic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>newRelic});var newRelic=new(function(){function NewRelicClient(){this.instance=null}return NewRelicClient.prototype.setUserId=function(userId){var _a;null===(_a=this.instance)||void 0===_a||_a.setUserId(userId)},NewRelicClient.prototype.addPageAction=function(name,attributes){var _a;null===(_a=this.instance)||void 0===_a||_a.addPageAction(name,attributes)},NewRelicClient.prototype.setInstance=function(instance){this.instance=instance,this.instance.setApplicationVersion("DEVX-828-Enable-Tracking-Product-Recommendation-section-Test-Case:f99c796028671db8cb7e68db1364fb0dfdc3a154")},NewRelicClient.prototype.isInitialized=function(){return!!this.instance},NewRelicClient}())},"./app/utils/observability/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>observability});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),index_esm=__webpack_require__("./node_modules/@fullstory/browser/dist/index.esm.js"),newRelic=__webpack_require__("./app/utils/newRelic/newRelic.ts"),observability=new(function(){function ObservabilityClient(){this.pendingEvents={}}return ObservabilityClient.prototype.getEventName=function(name,id){return id?"".concat(name,"_").concat(id):name},ObservabilityClient.prototype.timeoutEvent=function(name,id,timeoutMs){void 0===timeoutMs&&(timeoutMs=6e4),this.clearEvent(name,id);var timeoutEventName="".concat(name,"_TIMEOUT");this.sendPageAction(timeoutEventName,{id,timeout:timeoutMs}),this.sendFullStoryLog(timeoutEventName,{id}),this.sendFullStoryEvent(timeoutEventName,{id,timeout:timeoutMs})},ObservabilityClient.prototype.clearEvent=function(name,id){var pendingEventName=this.getEventName(name,id),event=this.pendingEvents[pendingEventName];event&&(clearTimeout(event.timeoutId),delete this.pendingEvents[pendingEventName])},ObservabilityClient.prototype.sendPageAction=function(name,attributes){try{newRelic.S.addPageAction(name,attributes)}catch(e){}},ObservabilityClient.prototype.sendFullStoryLog=function(name,attributes){try{if(!(0,index_esm.Dp)())return;attributes?(0,index_esm.Rm)("info","[Observability event] ".concat(name," with attributes: ").concat(JSON.stringify(attributes))):(0,index_esm.Rm)("info","[Observability event] ".concat(name))}catch(e){}},ObservabilityClient.prototype.sendFullStoryEvent=function(name,attributes){try{if(!(0,index_esm.Dp)())return;(0,index_esm.f0)(name,attributes||{})}catch(e){}},ObservabilityClient.prototype.singleEvent=function(name,attributes){this.sendPageAction(name,attributes),this.sendFullStoryLog(name,attributes),this.sendFullStoryEvent(name,attributes)},ObservabilityClient.prototype.startEvent=function(name,attributes){var _this=this;this.clearEvent(name,null==attributes?void 0:attributes.id);var timeoutId=window.setTimeout((function(){return _this.timeoutEvent(name,null==attributes?void 0:attributes.id,null==attributes?void 0:attributes.timeoutMs)}),(null==attributes?void 0:attributes.timeoutMs)||6e4),pendingEventName=this.getEventName(name,null==attributes?void 0:attributes.id);this.pendingEvents[pendingEventName]={timeoutId,startTime:Date.now()},this.sendPageAction(name),this.sendFullStoryLog(name,attributes)},ObservabilityClient.prototype.cancelEvent=function(name,attributes){this.clearEvent(name,null==attributes?void 0:attributes.id),this.sendFullStoryLog(name,(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},attributes),{cancelled:!0}))},ObservabilityClient.prototype.successEvent=function(name,attributes){var pendingEventName=this.getEventName(name,null==attributes?void 0:attributes.id),event=this.pendingEvents[pendingEventName];if((null==attributes?void 0:attributes.force)||event){var duration=Date.now()-((null==event?void 0:event.startTime)||0);this.clearEvent(name,null==attributes?void 0:attributes.id);var successEventName="".concat(name,"_SUCCESS");this.sendPageAction(successEventName,(0,tslib_es6.Cl)({duration},attributes)),this.sendFullStoryLog(successEventName,attributes),this.sendFullStoryEvent(successEventName,(0,tslib_es6.Cl)({duration},attributes))}},ObservabilityClient.prototype.errorEvent=function(name,attributes,severity){void 0===severity&&(severity="ERROR");var pendingEventName=this.getEventName(name,null==attributes?void 0:attributes.id),event=this.pendingEvents[pendingEventName];if((null==attributes?void 0:attributes.force)||event){var duration=Date.now()-((null==event?void 0:event.startTime)||0);this.clearEvent(name,null==attributes?void 0:attributes.id);var errorEventName="".concat(name,"_").concat(severity);this.sendPageAction(errorEventName,(0,tslib_es6.Cl)({duration},attributes)),this.sendFullStoryLog(errorEventName,attributes),this.sendFullStoryEvent(errorEventName,(0,tslib_es6.Cl)({duration},attributes))}},ObservabilityClient}())}}]);