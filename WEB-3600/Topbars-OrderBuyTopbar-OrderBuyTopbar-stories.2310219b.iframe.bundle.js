"use strict";(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[1444],{"./node_modules/lodash-es/_baseSlice.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}},"./node_modules/lodash-es/_getPrototype.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__("./node_modules/lodash-es/_overArg.js").A)(Object.getPrototypeOf,Object)},"./node_modules/lodash-es/_parent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseGet_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/_baseGet.js"),_baseSlice_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/_baseSlice.js");const __WEBPACK_DEFAULT_EXPORT__=function parent(object,path){return path.length<2?object:(0,_baseGet_js__WEBPACK_IMPORTED_MODULE_0__.A)(object,(0,_baseSlice_js__WEBPACK_IMPORTED_MODULE_1__.A)(path,0,-1))}},"./node_modules/lodash-es/isPlainObject.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseGetTag_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash-es/_baseGetTag.js"),_getPrototype_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash-es/_getPrototype.js"),_isObjectLike_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash-es/isObjectLike.js"),funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);const __WEBPACK_DEFAULT_EXPORT__=function isPlainObject(value){if(!(0,_isObjectLike_js__WEBPACK_IMPORTED_MODULE_0__.A)(value)||"[object Object]"!=(0,_baseGetTag_js__WEBPACK_IMPORTED_MODULE_1__.A)(value))return!1;var proto=(0,_getPrototype_js__WEBPACK_IMPORTED_MODULE_2__.A)(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}},"./app/pages/Orders/Blackbeard/OrdersTable/BuyButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js");const __WEBPACK_DEFAULT_EXPORT__=function(props){var dataTestId=props.dataTestId,label=props.label,onClick=props.onClick,readyOrderCount=props.readyOrderCount,selectedOrderCount=props.selectedOrderCount,sx=props.sx,badgeContent=function(readyOrderCount,selectedOrderCount){return readyOrderCount?readyOrderCount===selectedOrderCount?"".concat(readyOrderCount):"".concat(readyOrderCount," / ").concat(selectedOrderCount):""}(readyOrderCount,selectedOrderCount);return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Y)(_goshippo_components__WEBPACK_IMPORTED_MODULE_1__.A,(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Cl)({color:"primary",dataTestId,disabled:!badgeContent,onClick,role:"button",sx:(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_2__.Cl)({},sx),{"&:hover":{backgroundColor:"".concat(_goshippo_components__WEBPACK_IMPORTED_MODULE_3__.T.primary," !important")},backgroundColor:_goshippo_components__WEBPACK_IMPORTED_MODULE_3__.T.primaryButtonHover})},{children:"".concat(label," ").concat(badgeContent)}))}},"./app/blackbeard/components/Topbars/OrderBuyTopbar/OrderBuyTopbar.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DisabledActions:()=>DisabledActions,Regular:()=>Regular,RegularOrderStatusHidden:()=>RegularOrderStatusHidden,default:()=>OrderBuyTopbar_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),redux=__webpack_require__("./node_modules/redux/es/redux.js"),reducers=__webpack_require__("./app/reducers/index.ts"),translate=__webpack_require__("./app/utils/translate.ts"),react=__webpack_require__("./node_modules/react/index.js"),colors=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),useMediaQuery=__webpack_require__("./node_modules/@mui/material/useMediaQuery/useMediaQuery.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),Button=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),IconButton=__webpack_require__("./node_modules/@goshippo/components/esm/IconButton/IconButton.js"),Close=__webpack_require__("./node_modules/@mui/icons-material/esm/Close.js"),MoreVert=__webpack_require__("./node_modules/@mui/icons-material/esm/MoreVert.js"),Menu=__webpack_require__("./node_modules/@goshippo/components/esm/Menu/Menu.js"),MenuItem=__webpack_require__("./node_modules/@goshippo/components/esm/MenuItem/MenuItem.js"),useTagsVisible=__webpack_require__("./app/hooks/useTagsVisible.ts"),useTopbarColumnsWidth=__webpack_require__("./app/hooks/useTopbarColumnsWidth.ts"),BuyButton=__webpack_require__("./app/pages/Orders/Blackbeard/OrdersTable/BuyButton.tsx"),useFilterOrderStatus=__webpack_require__("./app/pages/Orders/Blackbeard/hooks/hooks/useFilterOrderStatus.ts"),TagsTopbarButton=__webpack_require__("./app/blackbeard/components/Topbars/TagsTopbarButton/TagsTopbarButton.tsx"),ButtonStyleOverride={"&:hover":{backgroundColor:"".concat(colors.T.primaryButtonHover," !important")}},OrderBuyTopbar=function(props){var onClickAddNote=props.onClickAddNote,onClickBuy=props.onClickBuy,onClickChoosePackage=props.onClickChoosePackage,onClickChooseRate=props.onClickChooseRate,onClickClearSelection=props.onClickClearSelection,onClickDownloadPackingSlip=props.onClickDownloadPackingSlip,onClickEditAddress=props.onClickEditAddress,onClickHideOrder=props.onClickHideOrder,onClickViewAll=props.onClickViewAll,onClickViewItems=props.onClickViewItems,onClickViewSelectedOnly=props.onClickViewSelectedOnly,readyCheckedOrderCount=props.readyCheckedOrderCount,t=props.t,unfulfilledCheckedOrderCount=props.unfulfilledCheckedOrderCount,viewAll=props.viewAll,isTablet=(0,useMediaQuery.A)(shippoTheme.A.breakpoints.down(1440)),isSmallerTablet=(0,useMediaQuery.A)(shippoTheme.A.breakpoints.down(846)),isMobile=(0,useMediaQuery.A)(shippoTheme.A.breakpoints.down("sm")),_a=(0,tslib_es6.zs)((0,react.useState)(null),2),anchorEl=_a[0],setAnchorEl=_a[1],open=Boolean(anchorEl),filterOrderStatus=(0,useFilterOrderStatus.e)(),topbarColumnsWidth=(0,useTopbarColumnsWidth.V)().topbarColumnsWidth,shouldDisplayTagsBulkOption=(0,useTagsVisible.N)({t}).isTagsVisible&&!isMobile,handleClick=(0,react.useCallback)((function(event){setAnchorEl(event.currentTarget)}),[]),handleClose=(0,react.useCallback)((function(){setAnchorEl(null)}),[]),handleView=(0,react.useCallback)((function(){viewAll?onClickViewAll&&onClickViewAll():onClickViewSelectedOnly&&onClickViewSelectedOnly()}),[viewAll,onClickViewAll,onClickViewSelectedOnly]),handleAddNote=(0,react.useCallback)((function(){handleClose(),onClickAddNote&&onClickAddNote()}),[onClickAddNote,handleClose]),actionButtons=(0,react.useMemo)((function(){return(0,emotion_react_jsx_runtime_browser_esm.FD)(emotion_react_jsx_runtime_browser_esm.FK,{children:[shouldDisplayTagsBulkOption&&(0,emotion_react_jsx_runtime_browser_esm.Y)("div",(0,tslib_es6.Cl)({style:{margin:0,width:topbarColumnsWidth.tags}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(TagsTopbarButton.E,{buttonProps:{sx:ButtonStyleOverride},t})})),!isSmallerTablet&&(0,emotion_react_jsx_runtime_browser_esm.Y)("div",(0,tslib_es6.Cl)({style:{margin:0,width:topbarColumnsWidth.customer}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Button.A,(0,tslib_es6.Cl)({dataTestId:"edit-address-button",disabled:!unfulfilledCheckedOrderCount,onClick:onClickEditAddress,sx:ButtonStyleOverride,variant:"text"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)("span",(0,tslib_es6.Cl)({style:{color:colors.T.white}},{children:t("orders:toolbar:editAddresses")}))}))})),(0,emotion_react_jsx_runtime_browser_esm.Y)("div",(0,tslib_es6.Cl)({style:{margin:0,width:topbarColumnsWidth.items}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Button.A,(0,tslib_es6.Cl)({dataTestId:"view-items-button",disabled:!unfulfilledCheckedOrderCount,onClick:onClickViewItems,sx:ButtonStyleOverride,variant:"text"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)("span",(0,tslib_es6.Cl)({style:{color:colors.T.white}},{children:t("orders:toolbar:viewItems")}))}))})),(0,emotion_react_jsx_runtime_browser_esm.Y)("div",(0,tslib_es6.Cl)({style:{margin:0,width:topbarColumnsWidth.packageInformation}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Button.A,(0,tslib_es6.Cl)({dataTestId:"choose-package-button",disabled:!unfulfilledCheckedOrderCount,onClick:onClickChoosePackage,sx:ButtonStyleOverride,variant:"text"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)("span",(0,tslib_es6.Cl)({style:{color:colors.T.white}},{children:t("orders:toolbar:choosePackage")}))}))})),(0,emotion_react_jsx_runtime_browser_esm.Y)("div",(0,tslib_es6.Cl)({style:{margin:0,width:topbarColumnsWidth.carrierService}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Button.A,(0,tslib_es6.Cl)({dataTestId:"choose-rate-button",disabled:!unfulfilledCheckedOrderCount,onClick:onClickChooseRate,sx:ButtonStyleOverride,variant:"text"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)("span",(0,tslib_es6.Cl)({style:{color:colors.T.white}},{children:t("orders:toolbar:chooseRate")}))}))}))]})}),[t,isSmallerTablet,unfulfilledCheckedOrderCount,onClickChoosePackage,onClickChooseRate,onClickEditAddress,onClickViewItems,topbarColumnsWidth,shouldDisplayTagsBulkOption]);return(0,emotion_react_jsx_runtime_browser_esm.FD)(emotion_react_jsx_runtime_browser_esm.FK,{children:[(0,emotion_react_jsx_runtime_browser_esm.FD)(Stack.A,(0,tslib_es6.Cl)({alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,sx:{backgroundColor:colors.T.primary,borderTopLeftRadius:shippoTheme.A.spacing(2),borderTopRightRadius:shippoTheme.A.spacing(2),height:48,p:2,pl:0}},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)("div",(0,tslib_es6.Cl)({style:{paddingLeft:shippoTheme.A.spacing(1),width:isTablet?50:80}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(IconButton.A,(0,tslib_es6.Cl)({name:"close-button",onClick:onClickClearSelection},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Close.A,{style:{color:colors.T.white}})}))})),(0,emotion_react_jsx_runtime_browser_esm.FD)("div",(0,tslib_es6.Cl)({style:{alignItems:"center",display:"flex",flex:1,margin:0}},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)("div",(0,tslib_es6.Cl)({style:{width:topbarColumnsWidth.order}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Button.A,(0,tslib_es6.Cl)({dataTestId:"view-button",onClick:handleView,sx:ButtonStyleOverride,variant:"text"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)("span",(0,tslib_es6.Cl)({style:{color:colors.T.white}},{children:t(viewAll?"orders:toolbar:viewAll":"orders:toolbar:viewSelectedOnly")}))}))})),!isTablet&&actionButtons]})),(0,emotion_react_jsx_runtime_browser_esm.FD)(Stack.A,(0,tslib_es6.Cl)({flexDirection:"inherit",sx:{display:"contents",justifyContent:"space-around",marginLeft:0,width:145}},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(BuyButton.A,{dataTestId:"buy-order-button",label:t("orders:toolbar:buyButton"),onClick:onClickBuy,readyOrderCount:readyCheckedOrderCount,selectedOrderCount:unfulfilledCheckedOrderCount,sx:{width:100}}),(0,emotion_react_jsx_runtime_browser_esm.FD)("div",(0,tslib_es6.Cl)({style:{height:40,marginLeft:shippoTheme.A.spacing(1.25),width:40}},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(IconButton.A,(0,tslib_es6.Cl)({"aria-controls":open?"long-menu":void 0,"aria-expanded":open?"true":void 0,"aria-haspopup":"true","aria-label":"more",disabled:!unfulfilledCheckedOrderCount,name:"kebab-menu-button",onClick:handleClick,sx:{color:colors.T.white}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(MoreVert.A,{})})),(0,emotion_react_jsx_runtime_browser_esm.FD)(Menu.A,(0,tslib_es6.Cl)({MenuListProps:{"aria-labelledby":"kebab-menu-button"},anchorEl,id:"long-menu",onClose:handleClose,open,sx:{marginTop:shippoTheme.A.spacing(1)}},{children:[isSmallerTablet&&(0,emotion_react_jsx_runtime_browser_esm.Y)(MenuItem.A,(0,tslib_es6.Cl)({onClick:onClickEditAddress,sx:{height:48}},{children:t("orders:toolbar:editAddresses")})),(0,emotion_react_jsx_runtime_browser_esm.Y)(MenuItem.A,(0,tslib_es6.Cl)({onClick:handleAddNote,sx:{height:48}},{children:t("orders:toolbar:addNoteToPackingSlipV2")})),(0,emotion_react_jsx_runtime_browser_esm.Y)(MenuItem.A,(0,tslib_es6.Cl)({onClick:onClickDownloadPackingSlip,sx:{height:48}},{children:t("orders:toolbar:downloadPackingSlipV2")})),(0,emotion_react_jsx_runtime_browser_esm.Y)(MenuItem.A,(0,tslib_es6.Cl)({onClick:onClickHideOrder,sx:{height:48}},{children:t("hidden"===filterOrderStatus?"orders:toolbar:unhideOrder":"orders:toolbar:hideOrderV2")}))]}))]}))]}))]})),isTablet&&(0,emotion_react_jsx_runtime_browser_esm.Y)(Stack.A,(0,tslib_es6.Cl)({alignItems:"center",direction:"row",gap:shippoTheme.A.spacing(2),justifyContent:"center",sx:{backgroundColor:colors.T.primary,borderTop:"1px solid ".concat(colors.T.white),height:23,p:2,pl:0}},{children:actionButtons}))]})};const OrderBuyTopbar_stories={argTypes:{onClickAddNote:{action:"onClickAddNote"},onClickBuy:{action:"onClickBuy"},onClickChoosePackage:{action:"onClickChoosePackage"},onClickChooseRate:{action:"onClickChooseRate"},onClickClearSelection:{action:"onClickClearSelection"},onClickDownloadPackingSlip:{action:"onClickDownloadPackingSlip"},onClickEditAddress:{action:"onClickEditAddress"},onClickHideOrder:{action:"onClickHideOrder"},onClickViewAll:{action:"onClickViewAll"},onClickViewItems:{action:"onClickViewItems"},onClickViewSelectedOnly:{action:"onClickViewSelectedOnly"}},component:OrderBuyTopbar,title:"Order Table Topbar / Top Bar"};var OrderBuyTopbarWithTranslate=(0,translate.Tl)("orders")(OrderBuyTopbar),Template=function(args){return(0,emotion_react_jsx_runtime_browser_esm.Y)(react_router.fS,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(es.Kq,(0,tslib_es6.Cl)({store:(0,redux.y$)((0,redux.HY)(reducers.A))},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(OrderBuyTopbarWithTranslate,(0,tslib_es6.Cl)({},args))}))})},Regular=Template.bind({});Regular.args={readyCheckedOrderCount:2,unfulfilledCheckedOrderCount:10,viewAll:!1};var DisabledActions=Template.bind({});DisabledActions.args={readyCheckedOrderCount:0,unfulfilledCheckedOrderCount:0,viewAll:!1};var RegularOrderStatusHidden=function(args){return(0,emotion_react_jsx_runtime_browser_esm.Y)(react_router.fS,(0,tslib_es6.Cl)({initialEntries:["some-url?order_status=hidden"]},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(OrderBuyTopbarWithTranslate,(0,tslib_es6.Cl)({},args))}))}.bind({});RegularOrderStatusHidden.args={readyCheckedOrderCount:2,unfulfilledCheckedOrderCount:10,viewAll:!1},Regular.parameters={...Regular.parameters,docs:{...Regular.parameters?.docs,source:{originalSource:"(args: OrderBuyTopbarProps) => <MemoryRouter>\n    <Provider store={createStore(combineReducers(reducers))}>\n      <OrderBuyTopbarWithTranslate {...args} />\n    </Provider>\n  </MemoryRouter>",...Regular.parameters?.docs?.source}}},DisabledActions.parameters={...DisabledActions.parameters,docs:{...DisabledActions.parameters?.docs,source:{originalSource:"(args: OrderBuyTopbarProps) => <MemoryRouter>\n    <Provider store={createStore(combineReducers(reducers))}>\n      <OrderBuyTopbarWithTranslate {...args} />\n    </Provider>\n  </MemoryRouter>",...DisabledActions.parameters?.docs?.source}}},RegularOrderStatusHidden.parameters={...RegularOrderStatusHidden.parameters,docs:{...RegularOrderStatusHidden.parameters?.docs,source:{originalSource:"(args: OrderBuyTopbarProps) => <MemoryRouter initialEntries={['some-url?order_status=hidden']}>\n    <OrderBuyTopbarWithTranslate {...args} />\n  </MemoryRouter>",...RegularOrderStatusHidden.parameters?.docs?.source}}}}}]);