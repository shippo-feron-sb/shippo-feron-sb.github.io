"use strict";(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[6503],{"./app/utils/translate.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Iu:()=>react_i18next__WEBPACK_IMPORTED_MODULE_0__.Iu,cC:()=>react_i18next__WEBPACK_IMPORTED_MODULE_0__.cC,eU:()=>react_i18next__WEBPACK_IMPORTED_MODULE_0__.eU});var react_i18next__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js")},"./app/pages/Settings/Carriers/VerifyCarrier/SignPad/SignPad.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>SignPad_stories});var templateObject_1,templateObject_2,templateObject_3,templateObject_4,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),Dialog=__webpack_require__("./node_modules/@goshippo/components/esm/Dialog/Dialog.js"),Box=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),DialogActions=__webpack_require__("./node_modules/@goshippo/components/esm/DialogActions/DialogActions.js"),DialogTitle=__webpack_require__("./node_modules/@goshippo/components/esm/DialogTitle/DialogTitle.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),IconButton=__webpack_require__("./node_modules/@goshippo/components/esm/IconButton/IconButton.js"),Close=__webpack_require__("./node_modules/@mui/icons-material/esm/Close.js"),DialogContent=__webpack_require__("./node_modules/@goshippo/components/esm/DialogContent/DialogContent.js"),TextField=__webpack_require__("./node_modules/@goshippo/components/esm/TextField/TextField.js"),Button=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),react=__webpack_require__("./node_modules/react/index.js"),options_font="25px 'Rock Salt'",options_smallerFont="20px 'Rock Salt'",options_fillStyle="black",options_width=280,options_height=80,options_paddingX=140,options_paddingY=60,options_customFont={name:"'Rock Salt'",url:"https://fonts.googleapis.com/css2?family=Rock+Salt"},StyledDialog=(0,emotion_styled_browser_esm.Z)(Dialog.Z)(templateObject_1||(templateObject_1=(0,tslib_es6.cy)(["\n  & .MuiPaper-root {\n    border-radius: 16px;\n  }\n"],["\n  & .MuiPaper-root {\n    border-radius: 16px;\n  }\n"]))),StyledSignCanvas=(0,emotion_styled_browser_esm.Z)("img")(templateObject_2||(templateObject_2=(0,tslib_es6.cy)(["\n  height: 80px;\n  width: 280px;\n"],["\n  height: 80px;\n  width: 280px;\n"]))),StyledCanvasContainer=(0,emotion_styled_browser_esm.Z)(Box.Z)(templateObject_3||(templateObject_3=(0,tslib_es6.cy)(["\n  margin: -"," 0;\n  display: 'flex';\n  justify-content: 'center';\n  height: ",";\n  width: ",";\n  border-bottom: 2px solid;\n"],["\n  margin: -"," 0;\n  display: 'flex';\n  justify-content: 'center';\n  height: ",";\n  width: ",";\n  border-bottom: 2px solid;\n"])),shippoTheme.Z.spacing(.5),shippoTheme.Z.spacing(10),shippoTheme.Z.spacing(35)),StyledDialogActions=(0,emotion_styled_browser_esm.Z)(DialogActions.Z)(templateObject_4||(templateObject_4=(0,tslib_es6.cy)(["\n  display: flex;\n  justify-content: space-between;\n  padding: ",";\n"],["\n  display: flex;\n  justify-content: space-between;\n  padding: ",";\n"])),shippoTheme.Z.spacing(4)),SignPad=function(_a){var t=_a.t,open=_a.open,onClose=_a.onClose,onSubmit=_a.onSubmit,_b=(0,tslib_es6.CR)((0,react.useState)(""),2),inputValue=_b[0],setInputValue=_b[1],inputRef=(0,react.useRef)(null),debouncedHandleChange=(0,lodash.debounce)((function(e){return setInputValue(e.target.value)}),0),imageData=function(textString){var _a=(0,tslib_es6.CR)((0,react.useState)(!1),2),isReady=_a[0],setIsReady=_a[1],_b=(0,tslib_es6.CR)((0,react.useState)(null),2),imageData=_b[0],setImageData=_b[1];return(0,react.useEffect)((function(){var linkElement=document.createElement("link");linkElement.rel="stylesheet",linkElement.href=options_customFont.url;var head=document.head;return head.appendChild(linkElement),linkElement.onload=function(){setIsReady(!0)},function(){head.removeChild(linkElement)}}),[]),(0,react.useEffect)((function(){if(isReady){var smallerFont=options_smallerFont,font=options_font,fillStyle=options_fillStyle,width=options_width,height=options_height,paddingX=options_paddingX,paddingY=options_paddingY,canvasSelectorDom=document.createElement("canvas");canvasSelectorDom.setAttribute("width","".concat(width,"px")),canvasSelectorDom.setAttribute("height","".concat(height,"px"));var context=canvasSelectorDom.getContext("2d");context&&(context.font=textString.length>12?smallerFont:font,context.textAlign="center",context.fillStyle=fillStyle,context.fillText(textString,paddingX,paddingY));var imageDataUrl=canvasSelectorDom.toDataURL();setImageData(imageDataUrl)}}),[isReady,textString]),{imageData}}(inputValue).imageData;return(0,emotion_react_jsx_runtime_browser_esm.BX)(StyledDialog,(0,tslib_es6.pi)({open,onClose},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(DialogTitle.Z,(0,tslib_es6.pi)({style:{padding:"".concat(shippoTheme.Z.spacing(4)),paddingBottom:"".concat(shippoTheme.Z.spacing(1))}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"h2",variant:"h2"},{children:t("settings:carriers:accountValidation:signature:title")}))})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(IconButton.Z,(0,tslib_es6.pi)({"aria-label":"close",onClick:onClose,sx:{position:"absolute",right:8,top:8,color:function(theme){return theme.palette.grey[500]}}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Close.Z,{})})),(0,emotion_react_jsx_runtime_browser_esm.BX)(DialogContent.Z,(0,tslib_es6.pi)({style:{padding:"".concat(shippoTheme.Z.spacing(4)),paddingTop:"".concat(shippoTheme.Z.spacing(1))}},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",variant:"caption",sx:{fontSize:"0.85rem"}},{children:t("settings:carriers:accountValidation:signature:instruction")})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(TextField.Z,{inputRef,fullWidth:!0,style:{marginTop:shippoTheme.Z.spacing(2)},label:t("settings:carriers:accountValidation:signature:label"),onChange:function(e){debouncedHandleChange(e)}}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",variant:"caption",sx:{marginTop:shippoTheme.Z.spacing(4)}},{children:t("settings:carriers:accountValidation:signature:previewLabel")})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(StyledCanvasContainer,{children:imageData&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(StyledSignCanvas,{src:imageData})})]})),(0,emotion_react_jsx_runtime_browser_esm.BX)(StyledDialogActions,{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Button.Z,(0,tslib_es6.pi)({size:"small",onClick:function(){setInputValue(""),inputRef.current&&(inputRef.current.value="")},color:"secondary"},{children:t("settings:carriers:accountValidation:signature:clear")})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Button.Z,(0,tslib_es6.pi)({size:"small",onClick:function(){onSubmit(imageData||"")},color:"primary",disabled:!inputValue},{children:t("settings:carriers:accountValidation:signature:submit")}))]})]}))},translate=__webpack_require__("./app/utils/translate.ts");const SignPad_stories={title:"Verify Carrier / SignPad",component:SignPad,argTypes:{onSubmit:{action:"submit"},onClose:{action:"close"}},tags:["autodocs"],parameters:{layout:"centered"}};var SignPadWithTranslation=(0,translate.Iu)("settings")(SignPad),Default=function(args){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(SignPadWithTranslation,(0,tslib_es6.pi)({},args))}.bind({});Default.args={open:!0},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"(args: SignPadProps) => <SignPadWithTranslation {...args} />",...Default.parameters?.docs?.source}}}}}]);