"use strict";(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[7612,2964],{"./app/components/Link/Link.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,Oc:()=>DeepBlueBoldLink,Ot:()=>GreyLink,ec:()=>SupportEmailLink,ic:()=>GreenLink,k0:()=>DangerLink,oJ:()=>LearnMoreLink,tp:()=>DeepBlueLink,zN:()=>BlueLink});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_emotion_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),_styles_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/styles/constants.ts"),LinkComponent=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A)("a")(templateObject_1||(templateObject_1=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.ue)(["\n  font-size: inherit;\n  cursor: pointer;\n  text-decoration: ",";\n  ","\n"],["\n  font-size: inherit;\n  cursor: pointer;\n  text-decoration: ",";\n  ","\n"])),(function(props){return props.hideUnderline?"none":"normal"}),(function(props){return props.disabled?"color: ".concat(_styles_constants__WEBPACK_IMPORTED_MODULE_1__.Tj.gray400," !important;\n    cursor: not-allowed;\n    text-decoration: none !important;"):""})),Link=function(props){var children=props.children,className=props.className,dataAnalytics=props.dataAnalytics,dataPendo=props.dataPendo,href=props.href,target=props.target,id=props.id,onClick=props.onClick,disabled=props.disabled,hideUnderline=props.hideUnderline,dataE2E=props.dataE2E,dataHeap=props.dataHeap,rel=props.rel,tabIndex=props.tabIndex,elementProps={href,target,id,rel};return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Y)(LinkComponent,(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Cl)({},elementProps,{className,"data-pendo":dataPendo,"data-heap-event":dataAnalytics,"data-analytics":dataAnalytics,"data-testid":dataAnalytics,"data-e2e":dataE2E,"data-heap":dataHeap,onClick,disabled,hideUnderline,tabIndex},{children}))};const __WEBPACK_DEFAULT_EXPORT__=Link;var templateObject_1,templateObject_2,templateObject_3,templateObject_4,templateObject_5,templateObject_6,templateObject_7,templateObject_8,templateObject_9,templateObject_10,GreenLink=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A)(Link)(templateObject_2||(templateObject_2=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.ue)(["\n  color: ",";\n"],["\n  color: ",";\n"])),_styles_constants__WEBPACK_IMPORTED_MODULE_1__.Tj.primary),BlueLink=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A)(Link)(templateObject_3||(templateObject_3=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.ue)(["\n  color: ",";\n"],["\n  color: ",";\n"])),_styles_constants__WEBPACK_IMPORTED_MODULE_1__.Tj.aqua),DeepBlueLink=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A)(Link)(templateObject_4||(templateObject_4=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.ue)(["\n  color: ",";\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n\n  &:active {\n    text-decoration: underline;\n  }\n"],["\n  color: ",";\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n\n  &:active {\n    text-decoration: underline;\n  }\n"])),_styles_constants__WEBPACK_IMPORTED_MODULE_1__.Tj.forest700),DeepBlueBoldLink=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A)(DeepBlueLink)(templateObject_5||(templateObject_5=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.ue)(["\n  font-size: 0.875rem;\n  font-weight: ",";\n"],["\n  font-size: 0.875rem;\n  font-weight: ",";\n"])),_styles_constants__WEBPACK_IMPORTED_MODULE_1__.Wy.medium),GreyLink=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A)(Link)(templateObject_6||(templateObject_6=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.ue)(["\n  color: ",";\n"],["\n  color: ",";\n"])),_styles_constants__WEBPACK_IMPORTED_MODULE_1__.Tj.secondary),LearnMoreLink=((0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A)(GreyLink)(templateObject_7||(templateObject_7=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.ue)(["\n  font-weight: ",";\n  text-decoration: underline;\n"],["\n  font-weight: ",";\n  text-decoration: underline;\n"])),_styles_constants__WEBPACK_IMPORTED_MODULE_1__.Wy.normal),(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A)(Link)(templateObject_8||(templateObject_8=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.ue)(["\n  color: ",";\n"],["\n  color: ",";\n"])),_styles_constants__WEBPACK_IMPORTED_MODULE_1__.Tj.primaryAlternative)),SupportEmailLink=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A)(Link)(templateObject_9||(templateObject_9=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.ue)(["\n  color: ",";\n"],["\n  color: ",";\n"])),_styles_constants__WEBPACK_IMPORTED_MODULE_1__.Tj.primaryAlternative),DangerLink=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A)(Link)(templateObject_10||(templateObject_10=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.ue)(["\n  color: ",";\n"],["\n  color: ",";\n"])),_styles_constants__WEBPACK_IMPORTED_MODULE_1__.Tj.ruby700)},"./app/components/Link/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,Oc:()=>_components_Link_Link__WEBPACK_IMPORTED_MODULE_0__.Oc,Ot:()=>_components_Link_Link__WEBPACK_IMPORTED_MODULE_0__.Ot,ic:()=>_components_Link_Link__WEBPACK_IMPORTED_MODULE_0__.ic,k0:()=>_components_Link_Link__WEBPACK_IMPORTED_MODULE_0__.k0,tp:()=>_components_Link_Link__WEBPACK_IMPORTED_MODULE_0__.tp,zN:()=>_components_Link_Link__WEBPACK_IMPORTED_MODULE_0__.zN});var _components_Link_Link__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/components/Link/Link.tsx");const __WEBPACK_DEFAULT_EXPORT__=_components_Link_Link__WEBPACK_IMPORTED_MODULE_0__.Ay},"./app/components/Spinner/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{hQ:()=>GreenSpinner,p9:()=>WhiteSpinner});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),constants=__webpack_require__("./app/styles/constants.ts"),SpinnerSvg=(0,emotion_styled_browser_esm.A)("svg")(templateObject_1||(templateObject_1=(0,tslib_es6.ue)(["\n  height: ",";\n  vertical-align: middle;\n\n  & > path {\n    fill: black;\n  }\n\n  animation: spin 600ms infinite;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg) translateZ(0px);\n    }\n    100% {\n      transform: rotate(360deg) translateZ(0px);\n    }\n  }\n"],["\n  height: ",";\n  vertical-align: middle;\n\n  & > path {\n    fill: black;\n  }\n\n  animation: spin 600ms infinite;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg) translateZ(0px);\n    }\n    100% {\n      transform: rotate(360deg) translateZ(0px);\n    }\n  }\n"])),(function(props){return"".concat(props.size,"px")})),Spinner_Spinner=function(props){return(0,emotion_react_jsx_runtime_browser_esm.Y)(SpinnerSvg,(0,tslib_es6.Cl)({viewBox:"0 0 50 50",className:"".concat(props.className||""," spinner"),size:props.size},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)("path",{d:"M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z"})}))};Spinner_Spinner.defaultProps={size:30};var GreenSpinner=(0,emotion_styled_browser_esm.A)(Spinner_Spinner)(templateObject_2||(templateObject_2=(0,tslib_es6.ue)(["\n  & > path {\n    fill: ",";\n  }\n"],["\n  & > path {\n    fill: ",";\n  }\n"])),constants.Tj.primary),WhiteSpinner=(0,emotion_styled_browser_esm.A)(Spinner_Spinner)(templateObject_3||(templateObject_3=(0,tslib_es6.ue)(["\n  & > path {\n    fill: white;\n  }\n"],["\n  & > path {\n    fill: white;\n  }\n"])));(0,emotion_styled_browser_esm.A)(Spinner_Spinner)(templateObject_4||(templateObject_4=(0,tslib_es6.ue)(["\n  & path {\n    fill: ",";\n  }\n"],["\n  & path {\n    fill: ",";\n  }\n"])),constants.Tj.sea700);var templateObject_1,templateObject_2,templateObject_3,templateObject_4},"./app/hooks/useStackablePortal.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,z:()=>isTopOfStack});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),isTopOfStack=function(key){return window.stackables[window.stackables.length-1]===key};const __WEBPACK_DEFAULT_EXPORT__=function(isOpen){var key=react__WEBPACK_IMPORTED_MODULE_0__.useRef(Symbol());return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((function(){return isOpen&&window.stackables.push(key.current),function(){if(isOpen){var toRemove=window.stackables.indexOf(key.current);window.stackables.splice(toRemove,1)}}}),[isOpen]),key.current}},"./app/modules/recommendations/hooks/useRecommendations.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{nD:()=>APPLIED_RECOMMENDATIONS,ZO:()=>DISMISSED_RECOMMENDATIONS,GI:()=>useRecommendations});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react=__webpack_require__("./node_modules/react/index.js"),api=__webpack_require__("./app/services/api.ts"),useQuery=__webpack_require__("./node_modules/@tanstack/react-query/build/lib/useQuery.mjs"),Parcel=__webpack_require__("./app/types/Parcel.ts"),orders_service=__webpack_require__("./app/services/orders.service.ts"),segment=__webpack_require__("./app/utils/segment/index.ts"),observability=__webpack_require__("./app/utils/observability/index.ts"),DISMISSED_RECOMMENDATIONS="dismissed_recommendations",APPLIED_RECOMMENDATIONS="applied_recommendations",isDismissedOrApplied=function(orderId){var dismissedVal=localStorage.getItem(DISMISSED_RECOMMENDATIONS),appliedVal=localStorage.getItem(APPLIED_RECOMMENDATIONS);return!(!dismissedVal||!dismissedVal.includes(orderId))||!(!appliedVal||!appliedVal.includes(orderId))},persist=function(orderId,key){var storageValue=localStorage.getItem(key),recs=storageValue?new Set(storageValue.split(",")):new Set;return Array.isArray(orderId)?orderId.forEach((function(id){return recs.add(id)})):recs.add(orderId),localStorage.setItem(key,Array.from(recs).join(",")),recs},useRecommendations=function(orderId){var _a,_b,_c,_d,_e,storageValue,_f=(0,tslib_es6.zs)((0,react.useState)(!((storageValue=localStorage.getItem(DISMISSED_RECOMMENDATIONS))&&storageValue.split(",").length>=3)),2),showRecs=_f[0],setShowRecs=_f[1],_g=(0,tslib_es6.zs)((0,react.useState)(!!orderId&&isDismissedOrApplied(orderId)),2),isDismissed=_g[0],setIsDismissed=_g[1],_h=(0,tslib_es6.zs)((0,react.useState)(),2),recommendedEventOrderId=_h[0],setRecommendedEventOrderId=_h[1],_j=(0,useQuery.I)({queryKey:["recommendations",orderId],queryFn:function(){return function(orderId){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){return(0,tslib_es6.YH)(this,(function(_a){return[2,api.YZ.request({url:"/orders/".concat(orderId,"/batch_entry/similar"),method:"GET"})]}))}))}(orderId)},enabled:!(!orderId||!showRecs)}),similarOrdersData=_j.data,isLoading=_j.isLoading,ordersToUpdateCount=(null===(_b=null===(_a=null==similarOrdersData?void 0:similarOrdersData.data)||void 0===_a?void 0:_a.batch_entry_ids)||void 0===_b?void 0:_b.length)||0,dismissRecommendation=(0,react.useCallback)((function(){if(!orderId)throw new Error("No order to dismiss");(0,segment.u4)(segment.sV.recommendation_dismissed,{order_id:orderId});var dismissedOrdersSet=function(orderId){return persist(orderId,DISMISSED_RECOMMENDATIONS)}(orderId);setIsDismissed(!0),observability.O.singleEvent("RECOMMENDATION_DISMISSED",{orderId}),dismissedOrdersSet.size>=3&&(setShowRecs(!1),(0,segment.u4)(segment.sV.recommendations_dismissed),observability.O.singleEvent("RECOMMENDATIONS_DISMISSED"))}),[setShowRecs,orderId,setIsDismissed]),hasRecommendations=Boolean(orderId&&showRecs&&!isDismissed&&(null===(_c=null==similarOrdersData?void 0:similarOrdersData.data)||void 0===_c?void 0:_c.batch_entry_ids)&&(null===(_d=null==similarOrdersData?void 0:similarOrdersData.data)||void 0===_d?void 0:_d.batch_entry_ids.length)>=3);(0,react.useEffect)((function(){!orderId||!hasRecommendations||recommendedEventOrderId&&recommendedEventOrderId===orderId||((0,segment.u4)(segment.sV.recommended,{order_id:orderId,type:"parcel_template"}),observability.O.singleEvent("RECOMMENDED",{orderId}),setRecommendedEventOrderId(orderId))}),[recommendedEventOrderId,setRecommendedEventOrderId,hasRecommendations,orderId,null===(_e=null==similarOrdersData?void 0:similarOrdersData.data)||void 0===_e?void 0:_e.batch_entry_ids]),(0,react.useEffect)((function(){setIsDismissed(!!orderId&&isDismissedOrApplied(orderId))}),[orderId]);var applyRecommendation=(0,react.useCallback)((function(parcel){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var res,error_1;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:if(observability.O.startEvent("APPLIED_RECOMMENDATION",{id:orderId}),!hasRecommendations||!similarOrdersData)throw new Error("No recommendations to apply");if(isLoading)throw new Error("Cannot apply recommendations while loading");_a.label=1;case 1:return _a.trys.push([1,3,,4]),[4,(0,orders_service.pC)(similarOrdersData.data.batch_entry_ids,(0,Parcel.U2)(parcel))];case 2:return res=_a.sent(),orderId&&res.data&&Array.isArray(res.data)&&(orderIds=(0,tslib_es6.fX)([orderId],(0,tslib_es6.zs)(res.data.map((function(entry){return entry.order_object_id}))),!1),persist(orderIds,APPLIED_RECOMMENDATIONS),setIsDismissed(!0)),(0,segment.u4)(segment.sV.recommendation_applied,{order_id:orderId,recommended_batch_entry_ids:similarOrdersData.data.batch_entry_ids}),observability.O.successEvent("APPLIED_RECOMMENDATION",{id:orderId,orderId,recommendedBatchEntryIds:similarOrdersData.data.batch_entry_ids.join(", ")}),[2,res];case 3:throw error_1=_a.sent(),observability.O.errorEvent("APPLIED_RECOMMENDATION",{id:orderId,orderId,recommendedBatchEntryIds:similarOrdersData.data.batch_entry_ids.join(", ")}),new Error("Failed to apply recommendation",error_1);case 4:return[2]}var orderIds}))}))}),[hasRecommendations,similarOrdersData,isLoading,orderId]);return{hasRecommendations,dismissRecommendation,applyRecommendation,ordersToUpdateCount}}},"./app/pages/BlackbeardOrdersOptInOptOut/helpers.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Kz:()=>clearOptInOutSnooze,V7:()=>getBlackbeardOrdersStorageValue,Wn:()=>getOptInOutDismissed,l3:()=>setBlackbeardOrdersStorageValue,FE:()=>shouldShowBlackbeardOrders,Xs:()=>snoozedOptInPrompt,Jg:()=>storeSnoozeValue});var moment=__webpack_require__("./node_modules/moment/moment.js");var BLACKBEARD_ORDERS_STORAGE_KEY="ordersRevamp",OPT_IN_SNOOZED_STORAGE_KEY="ordersRevampOptInDismissed",OPT_OUT_SNOOZED_STORAGE_KEY="ordersRevampOptOutDismissed",ls=function getLocalStorage(){return localStorage}();function removeOptInOptOutSnooze(optType){switch(optType){case"optIn":return ls.removeItem(OPT_IN_SNOOZED_STORAGE_KEY),!0;case"optOut":return ls.removeItem(OPT_OUT_SNOOZED_STORAGE_KEY),!0}}function getOptInOutDismissed(type){var storedDateValue=ls.getItem("optIn"===type?OPT_IN_SNOOZED_STORAGE_KEY:OPT_OUT_SNOOZED_STORAGE_KEY);if(storedDateValue)try{return new Date(storedDateValue)}catch(_a){return}}function snoozedOptInPrompt(optInOutType,startingDate){return function snoozedRecently(startingDate,dismissedDate){if(!dismissedDate)return!1;var sevenDaysAgo=moment(startingDate).subtract(7,"days");return 7-moment(dismissedDate).diff(sevenDaysAgo,"days")<7}(startingDate,getOptInOutDismissed(optInOutType))}function clearOptInOutSnooze(){removeOptInOptOutSnooze("optIn"),removeOptInOptOutSnooze("optOut")}function setBlackbeardOrdersStorageValue(newValue){ls.setItem(BLACKBEARD_ORDERS_STORAGE_KEY,newValue)}function getBlackbeardOrdersStorageValue(){return ls.getItem(BLACKBEARD_ORDERS_STORAGE_KEY)}function shouldShowBlackbeardOrders(ordersRedesign,initialOptInOptOut,optInOutValue){if(function optInOutEnabled(value){return!!value&&"disabled"!==value}(initialOptInOptOut))switch(optInOutValue){case"optIn":return!0;case"optOut":return!1;default:return"initialOptIn"===initialOptInOptOut}return!!ordersRedesign}function storeSnoozeValue(optInOutType){switch(optInOutType){case"optIn":ls.setItem(OPT_IN_SNOOZED_STORAGE_KEY,(new Date).toISOString());break;case"optOut":ls.setItem(OPT_OUT_SNOOZED_STORAGE_KEY,(new Date).toISOString())}}},"./app/selectors/orders.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$m:()=>getIsUpdatingOrder,BE:()=>getSelectedCount,Bq:()=>getPackingSlipUrl,Cd:()=>getSelectedOrdersTags,H4:()=>makeGetOrderById,JF:()=>getIsOrderLoading,Ld:()=>getOrdersCount,Li:()=>getSelectedOrders,MO:()=>getAreAllOrdersSelected,Oz:()=>getAllOrdersCount,PJ:()=>getOrderFirstSuccessfulTransactionIds,RQ:()=>getIsLoading,SP:()=>getTotalOrders,Sv:()=>getOrdersData,Ub:()=>getLastOrderId,WF:()=>getOrders,YC:()=>makeGetIsOrderPartiallyFulfilled,Yo:()=>hasNewOrders,Z:()=>getOrdersRemainingForLabelDownload,ZN:()=>getSelectedOrdersData,bL:()=>getPatchBatchEntriesExtrasRequest,f6:()=>getOrderAction,kA:()=>getIsSidePanelCheckout,pP:()=>getSelectedOrderTagsByOrderId,q2:()=>getIsOrderSelected,qf:()=>getIsBatchEntrySelected,qy:()=>getCheckoutRateAfterPoll,x4:()=>getOrderSuccessfulTransactionIds,yD:()=>getOrderByObjectId,zF:()=>getOrdersAllIds});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),reselect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/reselect/es/index.js"),_types_Order__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/types/Order.ts"),_types_Transaction__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/types/Transaction.ts"),_utils_fetchable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/utils/fetchable.ts"),EMPTY_ORDER={partialFulfillmentRequests:[]},getOrdersStore=function(state){return state.orders},getOrderIdFromProps=function(_,props){return props.orderId},getOrderObjectIdFromProps=function(_,props){return props.orderObjectId},getOrderAction=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.orderAction})),hasNewOrders=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.isSyncingOrders})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.hasNewOrders}))),getOrdersCount=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(orderStore){return orderStore.totalOrders})),getOrdersAllIds=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.allIds})),getOrdersData=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.data})),getOrders=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersAllIds,getOrdersData,(function(allIds,ordersData){return allIds.map((function(id){return ordersData[id]})).filter((function(v){return v}))})),getTotalOrders=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.totalOrders})),getAllOrdersCount=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.allOrdersCount})),getIsOrderLoading=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.isLoadingOrdersCount})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.fetchOrderHasError})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.isLoadingOrder}))),getIsLoading=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.isLoading})),getPackingSlipUrl=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrderAction,(function(orderAction){return"hide"===orderAction.kind&&(0,_utils_fetchable__WEBPACK_IMPORTED_MODULE_3__.A7)((function(){return!1}),(function(){return!0}),(function(){return!1}),(function(){return!1}))(orderAction.request)})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.isCreatingReturnBatchEntry})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.createReturnBatchEntryHasError})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.returnLabelCreatedSuccessfully})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.transactions})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.packingSlipUrl}))),getLastOrderId=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.labelDownloadUrl})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.labelDownloadErrMsg})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.isDownloadingLabels})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.notificationsLoading})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.notificationsSent})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.lastOrderId}))),getSelectedOrders=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.selectedOrders})),getOrdersRemainingForLabelDownload=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.checkedOrders})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.rowModelBeingEdited})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.ordersRemainingLabelDownload}))),getCheckoutRateAfterPoll=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.checkoutRateAfterPoll})),getSelectedOrdersData=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getSelectedOrders,getOrdersData,(function(ordersSelection,ordersData){return Object.keys(ordersSelection||{}).map((function(id){return ordersData[id]})).filter((function(v){return v}))})),getSelectedOrdersTags=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.reduce((function(acc,order){return acc.concat(order.tags||[])}),[])})),getSelectedOrderTagsByOrderId=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.reduce((function(acc,order){return acc[order.objectId]=order.tags||[],acc}),{})})),makeGetOrderById=function(){return(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersData,getOrderIdFromProps,(function(ordersData,orderId){return ordersData[orderId]}))},getOrderByObjectId=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersData,getOrderObjectIdFromProps,(function(ordersData,orderObjectId){return ordersData[orderObjectId]||EMPTY_ORDER})),makeGetIsOrderPartiallyFulfilled=function(){return(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrderByObjectId,(function(order){var e_1,_a,_b;if(!order.partialFulfillmentRequests||!order.totalPartialFulfillments)return!1;var hasFulfilledOrder=!1,hasUnfulfilledOrder=!1,_loop_1=function(request){request.transactionObjectId?(null===(_b=order.transactions.find((function(transaction){return transaction.objectId===request.transactionObjectId})))||void 0===_b?void 0:_b.status)===_types_Transaction__WEBPACK_IMPORTED_MODULE_1__.x8.SUCCESS?hasFulfilledOrder=!0:hasUnfulfilledOrder=!0:hasUnfulfilledOrder=!0;if(hasFulfilledOrder&&hasUnfulfilledOrder)return{value:!0}};try{for(var _c=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Ju)(order.partialFulfillmentRequests),_d=_c.next();!_d.done;_d=_c.next()){var state_1=_loop_1(_d.value);if("object"==typeof state_1)return state_1.value}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_1)throw e_1.error}}return!1}))},getIsUpdatingOrder=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersData,getOrderIdFromProps,(function(ordersData,orderId){return ordersData[orderId]})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.some((function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.vz)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.every((function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.vz)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.isUpdatingBatchEntry}))),getIsOrderSelected=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.isSingleOrderMode})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getSelectedOrders,getOrderObjectIdFromProps,(function(selectedOrders,orderObjectId){return!!selectedOrders[orderObjectId]}))),getAreAllOrdersSelected=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getSelectedOrders,getOrdersAllIds,(function(selectedOrders,allIds){return Object.keys(selectedOrders).length===allIds.length})),getIsBatchEntrySelected=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getSelectedOrders,(function(_,props){return props}),(function(selectedOrders,props){return(selectedOrders[props.orderObjectId]||[]).includes(props.batchEntryId)})),getSelectedCount=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getSelectedOrders,(function(selectedOrders){return Object.values(selectedOrders).reduce((function(count,currVal){return currVal.length?count+currVal.length:count+1}),0)})),getPatchBatchEntriesExtrasRequest=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.batchEntryEditNotificationState})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(orderStore){return orderStore.patchBatchEntriesExtrasRequest}))),getOrdersDataByObjectIds=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersData,(function(_,props){return props.orderObjectIds}),(function(ordersData,orderObjectIds){return orderObjectIds.map((function(objectId){return ordersData[objectId]}))})),getOrderSuccessfulTransactionIds=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersDataByObjectIds,(function(ordersData){return ordersData.filter((function(order){var _a;return null===(_a=null==order?void 0:order.transactions)||void 0===_a?void 0:_a.some((function(transaction){return"SUCCESS"===transaction.status}))})).reduce((function(txnIds,order){var orderTxns=order.transactions.filter((function(t){return"SUCCESS"===t.status})).map((function(t){return t.objectId}));return(0,tslib__WEBPACK_IMPORTED_MODULE_4__.fX)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.fX)([],(0,tslib__WEBPACK_IMPORTED_MODULE_4__.zs)(txnIds),!1),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.zs)(orderTxns),!1)}),[])})),getOrderFirstSuccessfulTransactionIds=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersDataByObjectIds,(function(ordersData){return ordersData.filter((function(order){var _a;return null===(_a=null==order?void 0:order.transactions)||void 0===_a?void 0:_a.some((function(transaction){return"SUCCESS"===transaction.status}))})).map((function(order){return order.transactions.filter((function(t){return"SUCCESS"===t.status})).map((function(t){return t.objectId}))[0]}),[])})),getIsSidePanelCheckout=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.isUpdatingCustomsItems})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.isCreatingCustomsItems})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.isSidePanelCheckout})));(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.isUpdatingParcel})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.isLoadingOrderTags})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.Mz)(getOrdersStore,(function(ordersStore){return ordersStore.orderTagsBeingUpdated}))},"./app/services/orders.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{nh:()=>countOrders,Xm:()=>createBatch,Z2:()=>createBatchEntriesForOrders,kc:()=>createBatchTransactions,fS:()=>createOrder,uR:()=>createPartialFulfillmentRequests,SJ:()=>fetchBatchEntryRules,UK:()=>getAll,fn:()=>getAllLabels,fH:()=>getBatch,p9:()=>getLabel,NX:()=>getOrCloneBatchEntriesForOrders,Zs:()=>getOrderBatchEntries,dS:()=>getOrderBatchEntry,Em:()=>getOrderPackingSlip,Mf:()=>getOrderTransactions,we:()=>getWithReturns,f0:()=>hideOrder,xC:()=>patchBatchEntries,Nl:()=>patchUpdateBatchEntryExtras,ie:()=>refreshBatchEntry,jy:()=>syncOrders,EZ:()=>updateBatchEntryAddress,Nr:()=>updateBatchEntryExtras,Et:()=>updateBatchEntryServiceLevelToken,su:()=>updateBatchEntryShipmentDate,pC:()=>updateParcel});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),addressBook=__webpack_require__("./app/constants/addressBook.ts"),DATE_FORMAT_WITH_TIMEZONE="yyyy-MM-dd'T'HH:mm:ssxxx",format=__webpack_require__("./node_modules/date-fns/esm/format/index.js"),moment=__webpack_require__("./node_modules/moment/moment.js"),api=__webpack_require__("./app/services/api.ts"),Address=__webpack_require__("./app/types/Address.ts"),OrderBatchEntry=__webpack_require__("./app/types/OrderBatchEntry.ts"),Parcel=__webpack_require__("./app/types/Parcel.ts"),request_watcher=__webpack_require__("./app/utils/request-watcher.ts"),observability=__webpack_require__("./app/utils/observability/index.ts"),X_ORDERS_SEARCH_VERSION="ORDERS_SEARCH_ORDER_NUMBER";function getAll(page,filters,fetchCount,showOnlyHidden,sort,sortBy,orderBy){return api.YZ.request({url:"/orders",method:"GET",headers:{X_ORDERS_SEARCH_VERSION},params:(0,tslib_es6.Cl)((0,tslib_es6.Cl)((0,tslib_es6.Cl)((0,tslib_es6.Cl)((0,tslib_es6.Cl)((0,tslib_es6.Cl)((0,tslib_es6.Cl)((0,tslib_es6.Cl)({},filters),{page,sort:""!==sort?sort:void 0}),(null==sortBy?void 0:sortBy.length)?{sort_by:sortBy}:{}),(null==orderBy?void 0:orderBy.length)?{order_by:orderBy}:{}),(null==fetchCount?void 0:fetchCount.length)?{results:fetchCount}:{}),{hidden:showOnlyHidden}),filters.is_international?{destination:"true"===filters.is_international?"international":"domestic"}:{}),{is_return_included:!0})})}function getWithReturns(orderId){return api.YZ.request({url:"/orders/".concat(orderId),method:"GET",params:{is_return_included:!0}})}function getOrderTransactions(orderObjectId){return api.kC.request({url:"/orders/".concat(orderObjectId,"/transactions"),method:"GET",params:{results:200}})}function createOrder(order){return api.kC.request({url:"orders/",method:"POST",data:order})}function countOrders(){return api.YZ.request({url:"/orders",headers:{X_ORDERS_SEARCH_VERSION},method:"GET",params:{results:1,page:1}})}function getBatch(batchId){return api.YZ.request({url:"/batch/".concat(batchId),method:"GET"})}function createBatch(orderObjectIds,batchEntryIds){return api.YZ.request({url:"/batch/",method:"POST",data:{orders:orderObjectIds,batch_entries:batchEntryIds}})}function createBatchTransactions(batchId,rates,excludedOrders){return api.YZ.request({url:"/batch/".concat(batchId,"/transactions"),method:"POST",data:{rates,excluded_orders:excludedOrders}})}function syncOrders(){return api.Ay.request({url:"orders/sync",method:"GET"})}function getOrderPackingSlip(orderObjectIds,batchEntryIds){return api.Ay.request({url:"orders/packingslip",method:"GET",params:{id:orderObjectIds,only_be_id:batchEntryIds}})}function getAllLabels(orderObjectIds,batchEntryIds){return api.kC.request({url:"orders/",method:"POST",data:{batch_entries:batchEntryIds,action:{list:orderObjectIds,type:"merge_labels"}}})}function getLabel(transactionIds,fileFormat){return api.YZ.request({url:"label_regen/",method:"POST",data:{transactions:transactionIds,legacy_file_format:fileFormat}})}function hideOrder(orderObjectIds){return api.kC.request({url:"orders/",method:"POST",data:{action:{list:orderObjectIds,type:"hide"}}})}function createBatchEntriesForOrders(orderObjectIds,isRating){return api.YZ.request({url:"orders/batch_entry",method:"POST",data:{orders:orderObjectIds,is_rating:!!isRating}})}function getOrCloneBatchEntriesForOrders(orderObjectIDs,batchEntryIDs){return api.YZ.request({url:"orders/batch_entry",method:"POST",data:{orders:orderObjectIDs,batch_entries:batchEntryIDs,is_integrated:!0}})}var buildRequestParcel=function(parcel){var parcelData=parcel.use_imported_order_weight?{use_imported_order_weight:parcel.use_imported_order_weight}:{weight:parcel.weight,mass_unit:parcel.mass_unit},carrierTemplateVariableDimensions=parcel.carrier_parcel_template&&parcel.carrier_parcel_template.is_variable_dimensions;return parcel.user_parcel_template?(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},parcelData),{user_parcel_template_object_id:parcel.user_parcel_template&&parcel.user_parcel_template.object_id}):parcel.carrier_parcel_template&&!carrierTemplateVariableDimensions?(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},parcelData),{carrier_parcel_template_token:parcel.carrier_parcel_template&&parcel.carrier_parcel_template.token}):parcel.carrier_parcel_template&&carrierTemplateVariableDimensions?(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},parcelData),{carrier_parcel_template_token:parcel.carrier_parcel_template&&parcel.carrier_parcel_template.token,width:parcel.width,length:parcel.length,height:parcel.height,distance_unit:parcel.distance_unit}):(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},parcelData),{width:parcel.width,length:parcel.length,height:parcel.height,distance_unit:parcel.distance_unit})};function patchBatchEntries(batchEntryIds,parcel,extras){var requestParcel=parcel?buildRequestParcel((0,Parcel.U2)(parcel)):void 0,requestExtras=extras?(0,OrderBatchEntry.j3)(extras):void 0;return api.YZ.request({url:"batch_entry/",method:"PATCH",data:{batch_entries:batchEntryIds,parcel:requestParcel,extras:requestExtras}})}function updateParcel(batchEntryIds,parcel){var requestParcel=buildRequestParcel(parcel);return api.YZ.request({url:"orders/batch_entry/parcel",method:"PUT",data:{parcel:requestParcel,batch_entries:batchEntryIds}})}function updateBatchEntryExtras(batchEntryIds,extras){return api.YZ.request({url:"orders/batch_entry/extras",method:"PUT",data:{batch_entries:batchEntryIds,extras:(0,OrderBatchEntry.j3)(extras)}})}function patchUpdateBatchEntryExtras(batchEntryIds,extras){return api.YZ.request({url:"orders/batch_entry/extras",method:"PATCH",data:{batch_entries:batchEntryIds,extras:(0,OrderBatchEntry.j3)(extras)}})}function updateBatchEntryAddress(address,addressType,batchEntryIds){var _a,parsedAddress=address.id?address.id:(0,Address.U2)(address),convertedAddressType=addressType===addressBook.y9?"from":addressType,url="orders/batch_entry/address_".concat(convertedAddressType),data=((_a={batch_entries:batchEntryIds})["number"==typeof parsedAddress?"address_".concat(convertedAddressType,"_id"):"address_".concat(convertedAddressType)]=parsedAddress,_a);return api.YZ.request({url,data,method:"PUT"})}function updateBatchEntryServiceLevelToken(preferredServiceLevelToken,batchEntryIds,accountObjectId){return api.YZ.request({data:{batch_entries:batchEntryIds,preferred_service_level_token:preferredServiceLevelToken,preferred_account_object_id:accountObjectId},method:"PUT",url:"batch_entry/service_level"})}function updateBatchEntryShipmentDate(shipmentDate,batchEntryIds){return api.YZ.request({url:"/batch_entry/shipment_date",data:{batch_entries:batchEntryIds,shipment_date:moment.isMoment(shipmentDate)?shipmentDate.format():(0,format.default)(shipmentDate,DATE_FORMAT_WITH_TIMEZONE)},method:"PUT"})}var refreshBatchEntryWithCancel=function refreshBatchEntryRequest(){var controller;return function(batchEntryIds){return controller&&(0,request_watcher.IV)("/orders/batch_entry/refresh")&&(observability.O.singleEvent("RETRY_SHIPMENT_CANCELLED"),controller.abort(),(0,request_watcher.rS)("/orders/batch_entry/refresh")),controller=new AbortController,api.YZ.request({url:"/orders/batch_entry/refresh",method:"PUT",data:{batch_entries:batchEntryIds},signal:controller.signal})}}();function refreshBatchEntry(batchEntryIds){return refreshBatchEntryWithCancel(batchEntryIds)}function getOrderBatchEntry(orderObjectId,includeReturns){return void 0===includeReturns&&(includeReturns=!1),api.YZ.request({url:"/orders/".concat(orderObjectId,"/batch_entry"),method:"GET",params:{is_return_included:includeReturns}})}function getOrderBatchEntries(orderObjectIds,includeReturns){return void 0===includeReturns&&(includeReturns=!1),api.YZ.request({url:"/batch_entry",method:"GET",params:{orders:orderObjectIds,is_return_included:includeReturns}})}function fetchBatchEntryRules(batchEntryId){return api.YZ.request({url:"/batch_entry/".concat(batchEntryId,"/rule"),method:"GET"})}function createPartialFulfillmentRequests(orderObjectId,partialFulfillmentRequests){return api.YZ.request({url:"orders/".concat(orderObjectId,"/split"),method:"POST",data:{shipments:partialFulfillmentRequests}})}api.mM.getWebOrders},"./app/utils/fullstory/tracking.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>FullStoryEvent,q:()=>fullStoryTracking});var GetStartedLocalStorageKeys,index_esm=__webpack_require__("./node_modules/@fullstory/browser/dist/index.esm.js"),onboarding=__webpack_require__("./app/constants/onboarding.ts");!function(GetStartedLocalStorageKeys){GetStartedLocalStorageKeys.FORCE_GET_STARTED="shippo_get_started_force_show",GetStartedLocalStorageKeys.SKIP_GET_STARTED="shippo_skip_get_started"}(GetStartedLocalStorageKeys||(GetStartedLocalStorageKeys={}));var FullStoryEvent,useRecommendations=__webpack_require__("./app/modules/recommendations/hooks/useRecommendations.tsx");!function(){function ShippoTools(){this.setup()}ShippoTools.prototype.setup=function(){window.shippo||(window.shippo=this.buildTools())},ShippoTools.prototype.buildTools=function(){return{forceOnboarding:function(){localStorage.removeItem(onboarding.k.ONBOARDING_COMPLETED),localStorage.removeItem(onboarding.k.ONBOARDING_LAST_COMPLETED_STEP),localStorage.removeItem(onboarding.k.ONBOARDING_CURRENT_STEP),localStorage.removeItem(onboarding.k.ONBOARDING_BUSINESS_TYPE),localStorage.removeItem(onboarding.k.ONBOARDING_BUSINESS_NEED),localStorage.removeItem(onboarding.k.ONBOARDING_SHOW_WELCOME_MESSAGE),localStorage.removeItem(onboarding.k.ONBOARDING_ORDER_MECHANISM),localStorage.removeItem(onboarding.k.ONBOARDING_ACTIVE_STORE),localStorage.removeItem(onboarding.k.ONBOARDING_USER_COUNTRY),localStorage.setItem(onboarding.k.ONBOARDING_ACTIVE,"true"),location.reload()},forceGetStarted:function(){localStorage.setItem(GetStartedLocalStorageKeys.FORCE_GET_STARTED,"true"),location.assign("/orders")},removeForceGetStarted:function(){localStorage.removeItem(GetStartedLocalStorageKeys.FORCE_GET_STARTED),location.assign("/orders")},clearRecommendationDismissal:function(){localStorage.removeItem(useRecommendations.ZO),localStorage.removeItem(useRecommendations.nD)},debugAnalytics:function(){sessionStorage.setItem("shippo_debug_analytics","true")}}}}();!function(FullStoryEvent){FullStoryEvent.CONFIRMATION_DRAWER_OPENED="Confirmation Drawer Opened",FullStoryEvent.LABEL_PURCHASE_DRAWER_OPENED="Label Purchase Drawer Opened",FullStoryEvent.RETURN_DRAWER_OPENED="Return Drawer Opened",FullStoryEvent.ONBOARDING_COMPLETED="Onboarding Completed",FullStoryEvent.SIGNED_UP="Signed Up"}(FullStoryEvent||(FullStoryEvent={}));var fullStoryTracking=function(name,properties){"true"===sessionStorage.getItem("shippo_debug_analytics")&&console.log("%c⭕ ".concat(name),"font-weight:bold;",properties),(0,index_esm.Dp)()&&(0,index_esm.f0)(name,properties)}},"./app/utils/newRelic/newRelic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>newRelic});var newRelic=new(function(){function NewRelicClient(){this.instance=null}return NewRelicClient.prototype.setUserId=function(userId){var _a;null===(_a=this.instance)||void 0===_a||_a.setUserId(userId)},NewRelicClient.prototype.addPageAction=function(name,attributes){var _a;null===(_a=this.instance)||void 0===_a||_a.addPageAction(name,attributes)},NewRelicClient.prototype.log=function(message,options){var _a;null===(_a=this.instance)||void 0===_a||_a.log(message,options)},NewRelicClient.prototype.noticeError=function(error,customAttributes){var _a;null===(_a=this.instance)||void 0===_a||_a.noticeError(error,customAttributes)},NewRelicClient.prototype.setInstance=function(instance){this.instance=instance,this.instance.setApplicationVersion("WEB-3369-Bulk-Orders-Update:7658cb3d88f7089a0ca4e1cd3c4a3c57dc12b6cd")},NewRelicClient.prototype.isInitialized=function(){return!!this.instance},NewRelicClient}())},"./app/utils/observability/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>observability});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),index_esm=__webpack_require__("./node_modules/@fullstory/browser/dist/index.esm.js"),newRelic=__webpack_require__("./app/utils/newRelic/newRelic.ts"),observability=new(function(){function ObservabilityClient(){this.pendingEvents={}}return ObservabilityClient.prototype.getEventName=function(name,id){return id?"".concat(name,"_").concat(id):name},ObservabilityClient.prototype.timeoutEvent=function(name,id,timeoutMs){void 0===timeoutMs&&(timeoutMs=6e4),this.clearEvent(name,id);var timeoutEventName="".concat(name,"_TIMEOUT");this.sendPageAction(timeoutEventName,{id,timeout:timeoutMs}),this.sendFullStoryLog(timeoutEventName,{id}),this.sendFullStoryEvent(timeoutEventName,{id,timeout:timeoutMs})},ObservabilityClient.prototype.clearEvent=function(name,id){var pendingEventName=this.getEventName(name,id),event=this.pendingEvents[pendingEventName];event&&(clearTimeout(event.timeoutId),delete this.pendingEvents[pendingEventName])},ObservabilityClient.prototype.sendPageAction=function(name,attributes){try{newRelic.S.addPageAction(name,attributes)}catch(e){}},ObservabilityClient.prototype.sendFullStoryLog=function(name,attributes){try{if(!(0,index_esm.Dp)())return;attributes?(0,index_esm.Rm)("info","[Observability event] ".concat(name," with attributes: ").concat(JSON.stringify(attributes))):(0,index_esm.Rm)("info","[Observability event] ".concat(name))}catch(e){}},ObservabilityClient.prototype.sendFullStoryEvent=function(name,attributes){try{if(!(0,index_esm.Dp)())return;(0,index_esm.f0)(name,attributes||{})}catch(e){}},ObservabilityClient.prototype.singleEvent=function(name,attributes){this.sendPageAction(name,attributes),this.sendFullStoryLog(name,attributes),this.sendFullStoryEvent(name,attributes)},ObservabilityClient.prototype.startEvent=function(name,attributes){var _this=this;this.clearEvent(name,null==attributes?void 0:attributes.id);var timeoutId=window.setTimeout((function(){return _this.timeoutEvent(name,null==attributes?void 0:attributes.id,null==attributes?void 0:attributes.timeoutMs)}),(null==attributes?void 0:attributes.timeoutMs)||6e4),pendingEventName=this.getEventName(name,null==attributes?void 0:attributes.id);this.pendingEvents[pendingEventName]={timeoutId,startTime:Date.now()},this.sendPageAction(name),this.sendFullStoryLog(name,attributes)},ObservabilityClient.prototype.cancelEvent=function(name,attributes){this.clearEvent(name,null==attributes?void 0:attributes.id),this.sendFullStoryLog(name,(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},attributes),{cancelled:!0}))},ObservabilityClient.prototype.successEvent=function(name,attributes){var pendingEventName=this.getEventName(name,null==attributes?void 0:attributes.id),event=this.pendingEvents[pendingEventName];if((null==attributes?void 0:attributes.force)||event){var duration=Date.now()-((null==event?void 0:event.startTime)||0);this.clearEvent(name,null==attributes?void 0:attributes.id);var successEventName="".concat(name,"_SUCCESS");this.sendPageAction(successEventName,(0,tslib_es6.Cl)({duration},attributes)),this.sendFullStoryLog(successEventName,attributes),this.sendFullStoryEvent(successEventName,(0,tslib_es6.Cl)({duration},attributes))}},ObservabilityClient.prototype.errorEvent=function(name,attributes,severity){void 0===severity&&(severity="ERROR");var pendingEventName=this.getEventName(name,null==attributes?void 0:attributes.id),event=this.pendingEvents[pendingEventName];if((null==attributes?void 0:attributes.force)||event){var duration=Date.now()-((null==event?void 0:event.startTime)||0);this.clearEvent(name,null==attributes?void 0:attributes.id);var errorEventName="".concat(name,"_").concat(severity);this.sendPageAction(errorEventName,(0,tslib_es6.Cl)({duration},attributes)),this.sendFullStoryLog(errorEventName,attributes),this.sendFullStoryEvent(errorEventName,(0,tslib_es6.Cl)({duration},attributes))}},ObservabilityClient}())},"./app/utils/segment/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{sV:()=>schema.Ay,P0:()=>getLocalTraits,ls:()=>segment_identify,Ok:()=>isTraitDifferent,u4:()=>track});var esm_exports=__webpack_require__("./node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js"),schema=__webpack_require__("./app/utils/segment/schema.ts");__webpack_require__("./node_modules/moment/moment.js"),__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/react-redux/es/index.js"),__webpack_require__("./app/constants/countries.ts"),__webpack_require__("./app/pages/BlackbeardOrdersOptInOptOut/helpers.ts"),__webpack_require__("./app/selectors/user.selectors.ts");var tracking=__webpack_require__("./app/utils/fullstory/tracking.ts"),segment_identify=function(id,traits){window.analytics?window.analytics.identify(id,traits):esm_exports.wd("identify called before window.analytics available",{level:"warning"})},track=function(name,properties){if(schema.oe.includes(name)&&(0,tracking.q)(name,properties),window.analytics)return window.analytics.track(name,properties);esm_exports.wd("track called before window.analytics available",{level:"warning"})},getLocalTraits=function(){var ajsUserTraits=localStorage.getItem("ajs_user_traits");if(ajsUserTraits)try{return JSON.parse(ajsUserTraits)}catch(error){return}},isTraitDifferent=function(property,value){var localTraits=getLocalTraits();return!(localTraits&&localTraits[property]===value)}},"./app/utils/segment/schema.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var Events;__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,ID:()=>EVENT_ORIGIN_ORDER_DETAILS,hX:()=>EVENT_ORIGIN_LEGACY_ORDER,oe:()=>FullStoryEventsToBeTracked}),function(Events){Events.registered="Signed Up",Events.store_initiated="Store Connection Initiated",Events.store_connected="Store Connected",Events.store_disconnected="Store Disconnected",Events.address_created="Address Created",Events.credit_card_added="Credit Card Added",Events.carrier_connected="Carrier Connected",Events.carrier_error_displayed="Carrier Error Displayed",Events.package_template_created="Package Template Created",Events.label_purchase="Label Purchased",Events.label_purchase_failed="Label Purchase Failed",Events.label_downloaded="Label Downloaded",Events.packing_slip_downloaded="Packing Slip Downloaded",Events.tracking_status_viewed="Tracking Status Viewed",Events.onboarding_step_completed="Step Completed",Events.onboarding_completed="Onboarding Completed",Events.get_started_viewed="Get Started Page View",Events.insurance_updated="Insurance Updated",Events.insurance_modal_opened="Insurance Modal Opened",Events.insurance_modal_link_clicked="Insurance Modal Link Clicked",Events.insurance_upsell_experiment="Insurance Upsell Experiment",Events.email_notification_changed="Email Notifications Changed",Events.insurance_option_onboarding="Insurance option during onboarding",Events.automatic_insurance_settings_update="Automatic insurance settings update",Events.insurance_removal="Insurance removal in confirmation modal",Events.insurance_removal_order_details="Remove Insurance from Order Details",Events.signaure_modal_opened="Signature Confirmation Modal Opened",Events.signature_modal_updated="Signature Confirmation Modal Updated",Events.signature_removal_order_details="Remove Signature from Order Details",Events.ups_surcharge_warning="UPS surcharge warnings",Events.insurance_details_opened="Insurance Details Opened From Sidebar",Events.signature_details_opened="Signature Details Opened From Sidebar",Events.signature_updated="Signature Details Updated From Sidebar",Events.new_insurance_updated="Insurance Updated From Sidebar",Events.insurance_link_clicked="Insurance Link Clicked From Sidebar",Events.insurance_removed_sidebar="Remove Insurance From Sidebar",Events.signature_removed_sidebar="Remove Signature From Sidebar",Events.promo_code_add_replace="Promo code added or replaced",Events.save_default_package_units="Default package units updated",Events.update_user_information="User profile updated",Events.update_user_language="User language updated",Events.order_search_completed="Order search completed",Events.order_search_result_selected="Order search row selected",Events.customs_options_form_submit="Customs Options Form Submit",Events.customs_items_form_submit="Customs Items Form Submit",Events.package_info_edited="Package Info Updated",Events.embeddable_next_params="Embeddable User Set Next Params",Events.plan_updated="Plan Updated",Events.downgrade_survey_question_answered="Pro Plan Downgrade Survey Question Answered",Events.downgrade_survey_cancelled="Pro Plan Downgrade Survey Cancelled",Events.downgrade_survey_completed="Pro Plan Downgrade Survey Completed",Events.downgrade_survey_submitted="Pro Plan Downgrade Survey Submitted",Events.not_found_page_viewed="Not Found Page Viewed",Events.recommended="Recommended",Events.recommendation_dismissed="Recommendation Dismissed",Events.recommendations_dismissed="Recommendations Dismissed",Events.recommendation_applied="Recommendation Applied"}(Events||(Events={}));var EVENT_ORIGIN_ORDER_DETAILS="Order details",EVENT_ORIGIN_LEGACY_ORDER="Legacy orders table",FullStoryEventsToBeTracked=[Events.label_purchase,Events.label_purchase_failed,Events.credit_card_added];const __WEBPACK_DEFAULT_EXPORT__=Events},"./app/utils/translate.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{In:()=>react_i18next__WEBPACK_IMPORTED_MODULE_0__.In,Tl:()=>react_i18next__WEBPACK_IMPORTED_MODULE_0__.Tl,x6:()=>react_i18next__WEBPACK_IMPORTED_MODULE_0__.x6});var react_i18next__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js")},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentInsuranceCard/ShipmentInsuranceCard.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultState:()=>DefaultState,InsuranceAndSignature:()=>InsuranceAndSignature,OverFiveHundred:()=>OverFiveHundred,default:()=>ShipmentInsuranceCard_stories});var templateObject_1,templateObject_2,templateObject_3,templateObject_4,types_templateObject_1,types_templateObject_2,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),translate=__webpack_require__("./app/utils/translate.ts"),react=__webpack_require__("./node_modules/react/index.js"),Card_styled=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/Card/Card.styled.tsx"),ReturnLabelWarning=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/ReturnLabelWarning.tsx"),utils=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/utils.ts"),modules_utils=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/utils.ts"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),Box=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),colors=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),Button=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),ContentContainer=(0,styled.Ay)(Box.A)((function(){return{padding:"1rem",color:colors.T.text.primary.black}})),InsuranceHeader=(0,styled.Ay)(Typography.A)(templateObject_1||(templateObject_1=(0,tslib_es6.ue)(["\n  color: ",";\n  padding-bottom: 0.5rem;\n"],["\n  color: ",";\n  padding-bottom: 0.5rem;\n"])),colors.T.text.primary.black),InsuranceRecommend=(0,styled.Ay)(Typography.A)(templateObject_2||(templateObject_2=(0,tslib_es6.ue)(["\n  color: ",";\n  padding-bottom: 0.25rem;\n"],["\n  color: ",";\n  padding-bottom: 0.25rem;\n"])),colors.T.text.primary.black),CardBlock=(0,styled.Ay)(Box.A)(templateObject_3||(templateObject_3=(0,tslib_es6.ue)(["\n  padding: 0.5rem 0;\n  border-bottom: 1px solid ",";\n  &:last-of-type {\n    border-bottom: 0px;\n    padding-bottom: 0;\n  }\n"],["\n  padding: 0.5rem 0;\n  border-bottom: 1px solid ",";\n  &:last-of-type {\n    border-bottom: 0px;\n    padding-bottom: 0;\n  }\n"])),colors.T.gray30),AddEditButton=(0,styled.Ay)(Button.A)(templateObject_4||(templateObject_4=(0,tslib_es6.ue)(["\n  background-color: transparent;\n  color: ",";\n  box-shadow: none;\n\n  &:hover {\n    color: ",";\n    background-color: ",";\n  }\n"],["\n  background-color: transparent;\n  color: ",";\n  box-shadow: none;\n\n  &:hover {\n    color: ",";\n    background-color: ",";\n  }\n"])),colors.T.accent.foreground.success,colors.T.primaryButtonHover,colors.T.accent.background.success),CircularProgress=__webpack_require__("./node_modules/@goshippo/components/esm/CircularProgress/CircularProgress.js"),ShipmentExtraContainer=(0,styled.Ay)("div")(types_templateObject_1||(types_templateObject_1=(0,tslib_es6.ue)(["\n  display: flex;\n  flex-direction: column;\n"],["\n  display: flex;\n  flex-direction: column;\n"]))),ShipmentExtrasSpacer=(0,styled.Ay)(Box.A)(types_templateObject_2||(types_templateObject_2=(0,tslib_es6.ue)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"],["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),Tooltip=__webpack_require__("./node_modules/@goshippo/components/esm/Tooltip/Tooltip.js"),IconButton=__webpack_require__("./node_modules/@goshippo/components/esm/IconButton/IconButton.js"),Close=__webpack_require__("./node_modules/@mui/icons-material/esm/Close.js"),segment=__webpack_require__("./app/utils/segment/index.ts"),hooks=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/hooks.ts"),MobileAndDesktopDrawer=__webpack_require__("./node_modules/@goshippo/libraries/dist/esm/shared/MobileAndDesktopDrawer/index.js"),SimplifiedInsuranceView=__webpack_require__("./app/pages/Orders/All/OrderDetailsPage/Tabs/ShipmentExtrasCard/Insurance/SimplifiedInsuranceModal/SimplifiedInsuranceView.tsx");const ShipmentInsuranceCard_ShipmentInsuranceSimplifiedView=function(_a){var onClose=_a.onClose,onSubmitToParent=_a.onSubmit,t=_a.t,userInsuranceRate=_a.userInsuranceRate,defaultValues=_a.defaultValues,addOrEditInsurance=_a.addOrEditInsurance,mixedSelection=_a.mixedSelection,insuredItems=_a.insuredItems,lineItemsCost=_a.lineItemsCost,rateCostOnly=_a.rateCostOnly,insuranceModalState=(0,hooks.hp)(defaultValues,onSubmitToParent),_b=(0,tslib_es6.zs)((0,react.useState)(insuranceModalState.insured?insuranceModalState.insuredValue!==String(lineItemsCost)?"custom":"hasInsurance":"noAddedInsurance"),2),insuranceValueType=_b[0],setInsuranceValueType=_b[1],showItemValueTotal=(0,react.useMemo)((function(){return lineItemsCost&&0!==lineItemsCost?String(lineItemsCost):void 0}),[lineItemsCost]),insuranceCost=(0,react.useMemo)((function(){var selectedPriceToCalculate="hasInsurance"===insuranceValueType?showItemValueTotal:insuranceModalState.insuredValue,selectedPriceNum=selectedPriceToCalculate?Number(selectedPriceToCalculate.replace(/,/g,"")):0;return(0,utils.kB)(userInsuranceRate,selectedPriceNum,rateCostOnly,mixedSelection.numberSelected)}),[insuranceValueType,showItemValueTotal,insuranceModalState.insuredValue,rateCostOnly,userInsuranceRate,mixedSelection.numberSelected]),onInsuranceValueTypeChange=(0,react.useCallback)((function(event){"keep"===event.target.value?insuranceModalState.onKeepSelection():setInsuranceValueType(event.target.value)}),[insuranceModalState]);(0,react.useEffect)((function(){"noAddedInsurance"===insuranceValueType?insuranceModalState.onDisableInsured():insuranceModalState.onEnableInsured(),"hasInsurance"===insuranceValueType&&showItemValueTotal&&insuranceModalState.setValue("amount",showItemValueTotal)}),[insuranceValueType]);var buttonText="noAddedInsurance"===insuranceValueType||"keep"===insuranceModalState.insured?t("orders:phrases:continue"):"".concat(t("orders:shipmentExtras:addFor")," ").concat(t("translations:currency",{value:{value:insuranceCost,currency_iso:insuranceModalState.currency.iso}})),handleUpdateInsurance=(0,react.useCallback)((function(){(0,segment.u4)(segment.sV.new_insurance_updated,{total_value_of_order:insuranceModalState.insuredValue,insurance_price:(0,utils.kB)(userInsuranceRate,Number(insuranceModalState.insuredValue)),insurance_option:insuranceValueType}),insuranceModalState.onClickSubmit()}),[insuranceModalState,insuredItems,insuranceValueType,userInsuranceRate]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(emotion_react_jsx_runtime_browser_esm.FK,{children:addOrEditInsurance&&(0,emotion_react_jsx_runtime_browser_esm.Y)(MobileAndDesktopDrawer.A,(0,tslib_es6.Cl)({drawerContentTestId:"shipment-extras-card-insurance-drawer",drawerProps:{transitionDuration:0},title:t("insurance.basicHeadline"),subtitle:1===mixedSelection.numberSelected?"1 ".concat(t("orders:itemsCard:order")):mixedSelection.numberSelected>1?"".concat(mixedSelection.numberSelected," ").concat(t("orders:itemsCard:orderPlural")):"",open:!0,onBack:onClose,onClose,fullWidth:!0,fullHeight:!0,footerButtonPrimary:{text:buttonText,action:handleUpdateInsurance},footerButtonSecondary:{text:t("orders:phrases:cancel"),action:onClose},paperBoxShadow:"none"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(SimplifiedInsuranceView.w,(0,tslib_es6.Cl)({},insuranceModalState,{t,onInsuranceValueTypeChange,showItemValueTotal,insuranceValueType,mixedSelection,addInsuranceButtonName:buttonText,isBatch:!0}))}))})};var constants_currency=__webpack_require__("./app/constants/currency.ts"),util=__webpack_require__("./app/pages/Orders/All/OrderDetailsPage/Tabs/ShipmentExtrasCard/util.ts");const ShipmentInsuranceRow=function(_a){var t=_a.t,extrasInsurance=_a.extrasInsurance,extrasSignature=_a.extrasSignature,onSubmit=_a.onSubmit,userInsuranceRate=_a.userInsuranceRate,mixedSelection=_a.mixedSelection,insuredItems=_a.insuredItems,defaultModalContent=_a.defaultModalContent,lineItemsCost=_a.lineItemsCost,rateCostOnly=_a.rateCostOnly,isBatch=_a.isBatch,isConfirmationDrawer=_a.isConfirmationDrawer,_b=(0,hooks.s5)(),addOrEditInsurance=_b.addOrEditInsurance,onClickAddOrEditInsurance=_b.onClickAddOrEditInsurance,onClickCancelInsurance=_b.onClickCancelInsurance,handleAddEditInsuranceClick=function(onClickAddOrEditInsurance){return(0,react.useCallback)((function(){onClickAddOrEditInsurance(),(0,segment.u4)(segment.sV.insurance_details_opened)}),[onClickAddOrEditInsurance,segment.u4])}(onClickAddOrEditInsurance),handleSaveInsurance=function(onSubmitExtras,onClickCancelInsurance){return(0,react.useCallback)((function(newInsuranceValues){if("keep"!==newInsuranceValues.hasInsurance){var options=(0,util.E)(newInsuranceValues);onSubmitExtras(options),onClickCancelInsurance()}else onClickCancelInsurance()}),[onSubmitExtras,onClickCancelInsurance])}(onSubmit,onClickCancelInsurance),removeInsurance=(0,react.useCallback)((function(){onSubmit({insurance:null}),(0,segment.u4)(segment.sV.insurance_removed_sidebar)}),[onSubmit,extrasInsurance,extrasSignature]),currency=defaultModalContent.currency,insuranceAmount=defaultModalContent.amount,hasInsurance=extrasInsurance||isBatch&&mixedSelection.numberWithInsurance>0,shipmentInsuranceDescription=(0,react.useMemo)((function(){if(isBatch){if(mixedSelection.numberWithInsurance>0)return t("insurance.numOfInsured",{numInsured:mixedSelection.numberWithInsurance,numOrders:mixedSelection.numberSelected});if(mixedSelection.totalInsuranceCost>0)return"".concat(isConfirmationDrawer?"":t("shipmentExtras.insuranceTotalCost")+":"," ").concat(t("translations:currency",{value:{value:isConfirmationDrawer?mixedSelection.totalCoverage:mixedSelection.totalInsuranceCost,currency_iso:mixedSelection.currency?mixedSelection.currency.iso:constants_currency.q.USD.iso}}))}if(extrasInsurance)return"".concat(isConfirmationDrawer?"":t("shipmentExtras.insuranceTotalCost")+":"," ").concat(t("translations:currency",{value:{value:isConfirmationDrawer?insuranceAmount:(0,utils.kB)(userInsuranceRate,parseFloat(insuranceAmount)),currency_iso:currency.iso}}))}),[isBatch,extrasInsurance,t,mixedSelection.totalInsuranceCost,mixedSelection.totalCoverage,mixedSelection.currency,mixedSelection.numberWithInsurance,mixedSelection.numberSelected,userInsuranceRate,insuranceAmount,currency.iso,isConfirmationDrawer]);return(0,emotion_react_jsx_runtime_browser_esm.FD)(emotion_react_jsx_runtime_browser_esm.FK,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(CardBlock,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Stack.A,(0,tslib_es6.Cl)({direction:"column",spacing:2},{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(ShipmentExtrasSpacer,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Stack.A,(0,tslib_es6.Cl)({direction:"row",alignItems:"center",justifyContent:"flex-start",spacing:1},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"p",variant:"bodyEmphasized"},{children:t("blackbeard.coverageValue")}))})),(0,emotion_react_jsx_runtime_browser_esm.FD)(Stack.A,(0,tslib_es6.Cl)({direction:"row",alignItems:"center",justifyContent:"flex-start",spacing:1},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"p",variant:"body","data-testid":"insurance-description",color:colors.T.gray80},{children:hasInsurance?shipmentInsuranceDescription:t("blackbeard.noCoverage")})),hasInsurance&&(0,emotion_react_jsx_runtime_browser_esm.Y)(Tooltip.A,(0,tslib_es6.Cl)({variant:"secondary",title:t("shipmentExtras.insuranceRemove")},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)("div",{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(IconButton.A,(0,tslib_es6.Cl)({size:"small","aria-label":t("shipmentExtras.insuranceRemove"),onClick:removeInsurance,sx:{color:colors.T.gray80,ml:.5},"data-e2e":"remove-insurance-button"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Close.A,{})}))})})),(0,emotion_react_jsx_runtime_browser_esm.Y)(AddEditButton,(0,tslib_es6.Cl)({variant:"text",color:"primary",onClick:handleAddEditInsuranceClick,"data-testid":"shipment-extras-insurance-drawer-open-link"},{children:t(hasInsurance?"shipmentExtras.edit":"actions.single.add")}))]}))]})}))}),(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentInsuranceCard_ShipmentInsuranceSimplifiedView,{onSubmit:handleSaveInsurance,onClose:onClickCancelInsurance,hasSignatureConfirmation:!!(null==extrasSignature?void 0:extrasSignature.hasSignatureConfirmation),t,userInsuranceRate,defaultValues:defaultModalContent,useImportedAmount:!1,addOrEditInsurance,mixedSelection,insuredItems,lineItemsCost,rateCostOnly})]})};var Alert=__webpack_require__("./node_modules/@goshippo/components/esm/Alert/Alert.js"),MobileStyles=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/ExtrasModal/MobileStyles.tsx"),Form=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/VerticalSignatureConfirmationView/Form.tsx"),SignatureConfirmationInformation=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/VerticalSignatureConfirmationView/SignatureConfirmationInformation.tsx");const ShipmentExtrasCard_VerticalSignatureConfirmationView=function(_a){var t=_a.t,hasSignatureConfirmation=_a.hasSignatureConfirmation,signatureConfirmationType=_a.signatureConfirmationType,onChangeHasSignatureConfirmation=_a.onChangeHasSignatureConfirmation,onChangeSignatureConfirmationType=_a.onChangeSignatureConfirmationType,mixedSelection=_a.mixedSelection;return(0,emotion_react_jsx_runtime_browser_esm.FD)(MobileStyles.A.MobileContentBodyContent,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(MobileStyles.A.MobileSectionTitle,{children:t("shipmentExtras.signatureConfirmation")}),(0,emotion_react_jsx_runtime_browser_esm.Y)(Stack.A,(0,tslib_es6.Cl)({sx:{placeItems:"center",gap:"1rem",flexDirection:"column"}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Form.A,{fullScreen:!0,handleSignatureConfirmationChanged:onChangeHasSignatureConfirmation,handleSignatureConfirmationTypeChanged:onChangeSignatureConfirmationType,hasSignatureConfirmation,signatureConfirmationType,mixedSelection,t})})),(0,emotion_react_jsx_runtime_browser_esm.FD)(MobileStyles.A.MobileModalSection,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(MobileStyles.A.MobileSectionTitle,{children:t("shipmentExtras.signatureConfirmation")}),(0,emotion_react_jsx_runtime_browser_esm.Y)(SignatureConfirmationInformation.A,{t})]})]})};var VerticalSignatureConfirmationView_hooks=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/VerticalSignatureConfirmationView/hooks.ts");const ShipmentInsuranceCard_SignatureConfirmationSimplifiedView=function(_a){var defaultValues=_a.defaultValues,insuredValue=_a.insuredValue,onClose=_a.onClose,onClickSubmitParent=_a.onClickSubmit,editSignatureDrawer=_a.editSignatureDrawer,batchEntryCount=_a.batchEntryCount,mixedSelection=_a.mixedSelection,t=_a.t,isRequired=_a.isRequired,_b=(0,VerticalSignatureConfirmationView_hooks.Z)(defaultValues,onClickSubmitParent,onClose),hasSignatureConfirmation=_b.hasSignatureConfirmation,signatureConfirmationType=_b.signatureConfirmationType,onSubmit=_b.onSubmit,setHasSignatureConfirmation=_b.setHasSignatureConfirmation,setSignatureConfirmationType=_b.setSignatureConfirmationType,handleSubmit=(0,react.useCallback)((function(){(0,segment.u4)(segment.sV.signature_updated,{type_of_signature:signatureConfirmationType,is_required:isRequired}),onSubmit()}),[signatureConfirmationType,mixedSelection.totalSignatureCost,mixedSelection.numberSelected,onSubmit]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(emotion_react_jsx_runtime_browser_esm.FK,{children:editSignatureDrawer&&(0,emotion_react_jsx_runtime_browser_esm.Y)(MobileAndDesktopDrawer.A,(0,tslib_es6.Cl)({drawerProps:{transitionDuration:0},title:t("shipmentExtras.signatureConfirmation"),subtitle:1===batchEntryCount?"1 ".concat(t("orders:itemsCard:order")):batchEntryCount>1?"".concat(batchEntryCount," ").concat(t("orders:itemsCard:orderPlural")):"",open:!0,onBack:onClose,onClose,footerButtonPrimary:{text:t("shipmentExtras.update"),action:handleSubmit},footerButtonSecondary:{text:t("shipmentExtras.cancel"),action:onClose},fullWidth:!0,fullHeight:!0,paperBoxShadow:"none",footerDataTestId:"signature-footer"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentExtrasCard_VerticalSignatureConfirmationView,{hasSignatureConfirmation,signatureConfirmationType,insuredValue,onChangeHasSignatureConfirmation:setHasSignatureConfirmation,onChangeSignatureConfirmationType:setSignatureConfirmationType,mixedSelection,t})}))})};var orders_selectors=__webpack_require__("./app/selectors/orders.selectors.ts"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),batch_entry_selectors=__webpack_require__("./app/selectors/batch-entry.selectors.ts"),signature=__webpack_require__("./app/utils/signature.ts");const ShipmentInsuranceCard_ShipmentSignatureRow=function(_a){var t=_a.t,extrasInsurance=_a.extrasInsurance,extrasSignature=_a.extrasSignature,onSubmitParent=_a.onSubmit,mixedSelection=_a.mixedSelection,defaultModalContent=_a.defaultModalContent,isInsuranceAvailable=_a.isInsuranceAvailable,isBatch=_a.isBatch,hasSignatureError=_a.hasSignatureError,signatureErrorSource=_a.signatureErrorSource,orderSelection=(0,es.d4)(orders_selectors.Li),batchEntryData=(0,es.d4)(batch_entry_selectors.zo),_b=(0,tslib_es6.zs)((0,react.useState)(!1),2),editSignatureDrawer=_b[0],setEditSignatureDrawer=_b[1],baseDefaultSignatureContent=(0,hooks.kK)(extrasSignature).defaultSignatureContent,defaultEditSignatureContent=(0,react.useMemo)((function(){return mixedSelection.numberSelected>1&&mixedSelection.numberWithSignature>0?{hasSignatureConfirmation:!0,signatureConfirmationType:"KEEP"}:baseDefaultSignatureContent}),[baseDefaultSignatureContent,mixedSelection]),onSubmitSignature=(0,hooks.$V)(onSubmitParent,setEditSignatureDrawer).onSubmitSignature,onClickEditSignatureDrawer=(0,react.useCallback)((function(){setEditSignatureDrawer(!0),(0,segment.u4)(segment.sV.signature_details_opened)}),[]),onCloseEditSignatureDrawer=(0,react.useCallback)((function(){setEditSignatureDrawer(!1)}),[]),disableRemoveSignature=(0,signature.q)(orderSelection,batchEntryData),removeSignature=(0,react.useCallback)((function(){onSubmitParent({signatureConfirmation:null}),(0,segment.u4)(segment.sV.signature_removed_sidebar)}),[onSubmitParent]),baseSignatureConfirmationDescription=(0,hooks.vE)(defaultEditSignatureContent,!!isBatch,t,mixedSelection).signatureConfirmationDescription,batchEntryCount=mixedSelection.numberSelected;return(0,emotion_react_jsx_runtime_browser_esm.FD)(emotion_react_jsx_runtime_browser_esm.FK,{children:[(0,emotion_react_jsx_runtime_browser_esm.FD)(CardBlock,(0,tslib_es6.Cl)({sx:isInsuranceAvailable?null:{":first-of-type":{borderTop:"none",paddingTop:0}}},{children:[(0,emotion_react_jsx_runtime_browser_esm.FD)(ShipmentExtrasSpacer,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Stack.A,(0,tslib_es6.Cl)({direction:"row",alignItems:"center",justifyContent:"flex-start",spacing:1},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"p",variant:"bodyEmphasized"},{children:t("blackbeard.signature")}))})),(0,emotion_react_jsx_runtime_browser_esm.FD)(Stack.A,(0,tslib_es6.Cl)({direction:"row",alignItems:"center",justifyContent:"flex-start",spacing:1},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"p",variant:"body","data-testid":"extra-signature-type",color:colors.T.gray80},{children:defaultEditSignatureContent.hasSignatureConfirmation?baseSignatureConfirmationDescription:t("blackbeard.notRequired")})),defaultEditSignatureContent.hasSignatureConfirmation&&(0,emotion_react_jsx_runtime_browser_esm.Y)(Tooltip.A,(0,tslib_es6.Cl)({variant:"secondary",title:t("shipmentExtras.signatureRemove")},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)("div",{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(IconButton.A,(0,tslib_es6.Cl)({size:"small","aria-label":t("shipmentExtras.signatureRemove"),disabled:disableRemoveSignature,onClick:removeSignature,sx:{color:colors.T.gray80,ml:.5},"data-e2e":"remove-signature-button"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Close.A,{})}))})})),(0,emotion_react_jsx_runtime_browser_esm.Y)(AddEditButton,(0,tslib_es6.Cl)({variant:"text",color:"primary",onClick:onClickEditSignatureDrawer,"data-testid":"extra-signature-drawer-open",disabled:hasSignatureError||disableRemoveSignature},{children:defaultEditSignatureContent.hasSignatureConfirmation?t("shipmentExtras.edit"):t("actions.single.add")}))]}))]}),hasSignatureError?(0,emotion_react_jsx_runtime_browser_esm.Y)(Alert.A,(0,tslib_es6.Cl)({severity:"error","data-testid":"signature-error"},{children:t("orders:shipmentExtras:signatureErrorMsg",{source:signatureErrorSource})})):null]})),(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentInsuranceCard_SignatureConfirmationSimplifiedView,{defaultValues:defaultEditSignatureContent,insuredValue:parseFloat((null==extrasInsurance?void 0:extrasInsurance.amount)||"0")||0,onClose:onCloseEditSignatureDrawer,onClickSubmit:onSubmitSignature,t,editSignatureDrawer,batchEntryCount,mixedSelection,isRequired:parseFloat(defaultModalContent.amount)>=500})]})};const ShipmentInsuranceCard_ShipmentInsuranceCardContent=function(props){return props.isLoading?(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentExtraContainer,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(CircularProgress.A,{})}):(0,emotion_react_jsx_runtime_browser_esm.FD)(ShipmentExtraContainer,{children:[props.isInsuranceAvailable&&(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentInsuranceRow,(0,tslib_es6.Cl)({},props)),(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentInsuranceCard_ShipmentSignatureRow,(0,tslib_es6.Cl)({},props))]})};const ShipmentInsuranceCard_ShipmentInsuranceHeader=function(_a){var mixedSelection=_a.mixedSelection,insuranceCost=_a.insuranceCost,currency=_a.currency,_b=_a.lineItemsCost,lineItemsCost=void 0===_b?0:_b,t=_a.t,hasInsurance=mixedSelection&&mixedSelection.numberWithInsurance===mixedSelection.numberSelected,isMixedInsurance=mixedSelection&&mixedSelection.numberWithInsurance>0&&mixedSelection.numberWithInsurance<mixedSelection.numberSelected,highValueItemsCurrency=(0,react.useMemo)((function(){return{amount:t("translations:currency",{value:{value:lineItemsCost,currency_iso:currency.iso,minimumFractionDigits:lineItemsCost%1!=0?2:0}})}}),[t,lineItemsCost,currency.iso]),insuranceCostRecommendation=(0,react.useMemo)((function(){return t("translations:currency",{value:{value:insuranceCost,currency_iso:currency.iso}})}),[t,insuranceCost,currency.iso]),insuranceHeaderTitle=(0,react.useMemo)((function(){return isMixedInsurance?t("orders:blackbeard.shipmentMixedInsured"):hasInsurance?t("orders:blackbeard.shipmentInsuredVariant",{count:mixedSelection.numberSelected}):lineItemsCost&&lineItemsCost>=500&&1===mixedSelection.numberSelected?t("orders:shipmentExtras.notInsuredAmountTitleVariant",highValueItemsCurrency):t("orders:blackbeard.shipmentNotInsuredVariant",{count:mixedSelection.numberSelected})}),[isMixedInsurance,hasInsurance,lineItemsCost,mixedSelection.numberSelected,t,highValueItemsCurrency]);return(0,emotion_react_jsx_runtime_browser_esm.FD)(emotion_react_jsx_runtime_browser_esm.FK,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(InsuranceHeader,(0,tslib_es6.Cl)({"data-testid":"shipment-insurance-accordion-header",component:"h2",variant:"h2"},{children:insuranceHeaderTitle})),!hasInsurance&&(0,emotion_react_jsx_runtime_browser_esm.Y)(InsuranceRecommend,(0,tslib_es6.Cl)({component:"p",variant:"body"},{children:lineItemsCost?(0,emotion_react_jsx_runtime_browser_esm.Y)(translate.In,{i18nKey:"shipmentExtras.xcoverRecommendItems",value:(0,emotion_react_jsx_runtime_browser_esm.Y)("strong",{children:insuranceCostRecommendation})}):t("shipmentExtras.xcoverRecommend")}))]})};const ShipmentInsuranceCard_ShipmentInsuranceCard=function(_a){var batchEntryLineItems=_a.batchEntryLineItems,insuranceExtra=_a.insuranceExtra,signatureConfirmation=_a.signatureConfirmation,isBatch=_a.isBulk,isLoading=_a.isLoading,mixedSelection=_a.mixedSelection,order=_a.order,onSubmitExtras=_a.onSubmitExtras,t=_a.t,userInsuranceRate=_a.userInsuranceRate,insuredItems=_a.insuredItems,hasReturn=_a.hasReturn,isInsuranceAvailable=_a.isInsuranceAvailable,isConfirmationDrawer=_a.isConfirmationDrawer,hasSignatureError=_a.hasSignatureError,signatureErrorSource=_a.signatureErrorSource,rateCostOnly=_a.rateCostOnly,partialOrderLineItems=(0,react.useMemo)((function(){return(0,utils.Eo)(null==order?void 0:order.lineItems,batchEntryLineItems)}),[order,batchEntryLineItems]),defaultModalContent=(0,react.useMemo)((function(){var content=(0,utils.dc)(insuranceExtra,order,partialOrderLineItems);return(0,modules_utils.WW)(mixedSelection)?(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},content),{hasInsurance:"keep"}):content}),[insuranceExtra,mixedSelection,order,partialOrderLineItems]),insuranceCost=(0,utils.kB)(userInsuranceRate,+defaultModalContent.amount,rateCostOnly,mixedSelection.numberSelected),lineItemsCost=(0,utils.jX)(null==order?void 0:order.lineItems),showReturnInsuranceSignatureWarning=hasReturn&&!!(null==insuranceExtra?void 0:insuranceExtra.amount)&&!!lineItemsCost&&lineItemsCost>=500&&(null==signatureConfirmation?void 0:signatureConfirmation.hasSignatureConfirmation);return(0,emotion_react_jsx_runtime_browser_esm.Y)(emotion_react_jsx_runtime_browser_esm.FK,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)("div",{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Card_styled.Q_,(0,tslib_es6.Cl)({"data-testid":"insurance-card-container",sx:{marginBottom:"0.5rem"}},{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(ContentContainer,{children:[isInsuranceAvailable&&(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentInsuranceCard_ShipmentInsuranceHeader,{mixedSelection,t,insuranceCost,currency:defaultModalContent.currency,lineItemsCost}),isInsuranceAvailable&&showReturnInsuranceSignatureWarning&&(0,emotion_react_jsx_runtime_browser_esm.Y)(ReturnLabelWarning.A,{t,isSidePanel:!0}),(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentInsuranceCard_ShipmentInsuranceCardContent,{batchEntryLineItems,isBatch,isLoading,extrasInsurance:insuranceExtra,extrasSignature:signatureConfirmation,onSubmit:onSubmitExtras,t,userInsuranceRate,mixedSelection,defaultModalContent,insuredItems,lineItemsCost,rateCostOnly,isInsuranceAvailable,isConfirmationDrawer,hasSignatureError,signatureErrorSource})]})}))})})};var weight=__webpack_require__("./app/constants/weight.ts"),countries=__webpack_require__("./app/constants/countries.ts"),moment=__webpack_require__("./node_modules/moment/moment.js"),Order=__webpack_require__("./app/types/Order.ts"),mocks=__webpack_require__("./app/tests/mocks/index.ts");const ShipmentInsuranceCard_stories={title:"ShipmentInsuranceCard",component:ShipmentInsuranceCard_ShipmentInsuranceCard,parameters:{layout:"centered"},argTypes:{}};var ShipmentInsuranceCardWithTranslate=(0,translate.Tl)("orders")(ShipmentInsuranceCard_ShipmentInsuranceCard),Template=function(args){return(0,emotion_react_jsx_runtime_browser_esm.Y)(ShipmentInsuranceCardWithTranslate,(0,tslib_es6.Cl)({},args))},DefaultState=Template.bind({}),InsuranceAndSignature=Template.bind({}),OverFiveHundred=Template.bind({}),onSubmitExtras=function(){};DefaultState.args={batchEntryLineItems:[{objectId:"123456",quantity:1}],insuranceExtra:void 0,isBulk:!1,isLoading:!1,mixedSelection:{numberSelected:0,numberWithInsurance:0,totalCoverage:0,totalInsuranceCost:0,numberWithSignature:0,totalSignatureCost:0,currency:{iso:"USD",symbol:"$"}},order:{toAddress:mocks.ch,subtotalPrice:"25",totalPrice:"27",objectId:"7673a6958e3341929580299a8d842979",orderNumber:"#4092",orderStatus:Order.Re.PAID,objectOwner:"malcolm_fdv@shippo.com",validationStatus:Order.cY.VALID,placedAt:moment("2018-03-27T22:13:55.184Z"),errors:[],shopApp:"Bigcommerce",weight:"2.00",weightUnit:"lb",transactions:[],rates:[],totalTax:"0.00",currency:"USD",shippingMethod:"None",shippingCost:"0.00",shippingCostCurrency:"USD",notes:null,items:[],hidden:!1,partialFulfillmentRequests:[],totalPartialFulfillments:0,lineItems:[{objectId:"098765",quantity:1,title:"T-Shirt",sku:"82828282",totalAmount:"90",totalWeight:"4",weightUnit:weight.VV.LB,id:12345,product:"cc2202c14d5e45c791fc887ac2bdec2b",variant:"af6b14340c8b46cda326de80b5f37416",appId:"1312327532638",isFulfilled:!1,unitAmount:"6.00",unitWeight:"1.00",manufactureCountry:null,maxShipTime:null,maxDeliveryTime:null,hsCode:null,variantTitle:"",countryOfOrigin:countries.Xr.US,currency:{iso:"USD",symbol:"$"}}]},onSubmitExtras,signatureConfirmation:{hasSignatureConfirmation:!1,signatureConfirmationType:null},t:function(key){return key},userInsuranceRate:.0125,insuredItems:["T-Shirt"]},InsuranceAndSignature.args={batchEntryLineItems:[{objectId:"123456",quantity:1}],insuranceExtra:{amount:"1.25",currency:{iso:"USD",symbol:"$"},useImportedAmount:!1},isBulk:!1,isLoading:!1,mixedSelection:{numberSelected:1,numberWithInsurance:1,totalCoverage:125,totalInsuranceCost:1.25,numberWithSignature:1,totalSignatureCost:3,currency:{iso:"USD",symbol:"$"}},order:{toAddress:mocks.ch,subtotalPrice:"25",totalPrice:"27",objectId:"7673a6958e3341929580299a8d842979",orderNumber:"#4092",orderStatus:Order.Re.PAID,objectOwner:"malcolm_fdv@shippo.com",validationStatus:Order.cY.VALID,placedAt:moment("2018-03-27T22:13:55.184Z"),errors:[],shopApp:"Bigcommerce",weight:"2.00",weightUnit:"lb",transactions:[],rates:[],totalTax:"0.00",currency:"USD",shippingMethod:"None",shippingCost:"0.00",shippingCostCurrency:"USD",notes:null,items:[],hidden:!1,partialFulfillmentRequests:[],totalPartialFulfillments:0,lineItems:[{objectId:"098765",quantity:1,title:"T-Shirt",sku:"82828282",totalAmount:"90",totalWeight:"4",weightUnit:weight.VV.LB,id:12345,product:"cc2202c14d5e45c791fc887ac2bdec2b",variant:"af6b14340c8b46cda326de80b5f37416",appId:"1312327532638",isFulfilled:!1,unitAmount:"6.00",unitWeight:"1.00",manufactureCountry:null,maxShipTime:null,maxDeliveryTime:null,hsCode:null,variantTitle:"",countryOfOrigin:countries.Xr.US,currency:{iso:"USD",symbol:"$"}}]},onSubmitExtras,signatureConfirmation:{hasSignatureConfirmation:!0,signatureConfirmationType:"STANDARD"},t:function(key){return key},userInsuranceRate:.0125,insuredItems:["T-Shirt"]},OverFiveHundred.args={batchEntryLineItems:[{objectId:"123456",quantity:1}],insuranceExtra:{amount:"510",currency:{iso:"USD",symbol:"$"},useImportedAmount:!1},isBulk:!1,isLoading:!1,mixedSelection:{numberSelected:1,numberWithInsurance:1,totalCoverage:510,totalInsuranceCost:5.1,numberWithSignature:1,totalSignatureCost:3,currency:{iso:"USD",symbol:"$"}},order:{toAddress:mocks.ch,subtotalPrice:"25",totalPrice:"27",objectId:"7673a6958e3341929580299a8d842979",orderNumber:"#4092",orderStatus:Order.Re.PAID,objectOwner:"malcolm_fdv@shippo.com",validationStatus:Order.cY.VALID,placedAt:moment("2018-03-27T22:13:55.184Z"),errors:[],shopApp:"Bigcommerce",weight:"2.00",weightUnit:"lb",transactions:[],rates:[],totalTax:"0.00",currency:"USD",shippingMethod:"None",shippingCost:"0.00",shippingCostCurrency:"USD",notes:null,items:[],hidden:!1,partialFulfillmentRequests:[],totalPartialFulfillments:0,lineItems:[{objectId:"098765",quantity:1,title:"T-Shirt",sku:"82828282",totalAmount:"90",totalWeight:"4",weightUnit:weight.VV.LB,id:12345,product:"cc2202c14d5e45c791fc887ac2bdec2b",variant:"af6b14340c8b46cda326de80b5f37416",appId:"1312327532638",isFulfilled:!1,unitAmount:"6.00",unitWeight:"1.00",manufactureCountry:null,maxShipTime:null,maxDeliveryTime:null,hsCode:null,variantTitle:"",countryOfOrigin:countries.Xr.US,currency:{iso:"USD",symbol:"$"}}]},onSubmitExtras,signatureConfirmation:{hasSignatureConfirmation:!0,signatureConfirmationType:"STANDARD"},t:function(key){return key},userInsuranceRate:.0125,insuredItems:["T-Shirt"]},DefaultState.parameters={...DefaultState.parameters,docs:{...DefaultState.parameters?.docs,source:{originalSource:"(args: ShipmentInsuranceCardProps) => <ShipmentInsuranceCardWithTranslate {...args} />",...DefaultState.parameters?.docs?.source}}},InsuranceAndSignature.parameters={...InsuranceAndSignature.parameters,docs:{...InsuranceAndSignature.parameters?.docs,source:{originalSource:"(args: ShipmentInsuranceCardProps) => <ShipmentInsuranceCardWithTranslate {...args} />",...InsuranceAndSignature.parameters?.docs?.source}}},OverFiveHundred.parameters={...OverFiveHundred.parameters,docs:{...OverFiveHundred.parameters?.docs,source:{originalSource:"(args: ShipmentInsuranceCardProps) => <ShipmentInsuranceCardWithTranslate {...args} />",...OverFiveHundred.parameters?.docs?.source}}}}}]);