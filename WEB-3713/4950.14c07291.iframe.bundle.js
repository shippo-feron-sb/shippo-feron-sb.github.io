"use strict";(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[4950],{"./app/components/Select/options.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,QL:()=>ShippingDestinationDomesticOption,kw:()=>ShippingDestinationInternationalOption});var _a,tslib__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),lodash_es_orderBy__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/lodash-es/orderBy.js"),_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/constants/automationRuleForm.ts"),_constants_carriers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/constants/carriers.ts"),_constants_countries__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/constants/countries.ts"),_constants_currency__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/constants/currency.ts"),_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./app/constants/customsDeclaration.ts"),_constants_distance__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./app/constants/distance.ts"),_constants_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./app/constants/operators.ts"),_constants_stores__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./app/constants/stores.ts"),_constants_weight__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./app/constants/weight.ts"),eelPfcOptions=[{label:"NOEEI 30 37(a)",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.aU.NOEEI3037A},{label:"NOEEI 30 37(f)",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.aU.NOEEI3037F},{label:"NOEEI 30 37(h)",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.aU.NOEEI3037H},{label:"NOEEI 30 36",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.aU.NOEEI3036},{label:"AES / ITN",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.aU.AESITN}],contentsTypeOptions=[{label:"documents",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.fI.DOCUMENTS},{label:"gift",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.fI.GIFT},{label:"sample",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.fI.SAMPLE},{label:"merchandise",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.fI.MERCHANDISE},{label:"returnMerchandise",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.fI.RETURN_MERCHANDISE},{label:"humanitarianDonation",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.fI.HUMANITARIAN_DONATION},{label:"other",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.fI.OTHER}],incotermOptions=[{label:"".concat(_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.uF.DDU," (bill recipient)"),value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.uF.DDU},{label:"".concat(_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.uF.DDP," (bill sender)"),value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.uF.DDP},{label:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.uF.FCA,value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.uF.FCA}],nonDeliveryOptions=[{label:"Return to sender",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.kV.RETURN},{label:"Abandon",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.kV.ABANDON}],b13aFilingOptions=[{label:"None selected",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.i2.NONE_SELECTED},{label:"Filed electronically",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.i2.FILED_ELECTRONICALLY},{label:"Summary reporting",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.i2.SUMMARY_REPORTING},{label:"Not required",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.i2.NOT_REQUIRED}];_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.i2;var hashMapToOptions=function(hashMap,x){return hashMap[String(x.value)]=x,hashMap},taxIdTypeOptions=[{label:"Select",value:""},{label:"VAT",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.Gs.VAT},{label:"IOSS",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.Gs.IOSS},{label:"EIN",value:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_4__.Gs.EIN}],customsDeclaration={b13aFilingOptions,b13aFilingOptionsMap:b13aFilingOptions.reduce(hashMapToOptions,{}),contentsTypeOptions,contentsTypeOptionsMap:contentsTypeOptions.reduce(hashMapToOptions,{}),eelPfcOptions,eelPfcOptionsMap:eelPfcOptions.reduce(hashMapToOptions,{}),incotermOptions,incotermOptionsMap:incotermOptions.reduce(hashMapToOptions,{}),nonDeliveryOptions,nonDeliveryOptionsMap:nonDeliveryOptions.reduce(hashMapToOptions,{}),taxIdTypeOptions,taxIdTypeOptionsMap:taxIdTypeOptions.reduce(hashMapToOptions,{})},gOption={label:_constants_weight__WEBPACK_IMPORTED_MODULE_8__.VV.G,value:_constants_weight__WEBPACK_IMPORTED_MODULE_8__.VV.G},kgOption={label:_constants_weight__WEBPACK_IMPORTED_MODULE_8__.VV.KG,value:_constants_weight__WEBPACK_IMPORTED_MODULE_8__.VV.KG},ozOption={label:_constants_weight__WEBPACK_IMPORTED_MODULE_8__.VV.OZ,value:_constants_weight__WEBPACK_IMPORTED_MODULE_8__.VV.OZ},lbOption={label:_constants_weight__WEBPACK_IMPORTED_MODULE_8__.VV.LB,value:_constants_weight__WEBPACK_IMPORTED_MODULE_8__.VV.LB},equalOption={label:_constants_operators__WEBPACK_IMPORTED_MODULE_6__.Js.EQ,value:_constants_operators__WEBPACK_IMPORTED_MODULE_6__.Mh.EQ},includesOption={label:_constants_operators__WEBPACK_IMPORTED_MODULE_6__.Js.INCLUDES,value:_constants_operators__WEBPACK_IMPORTED_MODULE_6__.Mh.INCLUDES},startsWithOption={label:_constants_operators__WEBPACK_IMPORTED_MODULE_6__.Js.STARTS_WITH,value:_constants_operators__WEBPACK_IMPORTED_MODULE_6__.Mh.STARTS_WITH},endsWithOption={label:_constants_operators__WEBPACK_IMPORTED_MODULE_6__.Js.ENDS_WITH,value:_constants_operators__WEBPACK_IMPORTED_MODULE_6__.Mh.ENDS_WITH},lessThanOption={label:_constants_operators__WEBPACK_IMPORTED_MODULE_6__.Js.LT,value:_constants_operators__WEBPACK_IMPORTED_MODULE_6__.Mh.LT},lessThanEqualOption={label:_constants_operators__WEBPACK_IMPORTED_MODULE_6__.Js.LTE,value:_constants_operators__WEBPACK_IMPORTED_MODULE_6__.Mh.LTE},relationalOperatorOptions=[equalOption,{label:_constants_operators__WEBPACK_IMPORTED_MODULE_6__.Js.GT,value:_constants_operators__WEBPACK_IMPORTED_MODULE_6__.Mh.GT},{label:_constants_operators__WEBPACK_IMPORTED_MODULE_6__.Js.GTE,value:_constants_operators__WEBPACK_IMPORTED_MODULE_6__.Mh.GTE},lessThanOption,lessThanEqualOption],stringOperatorOptions=[equalOption,includesOption,startsWithOption,endsWithOption],weightOptions=[gOption,kgOption,ozOption,lbOption],commonWeightOptions={g:gOption,kg:kgOption,lb:lbOption,oz:ozOption},nonDelayOption={label:"Send immediately",value:0},emailNotificationDelayOptions=[{label:"30-minute delay",value:30},{label:"1-hour delay",value:60},{label:"3-hour delay",value:180},{label:"12-hour delay",value:720},{label:"24-hour delay",value:1440}],notificationOptions=(0,tslib__WEBPACK_IMPORTED_MODULE_9__.fX)([nonDelayOption],(0,tslib__WEBPACK_IMPORTED_MODULE_9__.zs)(emailNotificationDelayOptions),!1),currencyOptions=[];Object.keys(_constants_currency__WEBPACK_IMPORTED_MODULE_3__.q).map((function(currencyKey){var currency=_constants_currency__WEBPACK_IMPORTED_MODULE_3__.q[currencyKey];currencyOptions.push({label:currency.iso,value:currency.iso})}));for(var commonCurrencyOptions={CAD:{label:_constants_currency__WEBPACK_IMPORTED_MODULE_3__.q.CAD.iso,value:_constants_currency__WEBPACK_IMPORTED_MODULE_3__.q.CAD.iso},USD:{label:_constants_currency__WEBPACK_IMPORTED_MODULE_3__.q.USD.iso,value:_constants_currency__WEBPACK_IMPORTED_MODULE_3__.q.USD.iso}},cmOption={label:_constants_distance__WEBPACK_IMPORTED_MODULE_5__.k.CM,value:_constants_distance__WEBPACK_IMPORTED_MODULE_5__.k.CM},inOption={label:_constants_distance__WEBPACK_IMPORTED_MODULE_5__.k.IN,value:_constants_distance__WEBPACK_IMPORTED_MODULE_5__.k.IN},mmOption={label:_constants_distance__WEBPACK_IMPORTED_MODULE_5__.k.MM,value:_constants_distance__WEBPACK_IMPORTED_MODULE_5__.k.MM},distanceOptions=[cmOption,inOption,mmOption],commonDistanceOptions={cm:cmOption,in:inOption,mm:mmOption},timeRangeOptions7am9pm=[],i=7;i<=21;i+=1){var ampm=i<12?"am":"pm",j=i<13?i:i-12;timeRangeOptions7am9pm.push({label:"".concat(j,":00").concat(ampm),value:"".concat(i,":00")}),i<21&&timeRangeOptions7am9pm.push({label:"".concat(j,":30").concat(ampm),value:"".concat(i,":30")})}var countryOptions=Object.values(_constants_countries__WEBPACK_IMPORTED_MODULE_2__.Xr).map((function(country){return{label:country.name,value:country.iso2}})),carrierOptions=Object.values(_constants_carriers__WEBPACK_IMPORTED_MODULE_1__.Ay).map((function(carrier){return{label:carrier.name,value:carrier.name}})),carrierInOrderOptions=Object.values(_constants_carriers__WEBPACK_IMPORTED_MODULE_1__.TJ).map((function(carrier){return{label:carrier.name,value:carrier.name}})),storeNameToOption=function(storeName){return{label:storeName,value:storeName}},storeOptions=_constants_stores__WEBPACK_IMPORTED_MODULE_7__.EW.map(storeNameToOption),storeOptionsInAscendingOrder=(0,lodash_es_orderBy__WEBPACK_IMPORTED_MODULE_10__.A)(_constants_stores__WEBPACK_IMPORTED_MODULE_7__.EW,[function(storeName){return storeName.toLowerCase()}],["asc"]).map(storeNameToOption),booleanOperatorOptions=[equalOption],booleanFieldOptions=[{label:"True",value:"true"},{label:"False",value:"false"}],ShippingDestinationDomesticOption={label:"Domestic",value:"domestic"},ShippingDestinationInternationalOption={label:"International",value:"international"},ShipToCanadaOptions=[{label:"Anywhere in Canada",value:_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_0__.f_.CA_country},{label:"Canada: postal/zip code",value:_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_0__.f_.CA_zipcode},{label:"Canada: province/territory",value:_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_0__.f_.CA_state}],ShipToUnitedStatesOptions=[{label:"Anywhere in the United States",value:_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_0__.f_.US_country},{label:"United States: zip code",value:_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_0__.f_.US_zipcode},{label:"United States: state",value:_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_0__.f_.US_state}],ShippingDestinationGlobalOptions=[{label:"All countries",value:_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_0__.f_.ALL_country}];(_a={})[String(ShipToCanadaOptions[0].value)]=ShipToCanadaOptions[0],_a[String(ShipToCanadaOptions[1].value)]=ShipToCanadaOptions[1],_a[String(ShipToCanadaOptions[2].value)]=ShipToCanadaOptions[2],_a[String(ShipToUnitedStatesOptions[0].value)]=ShipToUnitedStatesOptions[0],_a[String(ShipToUnitedStatesOptions[1].value)]=ShipToUnitedStatesOptions[1],_a[String(ShipToUnitedStatesOptions[2].value)]=ShipToUnitedStatesOptions[2],_a[String(ShippingDestinationDomesticOption.value)]=ShippingDestinationDomesticOption,_a[String(ShippingDestinationGlobalOptions[0].value)]=ShippingDestinationGlobalOptions[0],_a[String(ShippingDestinationInternationalOption.value)]=ShippingDestinationInternationalOption;const __WEBPACK_DEFAULT_EXPORT__={booleanFieldOptions,booleanOperatorOptions,carrierInOrderOptions,carrierOptions,commonCurrencyOptions,commonDistanceOptions,commonWeightOptions,countryOptions,currencyOptions,customsDeclaration,distanceOptions,emailNotificationDelayOptions,getValueFromOption:function(option,defaultValue){return void 0===defaultValue&&(defaultValue=""),option?option.value:defaultValue},monthlyPackageOptions:[{label:"0 - 10",value:"0 - 10"},{label:"11 - 100",value:"11 - 100"},{label:"101 - 500",value:"101 - 500"},{label:"501 - 1,000",value:"501 - 1,000"},{label:"1,001 - 5,000",value:"1,001 - 5,000"},{label:"5,001+",value:"5,001+"}],nonDelayOption,notificationOptions,registrationSourceOptions:[{label:"Online Banner Ad",value:"BANNER_AD"},{label:"Radio",value:"RADIO"},{label:"Podcast",value:"PODCAST"},{label:"Social Media (Facebook, Twitter)",value:"SOCIAL_MEDIA"},{label:"Search (Google, Bing)",value:"SEARCH"},{label:"Referral",value:"REFERRAL"}],relationalOperatorOptions,shippingDestinationOptions:[{label:"",options:[ShippingDestinationDomesticOption,ShippingDestinationInternationalOption]},{label:"United States",options:ShipToUnitedStatesOptions},{label:"Canada",options:ShipToCanadaOptions},{label:"",options:ShippingDestinationGlobalOptions}],storeOptions,storeOptionsInAscendingOrder,stringOperatorOptions,timeRangeOptions7am9pm,weightOptions}},"./app/constants/automationRuleForm.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X2:()=>ActionType,Ym:()=>FORM_ERROR,f_:()=>ShippingCountryType,pn:()=>GENERIC_ERROR,s1:()=>ConditionFilterType});var ConditionFilterType,ActionType,GENERIC_ERROR="GENERIC_ERROR",FORM_ERROR="FORM_ERROR",ShippingCountryType={ALL_country:"ALL_country",CA_country:"CA_country",CA_state:"CA_state",CA_zipcode:"CA_zipcode",US_country:"US_country",US_state:"US_state",US_zipcode:"US_zipcode"};!function(ConditionFilterType){ConditionFilterType.DEFAULT="",ConditionFilterType.IS_INTERNATIONAL="IS_INTERNATIONAL",ConditionFilterType.ITEM_SKU="ITEM_SKU",ConditionFilterType.ORDER_ITEM_QUANTITY="ORDER_ITEM_QUANTITY",ConditionFilterType.PRODUCT_NAME="PRODUCT_NAME",ConditionFilterType.SHIPPING_COUNTRIES="SHIPPING_COUNTRIES",ConditionFilterType.SHIPPING_DESTINATION="SHIPPING_DESTINATION",ConditionFilterType.SHIPPING_STATES="SHIPPING_STATES",ConditionFilterType.SHIPPING_ZIPCODES="SHIPPING_ZIPCODES",ConditionFilterType.WEIGHT="WEIGHT"}(ConditionFilterType||(ConditionFilterType={})),function(ActionType){ActionType.ASSIGN_TAG="ASSIGN_TAG",ActionType.DEFAULT="",ActionType.PARCEL_TEMPLATE="PARCEL_TEMPLATE",ActionType.SENDER_ADDRESS="SENDER_ADDRESS",ActionType.SERVICE_LEVEL="SERVICE_LEVEL"}(ActionType||(ActionType={}))},"./app/constants/customsDeclaration.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var _a,_b,_c,EelPfc,ContentsType;__webpack_require__.d(__webpack_exports__,{Gs:()=>TaxIDTypes,K4:()=>TaxIDTypeVATMaxLength,Kk:()=>ValidationMessagesMap,Vv:()=>ContentsTypeOptionsMap,Zq:()=>B13AFilingOptionNumberMap,aU:()=>EelPfc,fI:()=>ContentsType,gK:()=>B13AFilingOptionMap,i2:()=>B13AFilingOption,kV:()=>NonDelivery,l_:()=>TaxIDTypeEINMaxLength,uF:()=>Incoterm}),function(EelPfc){EelPfc.AESITN="AES_ITN",EelPfc.NOEEI3036="NOEEI_30_36",EelPfc.NOEEI3037A="NOEEI_30_37_a",EelPfc.NOEEI3037F="NOEEI_30_37_f",EelPfc.NOEEI3037H="NOEEI_30_37_h"}(EelPfc||(EelPfc={})),function(ContentsType){ContentsType.DOCUMENTS="DOCUMENTS",ContentsType.GIFT="GIFT",ContentsType.HUMANITARIAN_DONATION="HUMANITARIAN_DONATION",ContentsType.MERCHANDISE="MERCHANDISE",ContentsType.OTHER="OTHER",ContentsType.RETURN_MERCHANDISE="RETURN_MERCHANDISE",ContentsType.SAMPLE="SAMPLE"}(ContentsType||(ContentsType={}));var Incoterm,NonDelivery,B13AFilingOption,ContentsTypeOptionsMap=((_a={})[ContentsType.DOCUMENTS]=ContentsType.DOCUMENTS,_a[ContentsType.GIFT]=ContentsType.GIFT,_a[ContentsType.HUMANITARIAN_DONATION]=ContentsType.HUMANITARIAN_DONATION,_a[ContentsType.MERCHANDISE]=ContentsType.MERCHANDISE,_a[ContentsType.OTHER]=ContentsType.OTHER,_a[ContentsType.RETURN_MERCHANDISE]=ContentsType.RETURN_MERCHANDISE,_a[ContentsType.SAMPLE]=ContentsType.SAMPLE,_a);!function(Incoterm){Incoterm.DDP="DDP",Incoterm.DDU="DDU",Incoterm.FCA="FCA"}(Incoterm||(Incoterm={})),function(NonDelivery){NonDelivery.ABANDON="ABANDON",NonDelivery.RETURN="RETURN"}(NonDelivery||(NonDelivery={})),function(B13AFilingOption){B13AFilingOption.FILED_ELECTRONICALLY="FILED_ELECTRONICALLY",B13AFilingOption.NONE_SELECTED="None",B13AFilingOption.NOT_REQUIRED="NOT_REQUIRED",B13AFilingOption.SUMMARY_REPORTING="SUMMARY_REPORTING"}(B13AFilingOption||(B13AFilingOption={}));var TaxIDTypes,B13AFilingOptionMap=((_b={})[B13AFilingOption.FILED_ELECTRONICALLY]=B13AFilingOption.FILED_ELECTRONICALLY,_b[B13AFilingOption.NONE_SELECTED]=B13AFilingOption.NONE_SELECTED,_b[B13AFilingOption.NOT_REQUIRED]=B13AFilingOption.NOT_REQUIRED,_b[B13AFilingOption.SUMMARY_REPORTING]=B13AFilingOption.SUMMARY_REPORTING,_b),B13AFilingOptionNumberMap=((_c={})[B13AFilingOption.FILED_ELECTRONICALLY]={label:"B13A Proof of Report Number",regex:/^[A-Z]{2}[0-9]{13,23}$/,regexDisplay:"AA####YYYYMMDDN, where N is 1 to 11 digits"},_c[B13AFilingOption.NOT_REQUIRED]={label:"B13A Exemption Number",regex:/^NDR[0-9]{1,2}$/,regexDisplay:"NDR##"},_c[B13AFilingOption.SUMMARY_REPORTING]={label:"B13A Summary ID Number",regex:/^SUM[0-9]{4}$/,regexDisplay:"SUM####"},_c);!function(TaxIDTypes){TaxIDTypes.EIN="EIN",TaxIDTypes.IOSS="IOSS",TaxIDTypes.VAT="VAT"}(TaxIDTypes||(TaxIDTypes={}));var TaxIDTypeVATMaxLength=15,TaxIDTypeEINMaxLength=9,ValidationMessagesMap={aesItn:{invalid:"Expected format: X12345678901234",required:"Please enter a value for AES / ITN",tooLong:"This field cannot be longer than 15 characters"},b13aFilingOption:{invalid:"Please choose a valid B13A Filing Option"},b13aNumber:{invalid:function(format){return format?"Expected format: ".concat(format):"Please enter a valid value"},required:function(label){return"Please enter a value for ".concat(label||"B13A Number")}},certificate:{tooLong:"This field cannot be longer than 12 characters"},certifySigner:{required:"Please enter a value for signing person",tooLong:"This field cannot be longer than 100 characters"},contentsExplanation:{required:"Please enter a value for content explanation",tooLong:"This field cannot be longer than 20 characters"},contentsType:{required:"Please choose type of content"},eoriNumber:{invalid:"Expected format: PL1234567890ABCDEFG",tooLong:"This field cannot be longer than 19 characters"},exporterReference:{tooLong:"This field cannot be longer than 50 characters"},importerReference:{tooLong:"This field cannot be longer than 50 characters"},isCertify:{required:"You must certify the validity of the information provided"},license:{tooLong:"This field cannot be longer than 15 characters"},notes:{tooLong:"This field cannot be longer than 200 characters"},taxIdNumber:{invalid:function(label){return label===TaxIDTypes.VAT||label===TaxIDTypes.IOSS?"Expected format: AA12345678AAA":"Expected format: 123456789"},required:function(label){return"Please enter a value for ".concat(label)},tooLong:function(maxLength){return"This field cannot be longer than ".concat(maxLength," characters")}}}},"./app/constants/operators.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var _a,_b,_c,OperatorString,OperatorLabel;__webpack_require__.d(__webpack_exports__,{Js:()=>OperatorLabel,Mh:()=>OperatorString}),function(OperatorString){OperatorString.ENDS_WITH="string_ends_with",OperatorString.EQ="equal_to",OperatorString.GT="greater_than",OperatorString.GTE="greater_than_or_equal_to",OperatorString.IN="in",OperatorString.INCLUDES="string_includes",OperatorString.LT="less_than",OperatorString.LTE="less_than_or_equal_to",OperatorString.NEQ="not_equal_to",OperatorString.STARTS_WITH="string_starts_with"}(OperatorString||(OperatorString={})),function(OperatorLabel){OperatorLabel.ENDS_WITH="ends with",OperatorLabel.EQ="is equal to",OperatorLabel.GT="is greater than",OperatorLabel.GTE="is greater than or equal to",OperatorLabel.INCLUDES="contains",OperatorLabel.LT="is less than",OperatorLabel.LTE="is less than or equal to",OperatorLabel.STARTS_WITH="starts with"}(OperatorLabel||(OperatorLabel={}));var LogicalOperatorEnum;(_a={})[OperatorString.GT]=function(a,b){return a>b},_a[OperatorString.GTE]=function(a,b){return a>=b},_a[OperatorString.LT]=function(a,b){return a<b},_a[OperatorString.LTE]=function(a,b){return a<=b},(_b={})[OperatorString.ENDS_WITH]=OperatorLabel.ENDS_WITH,_b[OperatorString.EQ]=OperatorLabel.EQ,_b[OperatorString.GT]=OperatorLabel.GT,_b[OperatorString.GTE]=OperatorLabel.GTE,_b[OperatorString.INCLUDES]=OperatorLabel.INCLUDES,_b[OperatorString.LT]=OperatorLabel.LT,_b[OperatorString.LTE]=OperatorLabel.LTE,_b[OperatorString.STARTS_WITH]=OperatorLabel.STARTS_WITH,(_c={})[OperatorString.ENDS_WITH]={label:OperatorLabel.ENDS_WITH,value:OperatorString.ENDS_WITH},_c[OperatorString.EQ]={label:OperatorLabel.EQ,value:OperatorString.EQ},_c[OperatorString.GT]={label:OperatorLabel.GT,value:OperatorString.GT},_c[OperatorString.GTE]={label:OperatorLabel.GTE,value:OperatorString.GTE},_c[OperatorString.INCLUDES]={label:OperatorLabel.INCLUDES,value:OperatorString.INCLUDES},_c[OperatorString.LT]={label:OperatorLabel.LT,value:OperatorString.LT},_c[OperatorString.LTE]={label:OperatorLabel.LTE,value:OperatorString.LTE},_c[OperatorString.STARTS_WITH]={label:OperatorLabel.STARTS_WITH,value:OperatorString.STARTS_WITH};!function(LogicalOperatorEnum){LogicalOperatorEnum.AND="AND",LogicalOperatorEnum.OR="OR"}(LogicalOperatorEnum||(LogicalOperatorEnum={}))},"./app/constants/rules.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Bz:()=>reprocessPollingTimeout,pr:()=>reprocessPollingDelay,ri:()=>ruleReprocessingStatus});var ruleReprocessingStatus={complete:"COMPLETE",error:"ERROR",pending:"PENDING"},reprocessPollingDelay=1500,reprocessPollingTimeout=6e4},"./app/types/APIError.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>fromJSON});var fromJSON=function(jsonAPIError){return{code:jsonAPIError.code,kind:"APIError",message:jsonAPIError.message}}},"./app/types/BusinessRule.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>isFilter});var isFilter=function(filterOrClause){return!filterOrClause.hasOwnProperty("operator")}},"./app/types/CustomsDeclaration.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Fk:()=>prepareCustomsDeclarationSegmentData,Lr:()=>isDeclarationEqual,QX:()=>toJSONCustomsDeclarationPayload,e8:()=>getCustomsPhoneErrors,p2:()=>requiresCustomsDeclaration,rS:()=>fromJSON});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_constants_countries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/constants/countries.ts"),_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/constants/customsDeclaration.ts"),_Address__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/types/Address.ts"),toJSONCustomsDeclarationPayload=function(customsDeclarationPayload){var _a,_b;return{aes_itn:customsDeclarationPayload.aesItn?customsDeclarationPayload.aesItn:"",b13a_filing_option:(null===(_a=customsDeclarationPayload.b13aFilingOption)||void 0===_a?void 0:_a.value)||"",b13a_number:customsDeclarationPayload.b13aNumber||"",certificate:customsDeclarationPayload.certificate,certify_signer:customsDeclarationPayload.certifySigner,contents_explanation:customsDeclarationPayload.contentsExplanation?customsDeclarationPayload.contentsExplanation:"",contents_type:customsDeclarationPayload.contentsType.value,eel_pfc:customsDeclarationPayload.eelPfc?customsDeclarationPayload.eelPfc.value:"",eori_number:customsDeclarationPayload.eoriNumber||"",exporter_reference:customsDeclarationPayload.exporterReference,id:customsDeclarationPayload.id,importer_reference:customsDeclarationPayload.importerReference,incoterm:customsDeclarationPayload.incoterm.value,invoice:customsDeclarationPayload.invoice,is_certify:customsDeclarationPayload.isCertify,license:customsDeclarationPayload.license,non_delivery_option:customsDeclarationPayload.nonDeliveryOption.value,notes:customsDeclarationPayload.notes,tax_id_number:customsDeclarationPayload.taxIdNumber||"",tax_id_type:customsDeclarationPayload.taxIdType?null===(_b=customsDeclarationPayload.taxIdType)||void 0===_b?void 0:_b.value:""}},prepareCustomsDeclarationSegmentData=function(customsDeclarationPayload){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cl)({},customsDeclarationPayload),{aes_itn:!!customsDeclarationPayload.aes_itn,b13a_number:!!customsDeclarationPayload.b13a_number,certificate:!!customsDeclarationPayload.certificate,certify_signer:!!customsDeclarationPayload.certify_signer,eori_number:!!customsDeclarationPayload.eori_number,exporter_reference:!!customsDeclarationPayload.exporter_reference,importer_reference:!!customsDeclarationPayload.importer_reference,invoice:!!customsDeclarationPayload.invoice,tax_id_number:!!customsDeclarationPayload.tax_id_number})},fromJSON=function(jsonCustomsDeclaration){return{aesItn:jsonCustomsDeclaration.aes_itn,b13aFilingOption:_constants_customsDeclaration__WEBPACK_IMPORTED_MODULE_1__.gK[jsonCustomsDeclaration.b13a_filing_option],b13aNumber:jsonCustomsDeclaration.b13a_number,certificate:jsonCustomsDeclaration.certificate,certifySigner:jsonCustomsDeclaration.certify_signer,contentsExplanation:jsonCustomsDeclaration.contents_explanation,contentsType:jsonCustomsDeclaration.contents_type,disclaimer:jsonCustomsDeclaration.disclaimer,eelPfc:jsonCustomsDeclaration.eel_pfc,eoriNumber:jsonCustomsDeclaration.exporter_identification.eori_number,exporterReference:jsonCustomsDeclaration.exporter_reference,id:jsonCustomsDeclaration.id,importerReference:jsonCustomsDeclaration.importer_reference,incoterm:jsonCustomsDeclaration.incoterm,invoice:jsonCustomsDeclaration.invoice,isCertify:jsonCustomsDeclaration.is_certify,isCommercialInvoice:jsonCustomsDeclaration.is_commercial_invoice,isTest:jsonCustomsDeclaration.is_test,license:jsonCustomsDeclaration.license,metadata:jsonCustomsDeclaration.metadata,nonDeliveryOption:jsonCustomsDeclaration.non_delivery_option,notes:jsonCustomsDeclaration.notes,objectState:jsonCustomsDeclaration.object_state,taxIdNumber:jsonCustomsDeclaration.exporter_identification.tax_id.number,taxIdType:jsonCustomsDeclaration.exporter_identification.tax_id.type}},isDeclarationEqual=function(a,b){return a.contentsType===b.contentsType&&a.contentsExplanation===b.contentsExplanation&&a.exporterReference===b.exporterReference&&a.importerReference===b.importerReference&&a.invoice===b.invoice&&a.license===b.license&&a.certificate===b.certificate&&a.eelPfc===b.eelPfc&&a.aesItn===b.aesItn&&a.nonDeliveryOption===b.nonDeliveryOption&&a.isCertify===b.isCertify&&a.certifySigner===b.certifySigner&&a.notes===b.notes&&a.b13aFilingOption===b.b13aFilingOption&&a.b13aNumber===b.b13aNumber&&a.eoriNumber===b.eoriNumber&&a.taxIdType===b.taxIdType&&a.taxIdNumber===b.taxIdNumber},requiresCustomsDeclaration=function(a,b){return!(!a||!b)&&(a.country&&a.country.iso2===_constants_countries__WEBPACK_IMPORTED_MODULE_0__.Xr.US.iso2&&b.country&&b.country.iso2===_constants_countries__WEBPACK_IMPORTED_MODULE_0__.Xr.US.iso2?(0,_Address__WEBPACK_IMPORTED_MODULE_2__.yZ)(a)||(0,_Address__WEBPACK_IMPORTED_MODULE_2__.yZ)(b)||(0,_Address__WEBPACK_IMPORTED_MODULE_2__.B2)(a)||(0,_Address__WEBPACK_IMPORTED_MODULE_2__.B2)(b):!!a.country&&!!b.country&&a.country.iso2!==b.country.iso2)},getCustomsPhoneErrors=function(_a){var addressFrom=_a.addressFrom,addressTo=_a.addressTo,isCrossBorderShipment=requiresCustomsDeclaration(addressFrom,addressTo);return{hasPhoneNumberRequiredError:isCrossBorderShipment&&!addressFrom.phone,hasPhoneNumberRequiredWarning:isCrossBorderShipment&&!(null==addressTo?void 0:addressTo.phone)}}},"./app/types/CustomsItem.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q5:()=>isEqualToPayload,eL:()=>payloadToJSON,rS:()=>fromJSON,rx:()=>customsItemToPayload});var _constants_countries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/constants/countries.ts"),_constants_currency__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/constants/currency.ts"),customsItemToPayload=(__webpack_require__("./app/constants/weight.ts"),function(customsItem){var _a,_b;return{description:customsItem.description,eccnEar99:customsItem.eccnEar99||"",id:customsItem.id,isExcluded:customsItem.isExcluded,lineItemId:customsItem.lineItemId,massUnit:{label:customsItem.convertedMassUnit,value:customsItem.convertedMassUnit},originCountry:customsItem.originCountry,originalMassUnit:{label:customsItem.originalMassUnit,value:customsItem.originalMassUnit},originalNetWeight:customsItem.originalNetWeight,originalUnitWeight:customsItem.originalUnitWeight,quantity:customsItem.quantity.toString(),skuCode:customsItem.skuCode||"",tariffNumber:customsItem.tariffNumber||"",unitValue:customsItem.unitValue.toString(),unitWeight:customsItem.convertedUnitWeight.toString(),valueCurrency:{label:(null===(_a=customsItem.valueCurrency)||void 0===_a?void 0:_a.iso)||"",value:(null===(_b=customsItem.valueCurrency)||void 0===_b?void 0:_b.iso)||""}}}),payloadToJSON=function(customsItemPayload){var _a;return{description:customsItemPayload.description,eccn_ear99:customsItemPayload.eccnEar99||"",id:customsItemPayload.id,is_excluded:customsItemPayload.isExcluded,line_item:customsItemPayload.lineItemId?customsItemPayload.lineItemId:null,mass_unit:customsItemPayload.originalMassUnit.value,origin_country:customsItemPayload.originCountry.iso2,original_mass_unit:customsItemPayload.originalMassUnit.value,original_net_weight:null===(_a=customsItemPayload.originalNetWeight)||void 0===_a?void 0:_a.toString(),original_unit_weight:customsItemPayload.originalUnitWeight.toString(),quantity:Number(customsItemPayload.quantity.toString().trim()),sku_code:customsItemPayload.skuCode,tariff_number:customsItemPayload.tariffNumber,unit_value:customsItemPayload.unitValue.toString().trim(),unit_weight:customsItemPayload.originalUnitWeight.toString(),value_currency:customsItemPayload.valueCurrency.value}},fromJSON=function(jsonCustomsItem){var mass_unit=jsonCustomsItem.converted_mass_unit,net_weight=jsonCustomsItem.converted_net_weight,unit_weight=jsonCustomsItem.converted_unit_weight,description=jsonCustomsItem.description,eccn_ear99=jsonCustomsItem.eccn_ear99,hs_code=jsonCustomsItem.hs_code,id=jsonCustomsItem.id,is_excluded=jsonCustomsItem.is_excluded,line_item=jsonCustomsItem.line_item,origin_country=jsonCustomsItem.origin_country,original_mass_unit=jsonCustomsItem.original_mass_unit,original_net_weight=jsonCustomsItem.original_net_weight,original_unit_weight=jsonCustomsItem.original_unit_weight,quantity=jsonCustomsItem.quantity,sku_code=jsonCustomsItem.sku_code,tariff_number=jsonCustomsItem.tariff_number,unit_value=jsonCustomsItem.unit_value,value_amount=jsonCustomsItem.value_amount,value_currency=jsonCustomsItem.value_currency;return{convertedMassUnit:mass_unit,convertedNetWeight:net_weight,convertedUnitWeight:Number(unit_weight),description,eccnEar99:eccn_ear99,hsCode:hs_code,id,isExcluded:is_excluded,lineItemId:line_item||void 0,originCountry:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.Xr[origin_country.toUpperCase()],originalMassUnit:original_mass_unit,originalNetWeight:original_net_weight,originalUnitWeight:original_unit_weight,quantity,skuCode:sku_code,tariffNumber:tariff_number,unitValue:Number(unit_value),valueAmount:value_amount,valueCurrency:Object.values(_constants_currency__WEBPACK_IMPORTED_MODULE_1__.q).find((function(currency){return currency.iso===(null==value_currency?void 0:value_currency.toUpperCase())}))||null}},isEqualToPayload=function(a,b){var _a;return a.lineItemId&&b.lineItemId&&a.lineItemId===b.lineItemId||a.description===b.description&&Number(a.convertedUnitWeight)===Number(b.unitWeight)&&Number(a.unitValue)===Number(b.unitValue)&&Number(a.quantity)===Number(b.quantity)&&(null===(_a=a.valueCurrency)||void 0===_a?void 0:_a.iso)===b.valueCurrency.value&&a.tariffNumber===b.tariffNumber&&a.originCountry.iso2===b.originCountry.iso2&&(a.eccnEar99===b.eccnEar99||!a.eccnEar99&&!b.eccnEar99)}},"./app/types/OrderBatchEntry.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ag:()=>getBatchEntryCustomItemsTotalWeight,S0:()=>getBatchEntryLineItemsTotalValue,S2:()=>requiresNewRates,VQ:()=>getBatchEntriesIdsSortedByRank,Yl:()=>isReadyForPurchase,ZX:()=>partialFulfillmentItemContentToJSON,f2:()=>getBatchEntryLineItemsTotalWeight,j3:()=>extrasToJSON,kc:()=>batchEntryExtendedFromJSON,p2:()=>requiresCustomsDeclaration,xW:()=>isPartialFulfillmentRequest});var tslib__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/moment/moment.js"),_constants_currency__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/constants/currency.ts"),_types_Parcel__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/types/Parcel.ts"),_utils_businessRules__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/utils/businessRules.ts"),_APIError__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./app/types/APIError.ts"),_Address__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./app/types/Address.ts"),_CustomsDeclaration__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./app/types/CustomsDeclaration.ts"),_CustomsItem__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./app/types/CustomsItem.ts"),_OrdersBatch__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./app/types/OrdersBatch.ts"),partialFulfillmentItemContentToJSON=function(_a){var lineItem=_a.lineItem,quantity=_a.quantity;return{line_item:lineItem,quantity:Number(quantity)}},lineItemLiteFromJSON=function(_a){return{objectId:_a.object_id,quantity:_a.quantity}},getBatchEntryLineItemsTotalWeight=function(beLineItems,lineItems){return null==beLineItems?void 0:beLineItems.reduce((function(summedWeight,lineItemLite){var lineItem=lineItems.find((function(x){return x.objectId===lineItemLite.objectId}));return lineItem?summedWeight+parseFloat(lineItem.unitWeight)*lineItemLite.quantity:summedWeight}),0).toFixed(2)},getBatchEntryLineItemsTotalValue=function(beLineItems,lineItems){return beLineItems.reduce((function(summedTotal,lineItemLite){var lineItem=lineItems.find((function(x){return x.objectId===lineItemLite.objectId}));return lineItem?summedTotal+parseFloat(lineItem.unitAmount)*lineItemLite.quantity:summedTotal}),0).toFixed(2)},getBatchEntryCustomItemsTotalWeight=function(batchEntry){if(!batchEntry||!batchEntry.customsItems)return 0;var totalWeight=null==batchEntry?void 0:batchEntry.customsItems.reduce((function(summedWeight,item){return summedWeight+parseFloat(item.convertedNetWeight)}),0).toFixed(2);return parseFloat(totalWeight)},batchEntryExtendedFromJSON=function(jsonBatchEntry){var _a,_b,jsonShipmentExtras,batchEntry=(0,_OrdersBatch__WEBPACK_IMPORTED_MODULE_7__.th)(jsonBatchEntry),webOrderBatchEntryParcel=(null===(_a=jsonBatchEntry.parcels)||void 0===_a?void 0:_a.length)?(0,_types_Parcel__WEBPACK_IMPORTED_MODULE_2__.rS)(jsonBatchEntry.parcels[0]):void 0;return(0,tslib__WEBPACK_IMPORTED_MODULE_8__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_8__.Cl)({},batchEntry),{addressFrom:jsonBatchEntry.address_from?_Address__WEBPACK_IMPORTED_MODULE_4__.rS(jsonBatchEntry.address_from):null,addressReturn:jsonBatchEntry.address_return?_Address__WEBPACK_IMPORTED_MODULE_4__.rS(jsonBatchEntry.address_return):null,addressTo:jsonBatchEntry.address_to?_Address__WEBPACK_IMPORTED_MODULE_4__.rS(jsonBatchEntry.address_to):null,customsDeclaration:jsonBatchEntry.customs_declaration?(0,_CustomsDeclaration__WEBPACK_IMPORTED_MODULE_5__.rS)(jsonBatchEntry.customs_declaration):void 0,customsItems:jsonBatchEntry.customs_items?jsonBatchEntry.customs_items.map(_CustomsItem__WEBPACK_IMPORTED_MODULE_6__.rS):void 0,errors:(null===(_b=null==jsonBatchEntry?void 0:jsonBatchEntry.errors)||void 0===_b?void 0:_b.map(_APIError__WEBPACK_IMPORTED_MODULE_9__.r))||[],extras:jsonBatchEntry.extras?(jsonShipmentExtras=jsonBatchEntry.extras,{alcohol:jsonShipmentExtras.alcohol?{containsAlcohol:jsonShipmentExtras.alcohol.contains_alcohol,recipientType:jsonShipmentExtras.alcohol.recipient_type}:null,dryIce:jsonShipmentExtras.dry_ice?{containsDryIce:jsonShipmentExtras.dry_ice.contains_dry_ice,weight:jsonShipmentExtras.dry_ice.weight,weightUnitId:jsonShipmentExtras.dry_ice.weight_unit_id}:null,hazmat:jsonShipmentExtras.dangerous_goods?{isBiologicalMaterial:!!jsonShipmentExtras.dangerous_goods.contains_biological_material,isHazmat:!!jsonShipmentExtras.dangerous_goods.contains,isLithiumBatteries:!!jsonShipmentExtras.dangerous_goods.contains_lithium_batteries}:null,insurance:jsonShipmentExtras.insurance?{amount:jsonShipmentExtras.insurance.amount?jsonShipmentExtras.insurance.amount:"",currency:_constants_currency__WEBPACK_IMPORTED_MODULE_1__.q[jsonShipmentExtras.insurance.currency]||_constants_currency__WEBPACK_IMPORTED_MODULE_1__.q.USD,useImportedAmount:jsonShipmentExtras.insurance.use_imported_amount}:null,isBypassAddressValidation:!!jsonShipmentExtras.is_bypass_address_validation,isBypassCustoms:!!jsonShipmentExtras.is_bypass_customs,isResidential:jsonShipmentExtras.is_residential,isReturnRequested:jsonShipmentExtras.is_return_requested||!1,packingSlipText:jsonShipmentExtras.packing_slip_text,signatureConfirmation:jsonShipmentExtras.signature_confirmation?{hasSignatureConfirmation:!!jsonShipmentExtras.signature_confirmation,signatureConfirmationType:jsonShipmentExtras.signature_confirmation}:null}):void 0,id:Number(jsonBatchEntry.id),lineItems:jsonBatchEntry.line_items?jsonBatchEntry.line_items.map(lineItemLiteFromJSON):[],parcel:jsonBatchEntry.parcel?(0,_types_Parcel__WEBPACK_IMPORTED_MODULE_2__.rS)(jsonBatchEntry.parcel):webOrderBatchEntryParcel,partialFulfillmentRank:jsonBatchEntry.partial_fulfillment_rank,preferredAccountObjectID:jsonBatchEntry.preferred_account_object_id,preferredServiceLevelToken:jsonBatchEntry.preferred_service_level_token,rules:(0,_utils_businessRules__WEBPACK_IMPORTED_MODULE_3__.rJ)((null==jsonBatchEntry?void 0:jsonBatchEntry.rules)||new Array).businessRules,shipmentDate:jsonBatchEntry.shipment_date?moment__WEBPACK_IMPORTED_MODULE_0__(jsonBatchEntry.shipment_date):null,shipmentObjectId:jsonBatchEntry.shipment_object_id,transactionObjectId:jsonBatchEntry.transaction_object_id,useImportedWeight:!!jsonBatchEntry.use_imported_weight})},extrasToJSON=function(extras){var _a;return{alcohol:extras.alcohol&&extras.alcohol.containsAlcohol?{contains_alcohol:extras.alcohol.containsAlcohol,recipient_type:extras.alcohol.recipientType}:null===extras.alcohol?null:void 0,dangerous_goods:extras.hazmat?{contains:extras.hazmat.isHazmat,contains_biological_material:extras.hazmat.isBiologicalMaterial,contains_lithium_batteries:extras.hazmat.isLithiumBatteries}:extras.hazmat,dry_ice:extras.dryIce?{contains_dry_ice:extras.dryIce.containsDryIce,weight:extras.dryIce.weight,weight_unit_id:extras.dryIce.weightUnitId}:extras.dryIce,insurance:extras.insurance?{amount:extras.insurance.useImportedAmount?void 0:extras.insurance.amount,content:"",currency:extras.insurance.currency.iso,use_imported_amount:extras.insurance.useImportedAmount}:extras.insurance,is_bypass_address_validation:extras.isBypassAddressValidation,is_bypass_customs:extras.isBypassCustoms,is_residential:extras.isResidential,is_return_requested:extras.isReturnRequested,packing_slip_text:extras.packingSlipText,signature_confirmation:(null===(_a=extras.signatureConfirmation)||void 0===_a?void 0:_a.hasSignatureConfirmation)?extras.signatureConfirmation.signatureConfirmationType:null===extras.signatureConfirmation?null:void 0}},isReadyForPurchase=function(batchEntry){return!!batchEntry&&!!batchEntry.shipmentObjectId&&batchEntry.objectStatus===_OrdersBatch__WEBPACK_IMPORTED_MODULE_7__.DO.COMPLETE_SHIPMENT},isPartialFulfillmentRequest=function(batchEntry){return batchEntry.partialFulfillmentRank>0},requiresCustomsDeclaration=function(batchEntry){var addressFrom=batchEntry.addressFrom,addressTo=batchEntry.addressTo;return!(!addressTo||!addressFrom)&&(0,_CustomsDeclaration__WEBPACK_IMPORTED_MODULE_5__.p2)(addressTo,addressFrom)},getBatchEntriesIdsSortedByRank=function(batchEntryIds,batchEntries){return batchEntryIds.map((function(beId){return batchEntries[beId]})).filter((function(be){return!!be})).sort((function(a,b){return a.partialFulfillmentRank-b.partialFulfillmentRank})).map((function(be){return be.id}))},requiresNewRates=function(batchEntry){return!batchEntry||(batchEntry.objectStatus===_OrdersBatch__WEBPACK_IMPORTED_MODULE_7__.DO.SHIPMENT_REQUEST_FAILED||batchEntry.objectStatus===_OrdersBatch__WEBPACK_IMPORTED_MODULE_7__.DO.PENDING&&null===batchEntry.shipmentObjectId&&!!batchEntry.parcel)}},"./app/types/OrdersBatch.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DO:()=>BatchEntryStatus,Sx:()=>parcelFromJSON,Wq:()=>isFailedBatchEntry,ag:()=>BatchGroupStatus,kG:()=>BatchSteps,rS:()=>fromJSON,th:()=>batchEntriesFromJSON});var BatchGroupStatus,BatchEntryStatus,moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/moment/moment.js");!function(BatchGroupStatus){BatchGroupStatus.COMPLETE="COMPLETE",BatchGroupStatus.NOT_APPLICABLE="NOT_APPLICABLE",BatchGroupStatus.PENDING="PENDING",BatchGroupStatus.PROCESSING="PROCESSING"}(BatchGroupStatus||(BatchGroupStatus={})),function(BatchEntryStatus){BatchEntryStatus.COMPLETE_SHIPMENT="COMPLETE_SHIPMENT",BatchEntryStatus.COMPLETE_TRANSACTION="COMPLETE_TRANSACTION",BatchEntryStatus.EXCLUDED_ORDER="EXCLUDED_ORDER",BatchEntryStatus.INVALID_ORDER="INVALID_ORDER",BatchEntryStatus.PENDING="PENDING",BatchEntryStatus.PROCESSING_SHIPMENT="PROCESSING_SHIPMENT",BatchEntryStatus.PROCESSING_TRANSACTION="PROCESSING_TRANSACTION",BatchEntryStatus.RATE_NOT_AVAILABLE="RATE_NOT_AVAILABLE",BatchEntryStatus.SHIPMENT_REQUEST_FAILED="SHIPMENT_REQUEST_FAILED",BatchEntryStatus.SHIPMENT_REQUEST_NOT_AVAILABLE="SHIPMENT_REQUEST_NOT_AVAILABLE",BatchEntryStatus.TRANSACTION_REQUEST_FAILED="TRANSACTION_REQUEST_FAILED",BatchEntryStatus.VALID_ORDER="VALID_ORDER",BatchEntryStatus.VALIDATING_ORDER="VALIDATING_ORDER"}(BatchEntryStatus||(BatchEntryStatus={}));var BatchSteps,parcelFromJSON=function(jsonParcel){return{distanceUnit:jsonParcel.distance_unit,height:jsonParcel.height,length:jsonParcel.length,templateToken:jsonParcel.template,useImportedOrderWeight:!1,weight:jsonParcel.weight,weightUnit:jsonParcel.mass_unit,width:jsonParcel.width}};!function(BatchSteps){BatchSteps.LABELS="LABELS",BatchSteps.NONE="NONE",BatchSteps.ORDERS_PAGE="ORDERS_PAGE",BatchSteps.PACKAGE_INFORMATION="PACKAGE_INFORMATION",BatchSteps.RATES="RATES"}(BatchSteps||(BatchSteps={}));var batchTransactionFromJSON=function(jsonBatchTransaction){return{batchEntryId:jsonBatchTransaction.batch_entry_id,objectCreated:moment__WEBPACK_IMPORTED_MODULE_0__(jsonBatchTransaction.object_created),objectId:jsonBatchTransaction.object_id,objectStatus:jsonBatchTransaction.object_status,objectUpdated:moment__WEBPACK_IMPORTED_MODULE_0__(jsonBatchTransaction.object_updated)}},batchShipmentFromJSON=function(jsonBatchShipment){return{batchEntryId:jsonBatchShipment.batch_entry_id,numRates:jsonBatchShipment.num_rates,objectCreated:moment__WEBPACK_IMPORTED_MODULE_0__(jsonBatchShipment.object_created),objectId:jsonBatchShipment.object_id,objectStatus:jsonBatchShipment.object_status,objectUpdated:moment__WEBPACK_IMPORTED_MODULE_0__(jsonBatchShipment.object_updated),selectedRateObjectId:jsonBatchShipment.selected_rate_object_id}},batchEntriesFromJSON=function(jsonBatchEntry){return{id:jsonBatchEntry.id,isReturn:jsonBatchEntry.is_return,objectCreated:moment__WEBPACK_IMPORTED_MODULE_0__(jsonBatchEntry.object_created),objectStatus:jsonBatchEntry.object_status||jsonBatchEntry.status,objectUpdated:moment__WEBPACK_IMPORTED_MODULE_0__(jsonBatchEntry.object_updated),orderObjectId:jsonBatchEntry.order_object_id||jsonBatchEntry.order_id||""}},batchOrderFromJSON=function(jsonBatchOrder){return{errors:jsonBatchOrder.errors,objectCreated:moment__WEBPACK_IMPORTED_MODULE_0__(jsonBatchOrder.object_created),objectId:normalizeObjectId(jsonBatchOrder.object_id),objectUpdated:moment__WEBPACK_IMPORTED_MODULE_0__(jsonBatchOrder.object_updated),validationStatus:jsonBatchOrder.validation_status}},fromJSON=function(jsonOrdersBatch){return{batchEntries:jsonOrdersBatch.batch_entries.map(batchEntriesFromJSON),id:jsonOrdersBatch.id,labelLimitRenewalDate:jsonOrdersBatch.label_limit_renewal_date,objectCreated:moment__WEBPACK_IMPORTED_MODULE_0__(jsonOrdersBatch.object_created),objectUpdated:moment__WEBPACK_IMPORTED_MODULE_0__(jsonOrdersBatch.object_updated),orderGroupStatus:jsonOrdersBatch.order_group_status,orders:jsonOrdersBatch.orders.map(batchOrderFromJSON),remainingLabels:jsonOrdersBatch.remaining_labels_until_limit,returnShipmentGroupStatus:jsonOrdersBatch.return_shipment_group_status,returnTransactionGroupStatus:jsonOrdersBatch.return_transaction_group_status,shipmentGroupStatus:jsonOrdersBatch.shipment_group_status,shipments:jsonOrdersBatch.shipments.map(batchShipmentFromJSON),transactionGroupStatus:jsonOrdersBatch.transaction_group_status,transactions:jsonOrdersBatch.transactions.map(batchTransactionFromJSON)}},isFailedBatchEntry=function(batchEntry){return batchEntry.objectStatus===BatchEntryStatus.INVALID_ORDER||batchEntry.objectStatus===BatchEntryStatus.SHIPMENT_REQUEST_FAILED||batchEntry.objectStatus===BatchEntryStatus.TRANSACTION_REQUEST_FAILED},normalizeObjectId=function(objectId){return objectId.replace(new RegExp("-","g"),"")}},"./app/types/Parcel.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{OS:()=>getExtrasData,On:()=>getParcelData,U2:()=>toJSON,gY:()=>getTemplateName,lL:()=>toParcelTemplate,rS:()=>fromJSON,uN:()=>fromParcelTemplate});var tslib__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_constants_distance__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/constants/distance.ts"),_constants_weight__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/constants/weight.ts"),_types_CarrierParcelTemplate__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/types/CarrierParcelTemplate.ts"),_types_ParcelTemplate__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/types/ParcelTemplate.ts"),_types_SignatureConfirmation__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./app/types/SignatureConfirmation.ts"),_utils_newRelic_newRelic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./app/utils/newRelic/newRelic.ts"),fromJSON=function(jsonParcel){var weight=jsonParcel.weight;try{weight=Number(weight).toFixed(2)}catch(error){_utils_newRelic_newRelic__WEBPACK_IMPORTED_MODULE_5__.S.noticeError("Failed to parse parcel weight",{error,weight})}return{carrierParcelTemplate:jsonParcel.carrier_parcel_template&&(0,_types_CarrierParcelTemplate__WEBPACK_IMPORTED_MODULE_2__.rS)(jsonParcel.carrier_parcel_template),distanceUnit:jsonParcel.distance_unit,height:jsonParcel.height,length:jsonParcel.length,userParcelTemplate:jsonParcel.user_parcel_template&&(0,_types_ParcelTemplate__WEBPACK_IMPORTED_MODULE_3__.rS)(jsonParcel.user_parcel_template),weight,weightUnit:jsonParcel.mass_unit,width:jsonParcel.width}},toJSON=function(parcel){return{carrier_parcel_template:parcel.carrierParcelTemplate&&(0,_types_CarrierParcelTemplate__WEBPACK_IMPORTED_MODULE_2__.U2)(parcel.carrierParcelTemplate),distance_unit:parcel.distanceUnit,height:parcel.height,length:parcel.length,mass_unit:parcel.weightUnit,use_imported_order_weight:parcel.useImportedOrderWeight,user_parcel_template:parcel.userParcelTemplate&&(0,_types_ParcelTemplate__WEBPACK_IMPORTED_MODULE_3__.U2)(parcel.userParcelTemplate),weight:parcel.weight,width:parcel.width}},getParcelData=function(data){if(data.extras.isUsingCustomDimensions&&data.customDimensions&&!data.extras.carrierTemplateWithCustomDimensions)return{carrierParcelTemplate:null,distanceUnit:data.customDimensions.distanceUnit.value.toString(),height:data.customDimensions.height,length:data.customDimensions.length,useImportedOrderWeight:data.useImportedOrderWeight,userParcelTemplate:null,weight:data.weight,weightUnit:data.weightUnit.value.toString(),width:data.customDimensions.width};var parcelTemplate=data.parcelTemplate;if(parcelTemplate&&(0,_types_ParcelTemplate__WEBPACK_IMPORTED_MODULE_3__.MS)(parcelTemplate)){if(parcelTemplate.carrierTemplate){var carrierTemplate=parcelTemplate.carrierTemplate;return{carrierParcelTemplate:null,distanceUnit:_constants_distance__WEBPACK_IMPORTED_MODULE_0__.S[carrierTemplate.distanceUnit],height:carrierTemplate.height.toString(),length:carrierTemplate.length.toString(),useImportedOrderWeight:data.useImportedOrderWeight,userParcelTemplate:data.parcelTemplate&&(0,_types_ParcelTemplate__WEBPACK_IMPORTED_MODULE_3__.MS)(data.parcelTemplate)?data.parcelTemplate:null,weight:data.weight,weightUnit:_constants_weight__WEBPACK_IMPORTED_MODULE_1__.bm[String(data.weightUnit.value)],width:carrierTemplate.width.toString()}}return{carrierParcelTemplate:null,distanceUnit:_constants_distance__WEBPACK_IMPORTED_MODULE_0__.S[parcelTemplate.distanceUnit],height:parcelTemplate.height.toString(),length:parcelTemplate.length.toString(),useImportedOrderWeight:data.useImportedOrderWeight,userParcelTemplate:data.parcelTemplate&&(0,_types_ParcelTemplate__WEBPACK_IMPORTED_MODULE_3__.MS)(data.parcelTemplate)?data.parcelTemplate:null,weight:data.weight,weightUnit:_constants_weight__WEBPACK_IMPORTED_MODULE_1__.bm[String(data.weightUnit.value)],width:parcelTemplate.width.toString()}}return data.extras.carrierTemplateWithCustomDimensions&&data.customDimensions?{carrierParcelTemplate:parcelTemplate,distanceUnit:data.customDimensions.distanceUnit.value.toString(),height:data.customDimensions.height.toString()||"0",length:data.customDimensions.length.toString(),useImportedOrderWeight:data.useImportedOrderWeight,userParcelTemplate:null,weight:data.weight,weightUnit:_constants_weight__WEBPACK_IMPORTED_MODULE_1__.bm[String(data.weightUnit.value)],width:data.customDimensions.width.toString()}:{carrierParcelTemplate:parcelTemplate,distanceUnit:_constants_distance__WEBPACK_IMPORTED_MODULE_0__.S[parcelTemplate.distanceUnit],height:parcelTemplate.height.toString(),length:parcelTemplate.length.toString(),useImportedOrderWeight:data.useImportedOrderWeight,userParcelTemplate:null,weight:data.weight,weightUnit:_constants_weight__WEBPACK_IMPORTED_MODULE_1__.bm[String(data.weightUnit.value)],width:parcelTemplate.width.toString()}},getExtrasData=function(data){return{alcohol:data.alcohol.containsAlcohol?{containsAlcohol:data.alcohol.containsAlcohol,recipientType:data.alcohol.recipientType.value}:null,dryIce:data.dryIce.containsDryIce?{containsDryIce:data.dryIce.containsDryIce,weight:data.dryIce.weight,weightUnitId:data.dryIce.weightUnitId}:null,hazmat:data.hazmat?{isBiologicalMaterial:data.hazmat.containsBiologicalMaterial,isHazmat:data.hazmat.containsHazmat,isLithiumBatteries:data.hazmat.containsLithiumBatteries}:void 0,isReturnRequested:data.isReturnRequested,signatureConfirmation:data.alcohol.containsAlcohol?{hasSignatureConfirmation:!0,signatureConfirmationType:_types_SignatureConfirmation__WEBPACK_IMPORTED_MODULE_4__.A.ADULT}:void 0}},toParcelTemplate=function(parcel){var templateBase={weight:parseFloat(parcel.weight),weightUnit:_constants_weight__WEBPACK_IMPORTED_MODULE_1__.bm[parcel.weightUnit]};return parcel.userParcelTemplate?(0,tslib__WEBPACK_IMPORTED_MODULE_6__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_6__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_6__.Cl)({},parcel.userParcelTemplate),{distanceUnit:_constants_distance__WEBPACK_IMPORTED_MODULE_0__.S[parcel.distanceUnit],height:parseFloat(parcel.height),length:parseFloat(parcel.length),width:parseFloat(parcel.width)}),templateBase):(0,tslib__WEBPACK_IMPORTED_MODULE_6__.Cl)({carrierTemplate:parcel.carrierParcelTemplate,distanceUnit:_constants_distance__WEBPACK_IMPORTED_MODULE_0__.S[parcel.distanceUnit],height:parseFloat(parcel.height),isDefault:!1,length:parseFloat(parcel.length),name:"",width:parseFloat(parcel.width)},templateBase)},fromParcelTemplate=function(parcelTemplate){return{carrierParcelTemplate:null,distanceUnit:parcelTemplate.distanceUnit,height:parcelTemplate.height.toString(),length:parcelTemplate.length.toString(),userParcelTemplate:parcelTemplate,weight:parcelTemplate.weight.toString(),weightUnit:parcelTemplate.weightUnit,width:parcelTemplate.width.toString()}},getTemplateName=function(parcel){var _a,_b,_c,_d;return(null===(_b=null===(_a=parcel.userParcelTemplate)||void 0===_a?void 0:_a.carrierTemplate)||void 0===_b?void 0:_b.name)||matchesTemplate(parcel,parcel.userParcelTemplate)&&(null===(_c=parcel.userParcelTemplate)||void 0===_c?void 0:_c.name)||(null===(_d=parcel.carrierParcelTemplate)||void 0===_d?void 0:_d.name)||null},matchesTemplate=function(parcel,template){var _a;return parseFloat(parcel.length)===(null==template?void 0:template.length)&&parseFloat(parcel.width)===(null==template?void 0:template.width)&&parseFloat(parcel.height)===(null==template?void 0:template.height)&&parcel.distanceUnit===(null===(_a=null==template?void 0:template.distanceUnit)||void 0===_a?void 0:_a.toString())}},"./app/types/SignatureConfirmation.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var SignatureConfirmation;__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__}),function(SignatureConfirmation){SignatureConfirmation.ADULT="ADULT",SignatureConfirmation.CARRIER_CONFIRMATION="CARRIER_CONFIRMATION",SignatureConfirmation.CERTIFIED="CERTIFIED",SignatureConfirmation.INDIRECT="INDIRECT",SignatureConfirmation.STANDARD="STANDARD"}(SignatureConfirmation||(SignatureConfirmation={}));const __WEBPACK_DEFAULT_EXPORT__=SignatureConfirmation},"./app/utils/businessRules.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M4:()=>approximateServiceLevelNameFromToken,Sx:()=>ruleReprocessingCompleteOrErrored,_h:()=>generateReorderRulesPayload,aJ:()=>filterRulesToShow,rJ:()=>parseBusinessRules,re:()=>formatDescriptionByFieldType});var _a,_b,RuleTypes,_components_Select_options__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/components/Select/options.ts"),_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/constants/automationRuleForm.ts"),_constants_countries__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/constants/countries.ts"),_constants_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/constants/operators.ts"),_constants_rules__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./app/constants/rules.ts"),_types_APIAddress__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./app/types/APIAddress.ts"),_types_Address__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./app/types/Address.ts"),_types_BusinessRule__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./app/types/BusinessRule.ts"),_types_ParcelTemplate__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./app/types/ParcelTemplate.ts");!function(RuleTypes){RuleTypes.Insurance="INSURANCE",RuleTypes.ParcelTemplate="PARCEL_TEMPLATE"}(RuleTypes||(RuleTypes={}));var filterRulesToShow=function(rules){return rules?null==rules?void 0:rules.filter((function(rule){return null==rule?void 0:rule.name})):[]},parseBusinessRules=function(rules){var associatedPackageTemplateIds=[],businessRules=rules.map((function(rule){var businessRule={accountObjectId:rule.account_object_id,description:rule.description,name:rule.name,objectId:rule.object_id,objectUpdated:new Date(rule.object_updated),rankDesc:rule.rank_desc,ruleType:rule.rule_type,senderAPIAddress:_types_APIAddress__WEBPACK_IMPORTED_MODULE_5__.rS(rule.sender_address)||void 0,serviceLevelToken:rule.service_level_token,tagId:rule.tag_id,userParcelTemplate:(0,_types_ParcelTemplate__WEBPACK_IMPORTED_MODULE_7__.rS)(rule.user_parcel_template)};return rule.filter_group&&saveFilterGroupData(businessRule,rule.filter_group),setBusinessRuleNameAndDescription(businessRule),rule.user_parcel_template&&associatedPackageTemplateIds.push(rule.user_parcel_template.object_id),businessRule}));return{associatedPackageTemplateIds,businessRules}},comparatorMap=((_a={})[_constants_operators__WEBPACK_IMPORTED_MODULE_3__.Mh.ENDS_WITH]={symbol:"ends with",word:"ends with"},_a[_constants_operators__WEBPACK_IMPORTED_MODULE_3__.Mh.EQ]={symbol:"=",word:"is equal to"},_a[_constants_operators__WEBPACK_IMPORTED_MODULE_3__.Mh.GT]={symbol:">",word:"is greater than"},_a[_constants_operators__WEBPACK_IMPORTED_MODULE_3__.Mh.GTE]={symbol:">=",word:"is greater than or equal to"},_a[_constants_operators__WEBPACK_IMPORTED_MODULE_3__.Mh.IN]={symbol:"in",word:"is in"},_a[_constants_operators__WEBPACK_IMPORTED_MODULE_3__.Mh.INCLUDES]={symbol:"includes",word:"includes"},_a[_constants_operators__WEBPACK_IMPORTED_MODULE_3__.Mh.LT]={symbol:"<",word:"is less than"},_a[_constants_operators__WEBPACK_IMPORTED_MODULE_3__.Mh.LTE]={symbol:"<=",word:"is less than or equal to"},_a[_constants_operators__WEBPACK_IMPORTED_MODULE_3__.Mh.NEQ]={symbol:"!=",word:"is not equal to"},_a[_constants_operators__WEBPACK_IMPORTED_MODULE_3__.Mh.STARTS_WITH]={symbol:"starts with",word:"starts with"},_a),parseFilterOrClauseData=function(jsonFilterOrClause){return(0,_types_BusinessRule__WEBPACK_IMPORTED_MODULE_8__.v)(jsonFilterOrClause)?parseFilterData(jsonFilterOrClause):parseFilterClauseData(jsonFilterOrClause)},parseFilterClauseData=function(jsonFilterClause){return{filters:jsonFilterClause.filters.map(parseFilterOrClauseData),operator:jsonFilterClause.operator}},parseFilterData=function(jsonFilter){var filterValue=jsonFilter.filter_values[0];jsonFilter.field===_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.IS_INTERNATIONAL&&(jsonFilter.field=_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.SHIPPING_DESTINATION,filterValue.text=filterValue.boolean?_components_Select_options__WEBPACK_IMPORTED_MODULE_0__.kw.value.toString():_components_Select_options__WEBPACK_IMPORTED_MODULE_0__.QL.value.toString());var value=setValueByFilterType(jsonFilter.field,filterValue);return{comparator:jsonFilter.comparator,comparatorString:comparatorMap[jsonFilter.comparator].word,field:_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1[jsonFilter.field],filterValues:jsonFilter.filter_values,id:jsonFilter.id,symbolString:"".concat(comparatorMap[jsonFilter.comparator].symbol," ").concat(value),value,wordString:"".concat(comparatorMap[jsonFilter.comparator].word," ").concat(value)}},saveFilterGroupData=function(rule,filterGroup){var _a,filters=(null===(_a=null==filterGroup?void 0:filterGroup.filters)||void 0===_a?void 0:_a.map(parseFilterOrClauseData))||[],fg={filterEntity:filterGroup.filter_entity,filters,id:filterGroup.id,objectId:filterGroup.object_id};rule.filterGroup=fg},filterTypeProperties=((_b={})[_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.IS_INTERNATIONAL]={name:"Shipping destination",prefix:"Shipping destination is"},_b[_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.ITEM_SKU]={name:"Item SKU",prefix:"Item SKU"},_b[_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.ORDER_ITEM_QUANTITY]={name:"Order item quantity",prefix:"Order item quantity"},_b[_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.PRODUCT_NAME]={name:"Product name",prefix:"Product name"},_b[_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.SHIPPING_COUNTRIES]={name:"Shipping countries",prefix:"Shipping to countries including"},_b[_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.SHIPPING_DESTINATION]={name:"Shipping destination",prefix:"Shipping destination is"},_b[_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.SHIPPING_STATES]={name:"Shipping states",prefix:"Shipping to states in"},_b[_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.SHIPPING_ZIPCODES]={name:"Shipping zip codes",prefix:"Shipping to zip codes in"},_b[_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.WEIGHT]={name:"Order weight",prefix:"Order weight"},_b),getFilterTypeProperty=function(filterType,propertyName){if(filterTypeProperties[filterType])return filterTypeProperties[filterType][propertyName]},setValueByFilterType=function(filterType,filterValue){var ITEM_SKU=_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.ITEM_SKU,ORDER_ITEM_QUANTITY=_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.ORDER_ITEM_QUANTITY,PRODUCT_NAME=_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.PRODUCT_NAME,SHIPPING_COUNTRIES=_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.SHIPPING_COUNTRIES,QUOTE_TEXT_FILTER_GROUP=[PRODUCT_NAME,ITEM_SKU],VALUE_FILTER_GROUP=[ORDER_ITEM_QUANTITY],TEXT_FILTER_GROUP=[_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.SHIPPING_DESTINATION,_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.SHIPPING_STATES,_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.SHIPPING_ZIPCODES,SHIPPING_COUNTRIES];return[_constants_automationRuleForm__WEBPACK_IMPORTED_MODULE_1__.s1.WEIGHT].includes(filterType)?"".concat(filterValue.value," ").concat(filterValue.enum,"s"):QUOTE_TEXT_FILTER_GROUP.includes(filterType)?'"'.concat(filterValue.text,'"'):VALUE_FILTER_GROUP.includes(filterType)?"".concat(filterValue.value):TEXT_FILTER_GROUP.includes(filterType)?"".concat(filterValue.text):""},getName=function(filterOrClause){if((0,_types_BusinessRule__WEBPACK_IMPORTED_MODULE_8__.v)(filterOrClause)){var filter=filterOrClause,namePrefix=getFilterTypeProperty(filter.field,"name");return"".concat(namePrefix," ").concat(filter.symbolString)}var filterClause=filterOrClause,subfilters=filterClause.filters.map(getName);return"(".concat(subfilters.join(" "+filterClause.operator+" "),")")},parseSerializedFilterValue=function(filterValue){var parsedFilterValue,country;try{parsedFilterValue=JSON.parse(filterValue),country=_constants_countries__WEBPACK_IMPORTED_MODULE_2__.Xr[null==parsedFilterValue?void 0:parsedFilterValue.country].name}catch(err){return{country,parsedFilterValue}}return{country,parsedFilterValue}},formatDescriptionByFieldType=function(filter){var _a,_b,_c,_d,_e,_f,_g,_h,parsedFV,namePrefix=getFilterTypeProperty(filter.field,"prefix");switch(filter.field){case"SHIPPING_STATES":parsedFV=parseSerializedFilterValue(filter.value);var states=void 0;if(Array.isArray(null===(_a=parsedFV.parsedFilterValue)||void 0===_a?void 0:_a.states))states=parsedFV.parsedFilterValue.states.reduce((function(acc,current){return"".concat(acc).concat(acc?",":""," ").concat(current.label)}),"");else{var countryIso=_constants_countries__WEBPACK_IMPORTED_MODULE_2__.Xr[null===(_b=parsedFV.parsedFilterValue)||void 0===_b?void 0:_b.country],countryStates=(0,_types_Address__WEBPACK_IMPORTED_MODULE_6__.HB)(countryIso)||[],stateOptions_1=countryStates.length>0?(0,_types_Address__WEBPACK_IMPORTED_MODULE_6__.s4)(countryStates):[];states=(null===(_c=parsedFV.parsedFilterValue)||void 0===_c?void 0:_c.states)&&parsedFV.parsedFilterValue.states.length>0?null===(_e=null===(_d=parsedFV.parsedFilterValue.states.split(","))||void 0===_d?void 0:_d.map((function(state){var stateOption=stateOptions_1.find((function(stateOption){return(null==stateOption?void 0:stateOption.value)===state}));return(null==stateOption?void 0:stateOption.label)||state})))||void 0===_e?void 0:_e.join(", "):""}return{prefix:"".concat(namePrefix," ").concat(parsedFV.country," including"),value:states.trim()};case"SHIPPING_ZIPCODES":return parsedFV=parseSerializedFilterValue(filter.value),{prefix:"".concat(namePrefix," ").concat(parsedFV.country," equal to"),value:"".concat((null===(_f=parsedFV.parsedFilterValue)||void 0===_f?void 0:_f.zipcodes)||"")};case"SHIPPING_COUNTRIES":var countriesString=(null===(_h=null===(_g=filter.value)||void 0===_g?void 0:_g.split(",").map((function(countryValue){var _a;return(null===(_a=_constants_countries__WEBPACK_IMPORTED_MODULE_2__.Xr[countryValue])||void 0===_a?void 0:_a.name)||""})))||void 0===_h?void 0:_h.join(", "))||"";return{prefix:"".concat(namePrefix),value:countriesString};default:return{prefix:"".concat(namePrefix," ").concat(filter.comparatorString),value:filter.value}}},setBusinessRuleNameAndDescription=function(rule){if(function(rule){return!(rule.name&&rule.description||rule.ruleType===RuleTypes.Insurance)}(rule)&&rule.filterGroup){var fg=rule.filterGroup;rule.name||(rule.name=fg.filters.map(getName).join(" and "))}},generateReorderRulesPayload=function(rules){return rules.map((function(rule){return{object_id:rule.objectId,rank:rule.rankDesc}}))},ruleReprocessingCompleteOrErrored=function(status){return[_constants_rules__WEBPACK_IMPORTED_MODULE_4__.ri.complete,_constants_rules__WEBPACK_IMPORTED_MODULE_4__.ri.error].includes(status)},approximateServiceLevelNameFromToken=function(token){return token.split("_").map((function(str){return str.charAt(0).toUpperCase()+str.slice(1)})).join(" ")}}}]);