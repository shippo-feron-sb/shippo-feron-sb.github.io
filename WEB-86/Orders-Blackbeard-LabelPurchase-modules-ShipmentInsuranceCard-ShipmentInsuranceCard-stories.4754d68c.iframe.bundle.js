(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[9607],{"./app/assets/icons/icon_close_dark_gray.svg":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"11ea1e7b9e1a66b45e38548d461d3a95.svg"},"./app/constants/signatureConfirmation.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{HV:()=>STANDARD_COST,f0:()=>ADULT_COST});var _a,pages_Orders_Blackbeard_LabelPurchase_modules_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/types.ts"),standardSignatureConfirmationOption={value:pages_Orders_Blackbeard_LabelPurchase_modules_types__WEBPACK_IMPORTED_MODULE_0__.XR.STANDARD,label:"Anyone can sign"},adultSignatureConfirmationOption={value:pages_Orders_Blackbeard_LabelPurchase_modules_types__WEBPACK_IMPORTED_MODULE_0__.XR.ADULT,label:"An adult must sign",addToolTip:!0},STANDARD_COST=((_a={})[pages_Orders_Blackbeard_LabelPurchase_modules_types__WEBPACK_IMPORTED_MODULE_0__.XR.ADULT]=adultSignatureConfirmationOption,_a[pages_Orders_Blackbeard_LabelPurchase_modules_types__WEBPACK_IMPORTED_MODULE_0__.XR.STANDARD]=standardSignatureConfirmationOption,2),ADULT_COST=5},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/Card/Card.styled.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I3:()=>CardAccordion,JU:()=>CardContentWithNormalPadding,_L:()=>CardContainer,ee:()=>CardAccordionSummary,qp:()=>CardBlock,rD:()=>CardAccordionSummaryButton});var templateObject_1,templateObject_2,templateObject_3,templateObject_4,templateObject_5,tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/icons-material/esm/ExpandMore.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@goshippo/components/esm/Accordion/Accordion.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@goshippo/components/esm/Accordion/AccordionSummary/AccordionSummary.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@goshippo/components/esm/CardContent/CardContent.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),CardContainer=(0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.ZP)(_goshippo_components__WEBPACK_IMPORTED_MODULE_1__.Z)((function(){return{border:"1px solid",borderColor:_goshippo_components__WEBPACK_IMPORTED_MODULE_2__.O.gray30,borderRadius:"4px"}})),CardAccordion=((0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.ZP)(_goshippo_components__WEBPACK_IMPORTED_MODULE_3__.Z)(templateObject_1||(templateObject_1=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.cy)(["\n  color: ",";\n"],["\n  color: ",";\n"])),_goshippo_components__WEBPACK_IMPORTED_MODULE_5__.Z.palette.text.secondary),(0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.ZP)(_goshippo_components__WEBPACK_IMPORTED_MODULE_6__.Z)(templateObject_2||(templateObject_2=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.cy)(["\n  padding: 0;\n  border-bottom: 0px;\n"],["\n  padding: 0;\n  border-bottom: 0px;\n"])))),CardAccordionSummary=(0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.ZP)(_goshippo_components__WEBPACK_IMPORTED_MODULE_7__.Z)(templateObject_3||(templateObject_3=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.cy)(["\n  .MuiAccordionSummary-content {\n    max-width: calc(100% - "," * 2);\n    margin: ",";\n\n    display: grid;\n    grid-template-columns: calc(100% / 3) calc(100% / 3 * 2);\n    align-items: center;\n  }\n\n  & .MuiAccordionSummary-expandIconWrapper {\n    margin-right: 1.5rem;\n  }\n"],["\n  .MuiAccordionSummary-content {\n    max-width: calc(100% - "," * 2);\n    margin: ",";\n\n    display: grid;\n    grid-template-columns: calc(100% / 3) calc(100% / 3 * 2);\n    align-items: center;\n  }\n\n  & .MuiAccordionSummary-expandIconWrapper {\n    margin-right: 1.5rem;\n  }\n"])),"1rem","1rem"),CardBlock=(0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.ZP)(_goshippo_components__WEBPACK_IMPORTED_MODULE_1__.Z)(templateObject_4||(templateObject_4=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.cy)(["\n  padding: 1rem;\n  border-bottom: 1px solid ",";\n  &:first-of-type {\n    border-top: none;\n  }\n  &:last-of-type {\n    border-bottom: 0px;\n  }\n"],["\n  padding: 1rem;\n  border-bottom: 1px solid ",";\n  &:first-of-type {\n    border-top: none;\n  }\n  &:last-of-type {\n    border-bottom: 0px;\n  }\n"])),_goshippo_components__WEBPACK_IMPORTED_MODULE_5__.Z.palette.grey[300]),CardContentWithNormalPadding=(0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.ZP)(_goshippo_components__WEBPACK_IMPORTED_MODULE_8__.Z)((function(_a){return{":last-child":{paddingBottom:_a.theme.spacing(2)}}})),CardAccordionSummaryButton=(0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.ZP)(_goshippo_components__WEBPACK_IMPORTED_MODULE_9__.Z,{shouldForwardProp:function(prop){return"hasError"!==prop}})(templateObject_5||(templateObject_5=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.cy)(["\n  max-width: 100%;\n  &.MuiButton-root {\n    justify-content: flex-end;\n    gap: 0.5rem !important;\n  }\n\n  & .MuiButton-endIcon > .MuiSvgIcon-root {\n    color: ",";\n    font-size: 1.5rem;\n  }\n\n  p,\n  div {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"],["\n  max-width: 100%;\n  &.MuiButton-root {\n    justify-content: flex-end;\n    gap: 0.5rem !important;\n  }\n\n  & .MuiButton-endIcon > .MuiSvgIcon-root {\n    color: ",";\n    font-size: 1.5rem;\n  }\n\n  p,\n  div {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"])),(function(props){return props.hasError?_goshippo_components__WEBPACK_IMPORTED_MODULE_2__.O.white:_goshippo_components__WEBPACK_IMPORTED_MODULE_2__.O.text.secondary}))},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T$:()=>ShipmentExtraContainer,Zj:()=>ShipmentExtrasSpacer});var templateObject_1,templateObject_2,tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),ShipmentExtraContainer=(0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.ZP)("div")(templateObject_1||(templateObject_1=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.cy)(["\n  display: flex;\n  flex-direction: column;\n"],["\n  display: flex;\n  flex-direction: column;\n"]))),ShipmentExtrasSpacer=(0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.ZP)(_goshippo_components__WEBPACK_IMPORTED_MODULE_2__.Z)(templateObject_2||(templateObject_2=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.cy)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"],["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"])))},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{md:()=>getInsuranceCost,Nu:()=>utils_insuranceModalContent,$E:()=>utils_insuredAmountFromLineItems,Uv:()=>utils_lineItemsFromPartialOrder,do:()=>paramsForOnSaveInsurance});var constants_currency=__webpack_require__("./app/constants/currency.ts"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),tslib_es6=(__webpack_require__("./app/utils/segment/index.ts"),__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/types.ts"),__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/types.ts"),__webpack_require__("./node_modules/tslib/tslib.es6.js")),index_umd=__webpack_require__("./node_modules/country-to-currency/index.umd.js"),index_umd_default=__webpack_require__.n(index_umd);function orderCurrency(currencyIso){return currencyIso?constants_currency.Q[currencyIso]:void 0}var helpers_DEFAULT_INSURANCE_MODAL_AMOUNT=125,DEFAULT_INSURANCE_MODAL_AMOUNTS={USD:125,CAD:150,GBP:100,MXN:2e3,EUR:100};function insuranceFormCurrencyAndAmount(extrasInsurance,order,partialOrderLineItems,batchEntry){var _a,_b,_c,_d,itemCurrencies,currency;if((null==extrasInsurance?void 0:extrasInsurance.currency)&&constants_currency.Q[extrasInsurance.currency.iso])return{currency:extrasInsurance.currency,amount:+(null==extrasInsurance?void 0:extrasInsurance.amount)||DEFAULT_INSURANCE_MODAL_AMOUNTS[extrasInsurance.currency.iso]||helpers_DEFAULT_INSURANCE_MODAL_AMOUNT};if(partialOrderLineItems){var partialOrderCurrencies=(0,tslib_es6.ev)([],(0,tslib_es6.CR)(new Set(partialOrderLineItems.map((function(lineItem){return lineItem.currency})).filter((function(lineItem){return!!(null==lineItem?void 0:lineItem.iso)})))),!1);if(1===partialOrderCurrencies.length)return{currency:partialOrderCurrencies[0],amount:partialOrderLineItems.reduce((function(acc,curr){return acc+ +curr.totalAmount}),0)||helpers_DEFAULT_INSURANCE_MODAL_AMOUNT}}if((null==order?void 0:order.lineItems)&&order.lineItems.length>0&&1===(itemCurrencies=(0,tslib_es6.ev)([],(0,tslib_es6.CR)(new Set(order.lineItems.map((function(lineItem){return lineItem.currency})).filter((function(lineItem){return!!(null==lineItem?void 0:lineItem.iso)})))),!1)).length)return{currency:itemCurrencies[0],amount:order.lineItems.reduce((function(acc,curr){return acc+ +curr.totalAmount}),0)||helpers_DEFAULT_INSURANCE_MODAL_AMOUNT};if((null==batchEntry?void 0:batchEntry.customsItems)&&batchEntry.customsItems.length>0&&1===(itemCurrencies=(0,tslib_es6.ev)([],(0,tslib_es6.CR)(new Set(batchEntry.customsItems.map((function(customsItem){return customsItem.valueCurrency})).filter((function(customsItem){return!!(null==customsItem?void 0:customsItem.iso)})))),!1)).length)return{currency:itemCurrencies[0],amount:batchEntry.customsItems.reduce((function(acc,curr){return acc+ +curr.valueAmount}),0)||helpers_DEFAULT_INSURANCE_MODAL_AMOUNT};return(null==order?void 0:order.currency)&&orderCurrency(order.currency)?{currency:currency=orderCurrency(order.currency)||constants_currency.Q.USD,amount:+((null==order?void 0:order.totalPrice)||(null==order?void 0:order.subtotalPrice)||"")||DEFAULT_INSURANCE_MODAL_AMOUNTS[currency.iso]||helpers_DEFAULT_INSURANCE_MODAL_AMOUNT}:(null===(_b=null===(_a=null==batchEntry?void 0:batchEntry.addressFrom)||void 0===_a?void 0:_a.country)||void 0===_b?void 0:_b.iso2)&&index_umd_default()[batchEntry.addressFrom.country.iso2]?{currency:currency=constants_currency.Q[index_umd_default()[batchEntry.addressFrom.country.iso2]]||constants_currency.Q.USD,amount:DEFAULT_INSURANCE_MODAL_AMOUNTS[currency.iso]||helpers_DEFAULT_INSURANCE_MODAL_AMOUNT}:(null===(_d=null===(_c=null==order?void 0:order.addressFrom)||void 0===_c?void 0:_c.country)||void 0===_d?void 0:_d.iso2)&&index_umd_default()[order.addressFrom.country.iso2]?{currency:currency=constants_currency.Q[index_umd_default()[order.addressFrom.country.iso2]]||constants_currency.Q.USD,amount:DEFAULT_INSURANCE_MODAL_AMOUNTS[currency.iso]||helpers_DEFAULT_INSURANCE_MODAL_AMOUNT}:{currency:constants_currency.Q.USD,amount:DEFAULT_INSURANCE_MODAL_AMOUNTS.USD}}var paramsForOnSaveInsurance=function(newInsuranceValues){return{insurance:newInsuranceValues.hasInsurance?{amount:"".concat(newInsuranceValues.amount.replace(/,/g,"")),currency:newInsuranceValues.currency,useImportedAmount:!1}:null}},utils_insuredAmountFromLineItems=function(lineItems){var output=null==lineItems?void 0:lineItems.map((function(i){return+i.totalAmount})).reduce((function(curr,accum){return curr+accum}),0);return(0,lodash.isFinite)(output)?output:0},utils_insuranceModalContent=function(extrasInsurance,order,partialOrderLineItems,batchEntry){var currencyAndAmount=insuranceFormCurrencyAndAmount(extrasInsurance,order,partialOrderLineItems,batchEntry);return{hasInsurance:!!extrasInsurance,amount:"".concat(currencyAndAmount.amount),useImportedAmount:!1,currency:currencyAndAmount.currency}},utils_lineItemsFromPartialOrder=function(orderLineItems,batchEntryLineItems){if(orderLineItems&&batchEntryLineItems){var targetLineItems=batchEntryLineItems.reduce((function(accum,curr){return accum[curr.objectId]=!0,accum}),{}),output=orderLineItems.filter((function(lineItem){return!!targetLineItems[lineItem.objectId]}));return output.length?output:void 0}},getInsuranceCost=function(userInsuranceRate,declaredValue,numOrdersSelected){return void 0===numOrdersSelected&&(numOrdersSelected=1),userInsuranceRate<1?numOrdersSelected*insuranceUnits(declaredValue)*(100*userInsuranceRate):numOrdersSelected*Math.max(insuranceUnits(declaredValue)*userInsuranceRate,1)},INSURANCE_VALUE_UNIT=100;function insuranceUnits(declaredValue){var units=declaredValue/INSURANCE_VALUE_UNIT;return Math.max(units,0)}},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{JK:()=>SelectedParcelType,XR:()=>blackbeardSignatureConfirmation,bj:()=>blackbeardDistanceUnit});var blackbeardDistanceUnit={CM:"cm",IN:"in",MM:"mm"};var SelectedParcelType=function(){function SelectedParcelType(oneOffBoxOrTubeSelected,oneOffPolymailerSelected,selectedUserParcelTemplate,selectedCarrierParcelTemplate){this.oneOffBoxOrTubeSelected=oneOffBoxOrTubeSelected,this.oneOffPolymailerSelected=oneOffPolymailerSelected,this.selectedUserParcelTemplate=selectedUserParcelTemplate,this.selectedCarrierParcelTemplate=selectedCarrierParcelTemplate}return SelectedParcelType.unselected=function(){return new SelectedParcelType(!1,!1)},SelectedParcelType.selectCustomBoxOrTube=function(){return new SelectedParcelType(!0,!1)},SelectedParcelType.selectCustomPolymailer=function(){return new SelectedParcelType(!1,!0)},SelectedParcelType.selectUserParcelTemplate=function(template){return new SelectedParcelType(!1,!1,template)},SelectedParcelType.selectCarrierParcelTemplate=function(template){return new SelectedParcelType(!1,!1,void 0,template)},SelectedParcelType.prototype.selectFromTemplate=function(userTemplate,carrierTemplate){return userTemplate||carrierTemplate?new SelectedParcelType(!1,!1,userTemplate,carrierTemplate):this},SelectedParcelType.prototype.isUnselected=function(){return!this.isCustomSelected()&&!this.isTemplateSelected()},SelectedParcelType.prototype.isCustomSelected=function(){return this.isCustomBoxOrTubeSelected()||this.isCustomPolymailerSelected()},SelectedParcelType.prototype.isTemplateSelected=function(){return this.isUserParcelTemplateSelected()||this.isCarrierParcelTemplateSelected()},SelectedParcelType.prototype.isCustomBoxOrTubeSelected=function(){return this.oneOffBoxOrTubeSelected},SelectedParcelType.prototype.isCustomPolymailerSelected=function(){return this.oneOffPolymailerSelected},SelectedParcelType.prototype.isUserParcelTemplateSelected=function(){return void 0!==this.selectedUserParcelTemplate},SelectedParcelType.prototype.isCarrierParcelTemplateSelected=function(){return void 0!==this.selectedCarrierParcelTemplate},SelectedParcelType.prototype.getSelectedUserParcelTemplate=function(){return this.selectedUserParcelTemplate},SelectedParcelType.prototype.getSelectedCarrierParcelTemplate=function(){return this.selectedCarrierParcelTemplate},SelectedParcelType.prototype.getSelectedParcelTemplate=function(){return this.isUserParcelTemplateSelected()?this.getSelectedUserParcelTemplate():this.getSelectedCarrierParcelTemplate()},SelectedParcelType.prototype.isEqual=function(other){return this.isUnselected()?other.isUnselected():this.isCustomBoxOrTubeSelected()?other.isCustomBoxOrTubeSelected():this.isCustomPolymailerSelected()?other.isCustomPolymailerSelected():JSON.stringify(this.getSelectedParcelTemplate())===JSON.stringify(other.getSelectedParcelTemplate())},SelectedParcelType}(),blackbeardSignatureConfirmation={STANDARD:"STANDARD",ADULT:"ADULT",CERTIFIED:"CERTIFIED",INDIRECT:"INDIRECT",CARRIER_CONFIRMATION:"CARRIER_CONFIRMATION"}},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{lF:()=>shouldUseKeep,mX:()=>getRateValueTranslated});var constants_currency__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/constants/currency.ts"),getRateValueTranslated=(__webpack_require__("./app/constants/signatureConfirmation.ts"),__webpack_require__("./app/types/SignatureConfirmation.ts"),__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/utils.ts"),function(amount,currency,t){var noValue="".concat(constants_currency__WEBPACK_IMPORTED_MODULE_0__.Q[currency].symbol,"—");return Number(amount)?t("translations:currency",{value:{value:Number(amount),currency_iso:currency}}):noValue});function shouldUseKeep(mixedSelection){return mixedSelection&&mixedSelection.numberWithInsurance>0&&mixedSelection.numberSelected>1}},"./app/styles/constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I8:()=>fontFamily,O9:()=>colors,Ue:()=>fontWeight,VG:()=>formSizes,X9:()=>reactSelectDropdownStyles,_p:()=>zIndexValues,jt:()=>_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),fontFamily="Roboto, pragmatica-web, 'Helvetica Neue', Helvetica, Arial, sans-serif",v3OldColors_gray10="#F7FBFC",v3OldColors_gray20="#E9F1F5",v3OldColors_gray30="#CFDEE6",v3OldColors_gray40="#B8CED9",v3OldColors_gray50="#7B99A8",v3OldColors_gray60="#5C7B8A",v3OldColors_gray70="#4C6774",v3OldColors_gray80="#425B66",v3OldColors_gray90="#2E434D",v3OldColors_gray100="#1F2D34",designSystemColors={forest50:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.background.success,forest100:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.background.success,forest200:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.background.success,forest600:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.foreground.success,forest700:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.foreground.success,forest800:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.primaryButtonHover,gray10:v3OldColors_gray10,gray25:v3OldColors_gray20,gray50:v3OldColors_gray20,gray100:v3OldColors_gray10,gray200:v3OldColors_gray20,gray300:v3OldColors_gray30,gray400:v3OldColors_gray40,gray500:v3OldColors_gray50,gray600:v3OldColors_gray60,gray700:v3OldColors_gray70,gray800:v3OldColors_gray80,gray900:v3OldColors_gray90,gray1000:v3OldColors_gray100,sea25:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondaryHover,sea50:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.backgroundDeemphasized,sea100:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondary,sea200:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondary,sea300:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondary,sea400:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondary,sea500:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondary,sea600:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondary,sea700:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondary,sea800:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondary,sea900:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondary,ruby50:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.background.error,ruby400:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.foreground.error,ruby600:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.foreground.error,ruby700:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.foreground.error,macaroni50:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.background.warning,macaroni100:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.background.warning,macaroni300:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.background.warning,macaroni600:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.foreground.warning,macaroni700:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.foreground.warning,macaroni800:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.foreground.warning,macaroni900:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.foreground.warning,white:"#FFFFFF",black:"#1B1D1D"},colors=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)({},designSystemColors),{borders:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.borders,primary:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.foreground.success,primaryFocus:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.primaryButtonHover,primaryAlternative:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.primaryButtonHover,secondary:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondary,tertiary:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondaryHover,dangerRed:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.foreground.error,getStartedFooterGrey:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondaryHover,getStartedFooterBorder:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.backgroundDeemphasized,containerBorderColor:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.borders,geyser:"#cfdce2",rollingStone:"#718087",coolGray:"#678096",fontColor:"#333333",placeholderColor:"#AEAEAE",disabledIcon:"#e3e4e5",greyBorder:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.borders,viking:"#50C1DB",emperor:"#555555",nightRider:"#333333",loblolly:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.borders,aqua:"#31A2C4",almostWhite:"#F1F5F7",borderColor:"#ddd",errorRed:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.foreground.error,errorShadowRed:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.background.error,pagination:{hoverBackground:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.backgroundDeemphasized,borderColor:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.borders,activeBorder:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.foreground.success},form:{greyBorder:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.borders,errorBar:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.foreground.error,errorBorder:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.foreground.error,errorBackground:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.background.error,warningBackground:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.background.warning,warningBorder:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.background.warning,successBar:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.background.success,successBorder:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.background.success,successBackground:designSystemColors.gray25,greyDisabled:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondaryHover,greyDisabledBorder:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.backgroundDeemphasized,greyDisabledButton:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.backgroundDeemphasized,placeholderFontColor:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.borders,fontColor:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.text.primary.black,labelFontColor:designSystemColors.black,disabledLabelFontColor:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.borders,shadow:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.borders,activeBorderColor:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.borders},tags:{removeIconColor:"#979797",hoverRemoveIconColor:"#555555",highlighted:{borderColor:"#B9C7CE",backgroundColor:"#F4F9FB"}},dialog:{errorBackground:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.background.error,successBackground:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.accent.background.success,infoBackground:_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondaryHover},banner:{info:"#F2FBFF"},notification:{boxShadow:"rgba(0, 0, 0, 0.12)"},branding:{defaultBrandPrimaryColor:"#000000",defaultBrandSecondaryColor:"#F1F1F1"}}),formSizes=(colors.gray600,colors.rollingStone,colors.gray10,colors.primary,colors.gray10,colors.rollingStone,colors.rollingStone,colors.primary,colors.primary,colors.gray600,colors.gray600,colors.loblolly,colors.loblolly,colors.white,colors.white,colors.white,colors.gray10,colors.rollingStone,colors.white,colors.white,colors.gray600,colors.white,colors.loblolly,colors.white,{inputHeight:"2.5rem",inputWidth:"15rem"}),zIndexValues={base:1,leftColumn:2,orderBatchMenu:10,dropdown:15,anchoredDiv:98,overlay:99,multiSelect:100,modal:101,persistantBanner:999,banner:1e3,tooltip:1070},fontWeight={thin:100,extraLight:200,light:300,normal:400,medium:500,semiBold:600,bold:700,extraBold:800,black:900},reactSelectDropdownStyles={control:function(provided,state){return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)({},provided),{borderRadius:"4px",border:state.isFocused?"1px solid ".concat(colors.form.activeBorderColor):"1px solid ".concat(colors.form.greyBorder),color:"".concat(_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.text.primary.black),borderColor:(state.isFocused?colors.form.activeBorderColor:colors.form.greyBorder)+" !important",minHeight:"2.5rem",height:"2.5rem",boxShadow:"none",borderBottomLeftRadius:state.menuIsOpen&&"top"!==state.selectProps.menuPlacement?0:"4px",borderBottomRightRadius:state.menuIsOpen&&"top"!==state.selectProps.menuPlacement?0:"4px",borderTopLeftRadius:state.menuIsOpen&&"bottom"!==state.selectProps.menuPlacement?0:"4px",borderTopRightRadius:state.menuIsOpen&&"bottom"!==state.selectProps.menuPlacement?0:"4px"})},indicatorSeparator:function(){return{display:"none"}},container:function(provided){return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)({},provided),{padding:0,margin:0})},valueContainer:function(provided){return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)({},provided),{padding:"0 0.75rem",fontWeight:"normal",height:"2.5rem",overflow:"initial"})},option:function(provided,state){return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)({},provided),{position:"relative",cursor:"pointer",padding:"0.5rem 1rem",color:"".concat(colors.form.fontColor),backgroundColor:(isSelected=state.isSelected,isFocused=state.isFocused,isSelected?colors.white:isFocused?colors.gray25:"inherit"),"&:hover":{backgroundColor:"".concat(_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondaryHover)},fontSize:"0.875rem",fontWeight:state.isSelected?"".concat(fontWeight.bold):"".concat(fontWeight.normal)});var isSelected,isFocused},clearIndicator:function(){return{display:"none"}},dropdownIndicator:function(provided,state){return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)({},provided),{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",padding:".5rem",color:"".concat(_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondary),transform:state.selectProps.menuIsOpen&&"rotate(180deg)"})},input:function(provided,state){return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)({},provided),{margin:"0rem",backgroundColor:state.pasteEdited?"".concat(colors.forest50):"",position:"absolute",top:"50%",transform:"translateY(-50%)"})},placeholder:function(provided){return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)({},provided),{color:"".concat(_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondary)})},indicatorsContainer:function(provided){return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)({},provided),{height:"2.5rem"})},menu:function(provided,state){return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.pi)({},provided),{marginTop:0,marginBottom:"top"!==state.selectProps.menuPlacement?0:"",borderTopLeftRadius:"top"!==state.selectProps.menuPlacement?0:"",borderTopRightRadius:"top"!==state.selectProps.menuPlacement?0:"",borderBottomLeftRadius:"bottom"!==state.selectProps.menuPlacement?0:"",borderBottomRightRadius:"bottom"!==state.selectProps.menuPlacement?0:"",boxShadow:"top"!==state.selectProps.menuPlacement?"0px 6px 20px rgba(0, 0, 0, 0.15)":"none",border:"1px solid ".concat(_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.O.secondary),boxSizing:"border-box",borderTop:"top"!==state.selectProps.menuPlacement?"none":"",borderBottom:"bottom"!==state.selectProps.menuPlacement?"none":""})}}},"./app/utils/segment/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{zW:()=>schema,j:()=>track});var Events,esm_exports=__webpack_require__("./node_modules/@sentry/core/esm/exports.js");!function(Events){Events.registered="Signed Up",Events.store_connected="Store Connected",Events.store_disconnected="Store Disconnected",Events.address_created="Address Created",Events.credit_card_added="Credit Card Added",Events.carrier_connected="Carrier Connected",Events.carrier_error_displayed="Carrier Error Displayed",Events.package_template_created="Package Template Created",Events.label_purchase="Label Purchased",Events.label_purchase_failed="Label Purchase Failed",Events.label_downloaded="Label Downloaded",Events.packing_slip_downloaded="Packing Slip Downloaded",Events.tracking_status_viewed="Tracking Status Viewed",Events.onboarding_step_completed="Step Completed",Events.onboarding_completed="Onboarding Completed",Events.get_started_viewed="Get Started Page View",Events.insurance_updated="Insurance Updated",Events.insurance_modal_opened="Insurance Modal Opened",Events.insurance_modal_link_clicked="Insurance Modal Link Clicked",Events.email_notification_changed="Email Notifications Changed",Events.insurance_option_onboarding="Insurance option during onboarding",Events.automatic_insurance_settings_update="Automatic insurance settings update",Events.insurance_removal="Insurance removal in confirmation modal",Events.insurance_removal_order_details="Remove Insurance from Order Details",Events.signaure_modal_opened="Signature Confirmation Modal Opened",Events.signature_modal_updated="Signature Confirmation Modal Updated",Events.signature_removal_order_details="Remove Signature from Order Details",Events.ups_surcharge_warning="UPS surcharge warnings",Events.insurance_details_opened="Insurance Details Opened From Sidebar",Events.signature_details_opened="Signature Details Opened From Sidebar",Events.signature_updated="Signature Details Updated From Sidebar",Events.new_insurance_updated="Insurance Updated From Sidebar",Events.insurance_link_clicked="Insurance Link Clicked From Sidebar",Events.insurance_removed_sidebar="Remove Insurance From Sidebar",Events.signature_removed_sidebar="Remove Signature From Sidebar",Events.promo_code_add_replace="Promo code added or replaced",Events.save_default_package_units="Default package units updated",Events.update_user_information="User profile updated",Events.update_user_language="User language updated",Events.order_search_completed="Order search completed",Events.order_search_result_selected="Order search row selected",Events.customs_options_form_submit="Customs Options Form Submit",Events.customs_items_form_submit="Customs Items Form Submit",Events.package_info_edited="Package Info Updated",Events.embeddable_next_params="Embeddable User Set Next Params",Events.plan_updated="Plan Updated"}(Events||(Events={}));const schema=Events;__webpack_require__("./node_modules/moment/moment.js"),__webpack_require__("./app/pages/Onboarding/onboarding.constants.ts"),__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/react-redux/es/index.js"),__webpack_require__("./app/selectors/user.selectors.ts");var track=function(name,properties){window.analytics?window.analytics.track(name,properties):esm_exports.uT("track called before window.analytics available",{level:"warning"})}},"./app/utils/validations.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B6:()=>isValidZipForCountry,Ef:()=>insuranceValuesRegex,Gg:()=>exists,Jh:()=>isEmail,d_:()=>hasLength,h7:()=>isValidPhoneForCountry});var libphonenumber_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/libphonenumber-js/min/exports/isPossiblePhoneNumber.js"),emailRegex=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,insuranceValuesRegex=/^\d{1,5}(,\d{3})*(\.\d{0,2})?$/;function exists(value){return!!value}function hasLength(minLength,maxLength,value){return!(minLength&&value.length<minLength)&&!(maxLength&&value.length>maxLength)}function isEmail(value){return emailRegex.test(value)}var countryIso2ZipRegexMap=new Map([["US",/^\d{5}([-]?\d{4})?$/],["CA",/^([ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]\d[ABCEGHJKLMNPRSTVWXYZabceghjklmnprstvwxyz]) {0,1}(\d[ABCEGHJKLMNPRSTVWXYZabceghjklmnprstvwxyz]\d)$/],["MX",/^(\d{5})$/]]),isValidZipForCountry=function(countryIso2,zip){return!countryIso2ZipRegexMap.has(countryIso2)||countryIso2ZipRegexMap.get(countryIso2).test(zip)};function isValidPhoneForCountry(phone,country){return!country||!phone||(countryCode="string"==typeof country?country:null==country?void 0:country.iso2,(0,libphonenumber_js__WEBPACK_IMPORTED_MODULE_0__.t)(phone,countryCode));var countryCode}},"./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentInsuranceCard/ShipmentInsuranceCard.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultState:()=>DefaultState,InsuranceAndSignature:()=>InsuranceAndSignature,OverFiveHundred:()=>OverFiveHundred,default:()=>ShipmentInsuranceCard_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),translate=__webpack_require__("./app/utils/translate.ts"),react=__webpack_require__("./node_modules/react/index.js"),Card_styled=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/Card/Card.styled.tsx"),Alert=__webpack_require__("./node_modules/@goshippo/components/esm/Alert/Alert.js");const ShipmentExtrasCard_ReturnLabelWarning=function(_a){var t=_a.t,marginBottomValue=_a.isSidePanel?2:0;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Alert.Z,(0,tslib_es6.pi)({severity:"warning",sx:{mb:marginBottomValue}},{children:t("orders:shipmentExtras:returnLabelsNotInsuredWarning")}))};var templateObject_1,templateObject_2,templateObject_3,templateObject_4,templateObject_5,templateObject_6,templateObject_7,_a,utils=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/utils.ts"),modules_utils=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/utils.ts"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),Box=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),colors=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),Button=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),ContentContainer=(0,styled.ZP)(Box.Z)((function(){return{padding:"1rem",color:colors.O.text.primary.black}})),InsuranceHeader=(0,styled.ZP)(Typography.Z)(templateObject_1||(templateObject_1=(0,tslib_es6.cy)(["\n  color: ",";\n  padding-bottom: 0.5rem;\n"],["\n  color: ",";\n  padding-bottom: 0.5rem;\n"])),colors.O.text.primary.black),InsuranceRecommend=(0,styled.ZP)(Typography.Z)(templateObject_2||(templateObject_2=(0,tslib_es6.cy)(["\n  color: ",";\n  padding-bottom: 0.25rem;\n"],["\n  color: ",";\n  padding-bottom: 0.25rem;\n"])),colors.O.text.primary.black),CardBlock=(0,styled.ZP)(Box.Z)(templateObject_3||(templateObject_3=(0,tslib_es6.cy)(["\n  padding: 0.5rem 0;\n  border-bottom: 1px solid ",";\n  &:last-of-type {\n    border-bottom: 0px;\n    padding-bottom: 0;\n  }\n"],["\n  padding: 0.5rem 0;\n  border-bottom: 1px solid ",";\n  &:last-of-type {\n    border-bottom: 0px;\n    padding-bottom: 0;\n  }\n"])),colors.O.gray30),AddEditButton=(0,styled.ZP)(Button.Z)(templateObject_4||(templateObject_4=(0,tslib_es6.cy)(["\n  background-color: transparent;\n  color: ",";\n  box-shadow: none;\n\n  &:hover {\n    color: ",";\n    background-color: ",";\n  }\n"],["\n  background-color: transparent;\n  color: ",";\n  box-shadow: none;\n\n  &:hover {\n    color: ",";\n    background-color: ",";\n  }\n"])),colors.O.accent.foreground.success,colors.O.primaryButtonHover,colors.O.accent.background.success),RemoveIconButton=(0,styled.ZP)("img")(templateObject_5||(templateObject_5=(0,tslib_es6.cy)(["\n  padding-left: 0.5rem;\n  cursor: pointer;\n"],["\n  padding-left: 0.5rem;\n  cursor: pointer;\n"]))),CircularProgress=((0,styled.ZP)(Typography.Z)(templateObject_6||(templateObject_6=(0,tslib_es6.cy)(["\n  font-size: 12px;\n  text-align: center;\n"],["\n  font-size: 12px;\n  text-align: center;\n"]))),(0,styled.ZP)("img")(templateObject_7||(templateObject_7=(0,tslib_es6.cy)(["\n  margin-right: 0.25rem;\n"],["\n  margin-right: 0.25rem;\n"]))),__webpack_require__("./node_modules/@goshippo/components/esm/CircularProgress/CircularProgress.js")),types=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/ShipmentExtrasCard/types.ts"),Stack_Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),icon_close_dark_gray=__webpack_require__("./app/assets/icons/icon_close_dark_gray.svg"),segment=__webpack_require__("./app/utils/segment/index.ts"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.js"),modules_types=__webpack_require__("./app/pages/Orders/Blackbeard/LabelPurchase/modules/types.ts"),adultSignatureConfirmationOption={value:modules_types.XR.ADULT,label:"An adult must sign"},standardSignatureConfirmationOption={value:modules_types.XR.STANDARD,label:"Anyone can sign"},signatureConfirmationMap=((_a={})[modules_types.XR.ADULT]=adultSignatureConfirmationOption,_a[modules_types.XR.STANDARD]=standardSignatureConfirmationOption,_a);var MobileAndDesktopDrawer=__webpack_require__("./node_modules/@goshippo/libraries/dist/esm/shared/MobileAndDesktopDrawer/index.js"),exclusionsApplyLink='https://support.goshippo.com/hc/en-us/articles/360003888292-Shipping-Insurance-Options-in-Shippo#items-that-are-not-insured-0-6"',FormControl=__webpack_require__("./node_modules/@goshippo/components/esm/FormControl/FormControl.js"),RadioGroup=__webpack_require__("./node_modules/@goshippo/components/esm/RadioGroup/RadioGroup.js"),FormControlLabel=__webpack_require__("./node_modules/@goshippo/components/esm/FormControlLabel/FormControlLabel.js"),Radio=__webpack_require__("./node_modules/@goshippo/components/esm/Radio/Radio.js"),Link=__webpack_require__("./node_modules/@goshippo/components/esm/Link/Link.js"),TextField=__webpack_require__("./node_modules/@goshippo/components/esm/TextField/TextField.js"),InputAdornment=__webpack_require__("./node_modules/@goshippo/components/esm/InputAdornment/InputAdornment.js"),validations=__webpack_require__("./app/utils/validations.ts");const SimplifiedInsuranceModal_InsuranceValueField=function(_a){var getValues=_a.getValues,control=_a.control,errors=_a.errors,t=_a.t,disabled=_a.disabled,currency=_a.currency;return(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack_Stack.Z,(0,tslib_es6.pi)({sx:{ml:4}},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Stack_Stack.Z,(0,tslib_es6.pi)({direction:"row",spacing:1,alignItems:"flex-end"},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(index_esm.Qr,{name:"amount",control,rules:{validate:{required:function(value){return!getValues("hasInsurance")||(!!value||t("orders:additionalServices:errs:insurance:valueRequiredAlt"))},max:function(value){var cleanNumber=value.replace(/,/g,"");return!value||(parseFloat(cleanNumber)<=1e4||t("orders:additionalServices:errs:insurance:maxInsuranceVariant"))},min:function(value){return!value||(parseFloat(value)>=1||t("orders:additionalServices:errs:insurance:minInsurance"))},pattern:function(value){if(!validations.Ef.test(value)&&value)return"Please enter a valid numeric value with up to two decimal places, if decimals are used"}}},render:function(_a){var field=_a.field;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(TextField.Z,(0,tslib_es6.pi)({},field,{disabled,inputMode:"decimal",fullWidth:!0,InputProps:{startAdornment:(0,emotion_react_jsx_runtime_browser_esm.tZ)(InputAdornment.Z,(0,tslib_es6.pi)({position:"start"},{children:currency.symbol?currency.symbol:"$"}))},error:!!errors,label:t("orders:insurance:customValue")}))}})})),(null==errors?void 0:errors.message)&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"div",color:"error",variant:"caption",sx:{mt:1},"data-testid":"insurance-custom-value-error"},{children:errors.message}))]}))};var SimplifiedInsuranceView=function(_a){var control=_a.control,currency=_a.currency,errors=_a.errors,getValues=_a.getValues,t=_a.t,showItemValueTotal=_a.showItemValueTotal,onInsuranceValueTypeChange=_a.onInsuranceValueTypeChange,insuranceValueType=_a.insuranceValueType,insured=_a.insured,mixedSelection=_a.mixedSelection,showKeepSelection=mixedSelection&&mixedSelection.numberWithInsurance>0&&mixedSelection.numberSelected>1,hideValueOfItems=mixedSelection&&mixedSelection.numberSelected>1||!showItemValueTotal;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(emotion_react_jsx_runtime_browser_esm.HY,{children:(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack_Stack.Z,(0,tslib_es6.pi)({direction:"column",justifyContent:"space-between",height:"100%"},{children:[(0,emotion_react_jsx_runtime_browser_esm.BX)(Box.Z,{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"h4",variant:"bodyEmphasized",sx:{marginBottom:"1rem"}},{children:t("orders:insurance:coverageValue")})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(FormControl.Z,(0,tslib_es6.pi)({sx:{width:"100%",gap:"0.5rem"}},{children:(0,emotion_react_jsx_runtime_browser_esm.BX)(RadioGroup.Z,(0,tslib_es6.pi)({value:"keep"===insured?"keep":insuranceValueType,onChange:onInsuranceValueTypeChange,sx:{gap:"1rem"},"data-testid":"insurance-form",name:"insuranceType"},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(FormControlLabel.Z,{"data-testid":"insurance-radio-none-added",value:"noAddedInsurance",control:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Radio.Z,{sx:{paddingTop:0,paddingBottom:0}}),label:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Stack_Stack.Z,(0,tslib_es6.pi)({direction:"column"},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"span",variant:"bodyEmphasized"},{children:t("orders:insurance:notSelectedMessageVariant")}))}))}),showKeepSelection&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(FormControlLabel.Z,{"data-testid":"insurance-radio-keep-selections",value:"keep",control:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Radio.Z,{sx:{py:0,mb:1}}),label:(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack_Stack.Z,(0,tslib_es6.pi)({direction:"column"},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"span",variant:"bodyEmphasized"},{children:t("orders:shipmentExtras:keepCurrentSelections")})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"span",variant:"body"},{children:t("orders:insurance:numOfInsured",{numInsured:mixedSelection.numberWithInsurance,numOrders:mixedSelection.numberSelected})}))]}))}),!hideValueOfItems&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(FormControlLabel.Z,{"data-testid":"insurance-radio-items-value",value:"hasInsurance",control:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Radio.Z,{sx:{py:0,mb:1}}),label:(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack_Stack.Z,(0,tslib_es6.pi)({direction:"column"},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"span",variant:"bodyEmphasized"},{children:t("orders:shipmentExtras:valueOfItems")})),(0,emotion_react_jsx_runtime_browser_esm.BX)(Typography.Z,(0,tslib_es6.pi)({component:"span",variant:"body"},{children:[t("orders:insurance:totalValue")," ",t("translations:currency",{value:{value:showItemValueTotal,currency_iso:currency.iso}})]}))]}))}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(FormControlLabel.Z,{"data-testid":"insurance-radio-custom-value",value:"custom",control:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Radio.Z,{sx:{paddingTop:0,paddingBottom:0}}),label:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Stack_Stack.Z,(0,tslib_es6.pi)({direction:"column"},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"span",variant:"bodyEmphasized"},{children:t("orders:insurance:customValue")}))}))}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(SimplifiedInsuranceModal_InsuranceValueField,{getValues,errors:errors.amount,control,t,currency,disabled:"custom"!==insuranceValueType})]}))}))]}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Box.Z,(0,tslib_es6.pi)({sx:{mt:5}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Box.Z,(0,tslib_es6.pi)({sx:{display:"flex"}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",variant:"caption"},{children:(0,emotion_react_jsx_runtime_browser_esm.BX)(translate.cC,(0,tslib_es6.pi)({i18nKey:"orders:checkout:xcoverNote"},{children:["By adding protection, you agree to the",(0,emotion_react_jsx_runtime_browser_esm.tZ)(Link.Z,(0,tslib_es6.pi)({target:"_blank",color:"secondary",href:"https://www.xcover.com/pds/__0XQLK__shippo_termsandconditions"},{children:"policy terms, conditions, and exclusions."})),"Protection sold by Cover Genius and powered by XCover."]}))}))}))}))]}))})};const ShipmentInsuranceCard_ShipmentInsuranceSimplifiedView=function(_a){var onClose=_a.onClose,onSubmitToParent=_a.onSubmit,t=_a.t,userInsuranceRate=_a.userInsuranceRate,defaultValues=_a.defaultValues,addOrEditInsurance=_a.addOrEditInsurance,mixedSelection=_a.mixedSelection,insuredItems=_a.insuredItems,lineItemsCost=_a.lineItemsCost,insuranceModalState=function useInsuranceModalForm(defaultValues,onSubmitToParent){var insuranceForm=(0,index_esm.cI)({defaultValues}),control=insuranceForm.control,watch=insuranceForm.watch,setValue=insuranceForm.setValue,getValues=insuranceForm.getValues,handleSubmit=insuranceForm.handleSubmit,errors=insuranceForm.formState.errors,insured=watch("hasInsurance"),insuredValue=watch("amount"),currency=watch("currency");(0,react.useEffect)((function(){setValue("hasInsurance",defaultValues.hasInsurance),setValue("currency",defaultValues.currency),setValue("amount",defaultValues.amount),setValue("useImportedAmount",defaultValues.useImportedAmount)}),[defaultValues,setValue]);var onEnableInsured=(0,react.useCallback)((function(){setValue("hasInsurance",!0)}),[setValue]),onDisableInsured=(0,react.useCallback)((function(){setValue("hasInsurance",!1)}),[setValue]),onKeepSelection=(0,react.useCallback)((function(){setValue("hasInsurance","keep")}),[setValue]),onClickSubmit=(0,react.useCallback)((function(){handleSubmit(onSubmitToParent)()}),[handleSubmit,onSubmitToParent]);return{control,currency,getValues,setValue,errors,onEnableInsured,onDisableInsured,onKeepSelection,onClickSubmit,insured,insuredValue}}(defaultValues,onSubmitToParent),_b=(0,tslib_es6.CR)((0,react.useState)(insuranceModalState.insured?insuranceModalState.insuredValue!==String(lineItemsCost)?"custom":"hasInsurance":"noAddedInsurance"),2),insuranceValueType=_b[0],setInsuranceValueType=_b[1],showItemValueTotal=(0,react.useMemo)((function(){return lineItemsCost&&0!==lineItemsCost?String(lineItemsCost):void 0}),[lineItemsCost]),insuranceCost=(0,react.useMemo)((function(){var selectedPriceToCalculate="hasInsurance"===insuranceValueType?showItemValueTotal:insuranceModalState.insuredValue,selectedPriceNum=selectedPriceToCalculate?Number(selectedPriceToCalculate.replace(/,/g,"")):0;return(0,utils.md)(userInsuranceRate,selectedPriceNum,mixedSelection.numberSelected)}),[insuranceModalState.insuredValue,userInsuranceRate,insuranceValueType]),onInsuranceValueTypeChange=(0,react.useCallback)((function(event){"keep"===event.target.value?insuranceModalState.onKeepSelection():setInsuranceValueType(event.target.value)}),[setInsuranceValueType,insuranceValueType,insuranceModalState.onKeepSelection]);(0,react.useEffect)((function(){"noAddedInsurance"===insuranceValueType?insuranceModalState.onDisableInsured():insuranceModalState.onEnableInsured(),"hasInsurance"===insuranceValueType&&showItemValueTotal&&insuranceModalState.setValue("amount",showItemValueTotal)}),[insuranceValueType]);var buttonText="noAddedInsurance"===insuranceValueType||"keep"===insuranceModalState.insured?t("orders:phrases:continue"):(0,emotion_react_jsx_runtime_browser_esm.BX)(emotion_react_jsx_runtime_browser_esm.HY,{children:[t("orders:shipmentExtras:addFor")," ",t("translations:currency",{value:{value:insuranceCost,currency_iso:insuranceModalState.currency.iso}})]}),handleUpdateInsurance=(0,react.useCallback)((function(){(0,segment.j)(segment.zW.new_insurance_updated,{total_value_of_order:insuranceModalState.insuredValue,insurance_price:(0,utils.md)(userInsuranceRate,Number(insuranceModalState.insuredValue)),insurance_option:insuranceValueType}),insuranceModalState.onClickSubmit()}),[insuranceModalState,insuredItems,insuranceValueType,userInsuranceRate]),handleTermsClick=(0,react.useCallback)((function(){(0,segment.j)(segment.zW.insurance_link_clicked,{link_copy:t("orders:insurance:termsConditions"),link_url:"https://goshippo.com/terms/insurance/"}),window.open("https://goshippo.com/terms/insurance/","_blank")}),["https://goshippo.com/terms/insurance/"]),handleExclusionsClick=(0,react.useCallback)((function(){(0,segment.j)(segment.zW.insurance_link_clicked,{link_copy:t("orders:insurance:exclusionsApply"),link_url:exclusionsApplyLink}),window.open(exclusionsApplyLink,"_blank")}),[exclusionsApplyLink]);return(0,emotion_react_jsx_runtime_browser_esm.tZ)(emotion_react_jsx_runtime_browser_esm.HY,{children:addOrEditInsurance&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(MobileAndDesktopDrawer.Z,(0,tslib_es6.pi)({drawerContentTestId:"shipment-extras-card-insurance-drawer",drawerProps:{transitionDuration:0},title:t("insurance.basicHeadline"),subtitle:1===mixedSelection.numberSelected?"1 ".concat(t("orders:itemsCard:order")):mixedSelection.numberSelected>1?"".concat(mixedSelection.numberSelected," ").concat(t("orders:itemsCard:orderPlural")):"",open:!0,onBack:onClose,onClose,fullWidth:!0,fullHeight:!0,footerButtonPrimary:{text:buttonText,action:handleUpdateInsurance},footerButtonSecondary:{text:t("orders:phrases:cancel"),action:onClose},paperBoxShadow:"none"},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(SimplifiedInsuranceView,(0,tslib_es6.pi)({},insuranceModalState,{t,onInsuranceValueTypeChange,showItemValueTotal,insuranceValueType,handleTermsClick,handleExclusionsClick,mixedSelection}))}))})};var constants_currency=__webpack_require__("./app/constants/currency.ts");const ShipmentInsuranceRow=function(_a){var t=_a.t,extrasInsurance=_a.extrasInsurance,extrasSignature=_a.extrasSignature,onSubmit=_a.onSubmit,userInsuranceRate=_a.userInsuranceRate,mixedSelection=_a.mixedSelection,insuredItems=_a.insuredItems,defaultModalContent=_a.defaultModalContent,lineItemsCost=_a.lineItemsCost,isBatch=_a.isBatch,isConfirmationDrawer=_a.isConfirmationDrawer,_b=function useShipmentsExtras(){var _a=(0,tslib_es6.CR)((0,react.useState)(!1),2),addOrEditInsurance=_a[0],setAddOrEditInsurance=_a[1];return{addOrEditInsurance,onClickAddOrEditInsurance:function(){setAddOrEditInsurance(!0)},onClickCancelInsurance:function(){setAddOrEditInsurance(!1)}}}(),addOrEditInsurance=_b.addOrEditInsurance,onClickAddOrEditInsurance=_b.onClickAddOrEditInsurance,onClickCancelInsurance=_b.onClickCancelInsurance,handleAddEditInsuranceClick=(0,react.useCallback)((function(){onClickAddOrEditInsurance(),(0,segment.j)(segment.zW.insurance_details_opened)}),[onClickAddOrEditInsurance,segment.j]),handleSaveInsurance=(0,react.useCallback)((function(newInsuranceValues){if("keep"!==newInsuranceValues.hasInsurance){var options=(0,utils.do)(newInsuranceValues);onSubmit(options),onClickCancelInsurance()}else onClickCancelInsurance()}),[onSubmit,onClickCancelInsurance]),removeInsurance=(0,react.useCallback)((function(){onSubmit({insurance:null}),(0,segment.j)(segment.zW.insurance_removed_sidebar)}),[onSubmit,extrasInsurance,extrasSignature]),currency=defaultModalContent.currency,insuranceAmount=defaultModalContent.amount,hasInsurance=extrasInsurance||isBatch&&mixedSelection.numberWithInsurance>0,shipmentInsuranceDescription=(0,react.useMemo)((function(){if(isBatch){if(mixedSelection.numberWithInsurance>0)return t("insurance.numOfInsured",{numInsured:mixedSelection.numberWithInsurance,numOrders:mixedSelection.numberSelected});if(mixedSelection.totalInsuranceCost>0)return"".concat(isConfirmationDrawer?"":t("shipmentExtras.insuranceTotalCost")+":"," ").concat(t("translations:currency",{value:{value:isConfirmationDrawer?mixedSelection.totalCoverage:mixedSelection.totalInsuranceCost,currency_iso:mixedSelection.currency?mixedSelection.currency.iso:constants_currency.Q.USD.iso}}))}if(extrasInsurance)return"".concat(isConfirmationDrawer?"":t("shipmentExtras.insuranceTotalCost")+":"," ").concat(t("translations:currency",{value:{value:isConfirmationDrawer?insuranceAmount:(0,utils.md)(userInsuranceRate,parseFloat(insuranceAmount)),currency_iso:currency.iso}}))}),[isBatch,extrasInsurance,t,mixedSelection.totalInsuranceCost,mixedSelection.totalCoverage,mixedSelection.currency,mixedSelection.numberWithInsurance,mixedSelection.numberSelected,userInsuranceRate,insuranceAmount,currency.iso,isConfirmationDrawer]);return(0,emotion_react_jsx_runtime_browser_esm.BX)(emotion_react_jsx_runtime_browser_esm.HY,{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(CardBlock,{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Stack_Stack.Z,(0,tslib_es6.pi)({direction:"column",spacing:2},{children:(0,emotion_react_jsx_runtime_browser_esm.BX)(types.Zj,{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Stack_Stack.Z,(0,tslib_es6.pi)({direction:"row",alignItems:"center",justifyContent:"flex-start",spacing:1},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",variant:"bodyEmphasized"},{children:t("blackbeard.coverageValue")}))})),(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack_Stack.Z,(0,tslib_es6.pi)({direction:"row",alignItems:"center",justifyContent:"flex-start",spacing:1},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",variant:"body","data-testid":"insurance-description",color:colors.O.gray80},{children:hasInsurance?shipmentInsuranceDescription:t("blackbeard.noCoverage")})),hasInsurance&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(RemoveIconButton,{onClick:removeInsurance,src:icon_close_dark_gray,"data-e2e":"remove-insurance-button",color:colors.O.gray80}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(AddEditButton,(0,tslib_es6.pi)({variant:"text",color:"primary",onClick:handleAddEditInsuranceClick,"data-testid":"shipment-extras-insurance-drawer-open-link"},{children:t(hasInsurance?"shipmentExtras.edit":"actions.single.add")}))]}))]})}))}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(ShipmentInsuranceCard_ShipmentInsuranceSimplifiedView,{onSubmit:handleSaveInsurance,onClose:onClickCancelInsurance,hasSignatureConfirmation:!!(null==extrasSignature?void 0:extrasSignature.hasSignatureConfirmation),t,userInsuranceRate,defaultValues:defaultModalContent,useImportedAmount:!1,addOrEditInsurance,mixedSelection,insuredItems,lineItemsCost})]})};const ExtrasModal_MobileStyles={MobileModalSection:(0,styled.ZP)(Stack_Stack.Z)(MobileStyles_templateObject_1||(MobileStyles_templateObject_1=(0,tslib_es6.cy)(["\n  background-color: white;\n  padding: 1rem;\n  border-radius: 6px;\n  gap: 1rem;\n  border: 1px solid ",";\n"],["\n  background-color: white;\n  padding: 1rem;\n  border-radius: 6px;\n  gap: 1rem;\n  border: 1px solid ",";\n"])),colors.O.borders),MobileContentBodyContent:(0,styled.ZP)(Stack_Stack.Z)(MobileStyles_templateObject_2||(MobileStyles_templateObject_2=(0,tslib_es6.cy)(["\n  margin-top: 1rem;\n  gap: 1rem;\n"],["\n  margin-top: 1rem;\n  gap: 1rem;\n"]))),MobileSectionTitle:function(_a){var children=_a.children;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({variant:"bodyEmphasized",component:"div"},{children}))}};var MobileStyles_templateObject_1,MobileStyles_templateObject_2,Checkbox=__webpack_require__("./node_modules/@goshippo/components/esm/Checkbox/Checkbox.js"),Divider_Divider=__webpack_require__("./node_modules/@goshippo/components/esm/Divider/Divider.js"),signatureConfirmation=__webpack_require__("./app/constants/signatureConfirmation.ts");const FormStyles={BasicCost:function(_a){var children=_a.children;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({variant:"bodyEmphasized",component:"span"},{children}))},FormSublabelTypography:function(_a){var children=_a.children;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"div",variant:"body",color:"primary"},{children}))},FormLabelTypography:function(_a){var children=_a.children;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"div",variant:"body",color:"primary",sx:{fontWeight:500,fontSize:"1rem"}},{children}))}};var CostForOption=function(_a){var hasSignatureConfirmation=_a.hasSignatureConfirmation,signatureConfirmationType=_a.signatureConfirmationType,mixedSelection=_a.mixedSelection,t=_a.t;if(!hasSignatureConfirmation)return null;var numOrders=mixedSelection?mixedSelection.numberSelected:0,standardCost=mixedSelection?mixedSelection.numberSelected*signatureConfirmation.HV:signatureConfirmation.HV,adultCost=mixedSelection?mixedSelection.numberSelected*signatureConfirmation.f0:signatureConfirmation.f0,totalCost=mixedSelection?mixedSelection.totalSignatureCost:0;switch(signatureConfirmationType){case modules_types.XR.STANDARD:return(0,emotion_react_jsx_runtime_browser_esm.BX)(FormStyles.BasicCost,{children:[t("orders:insurance:cost"),":"," ",t("translations:currency",{value:{value:standardCost,currency_iso:constants_currency.Q.USD.iso}}),"+"]});case modules_types.XR.ADULT:return(0,emotion_react_jsx_runtime_browser_esm.BX)(FormStyles.BasicCost,{children:[t("orders:insurance:cost"),":"," ",t("translations:currency",{value:{value:adultCost,currency_iso:constants_currency.Q.USD.iso}}),"+"]});case"KEEP":return(0,emotion_react_jsx_runtime_browser_esm.BX)(FormStyles.BasicCost,{children:[t("orders:insurance:totalCost",{numOrders}),":"," ",t("translations:currency",{value:{value:totalCost,currency_iso:constants_currency.Q.USD.iso}}),"+"]});default:return null}};const VerticalSignatureConfirmationView_Form=function(_a){var fullScreen=_a.fullScreen,hasSignatureConfirmation=_a.hasSignatureConfirmation,signatureConfirmationType=_a.signatureConfirmationType,handleSignatureConfirmationChanged=_a.handleSignatureConfirmationChanged,handleSignatureConfirmationTypeChanged=_a.handleSignatureConfirmationTypeChanged,mixedSelection=_a.mixedSelection,t=_a.t,showKeepSelectionsRadio=!!mixedSelection&&mixedSelection.numberSelected>1&&mixedSelection.numberWithSignature>0,_b=(0,tslib_es6.CR)((0,react.useState)("DISABLED"),2),mobileRadioValue=_b[0],setMobileRadioValue=_b[1];(0,react.useEffect)((function(){if("KEEP"!==signatureConfirmationType)if(hasSignatureConfirmation&&signatureConfirmationType)switch(signatureConfirmationType){case modules_types.XR.ADULT:case modules_types.XR.STANDARD:return void setMobileRadioValue(signatureConfirmationType)}else setMobileRadioValue("DISABLED");else setMobileRadioValue("KEEP")}),[hasSignatureConfirmation,signatureConfirmationType]);var onChangeSignatureConfirmationCheckbox=(0,react.useCallback)((function(){handleSignatureConfirmationChanged(!hasSignatureConfirmation)}),[handleSignatureConfirmationChanged,hasSignatureConfirmation]),onChangeRadio=(0,react.useCallback)((function(e){switch(e.target.value){case"KEEP":return void handleSignatureConfirmationTypeChanged("KEEP");case"DISABLED":return void handleSignatureConfirmationChanged(!1);case modules_types.XR.ADULT:case modules_types.XR.STANDARD:return void handleSignatureConfirmationTypeChanged(e.target.value)}}),[handleSignatureConfirmationChanged,handleSignatureConfirmationTypeChanged]),LabelComponent=(0,react.useMemo)((function(){return fullScreen?FormStyles.FormLabelTypography:FormStyles.FormSublabelTypography}),[fullScreen]);return(0,emotion_react_jsx_runtime_browser_esm.BX)("div",(0,tslib_es6.pi)({style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[!fullScreen&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(FormControlLabel.Z,{onChange:onChangeSignatureConfirmationCheckbox,checked:hasSignatureConfirmation,control:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Checkbox.Z,{}),label:t("orders:signature:require")}),(0,emotion_react_jsx_runtime_browser_esm.BX)(RadioGroup.Z,(0,tslib_es6.pi)({onChange:onChangeRadio,sx:{marginLeft:fullScreen?void 0:"2rem",gap:"1rem"},value:mobileRadioValue},{children:[fullScreen&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(FormControlLabel.Z,{"data-testid":"signature-radio-disable-signature",value:"DISABLED",control:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Radio.Z,{sx:{paddingTop:0,paddingBottom:0}}),label:(0,emotion_react_jsx_runtime_browser_esm.tZ)(FormStyles.FormLabelTypography,{children:t("orders:signature:notRequired")})}),mixedSelection&&showKeepSelectionsRadio&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(FormControlLabel.Z,{"data-testid":"signature-radio-keep-signature",value:"KEEP",control:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Radio.Z,{sx:{paddingTop:0,paddingBottom:0}}),label:(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack_Stack.Z,(0,tslib_es6.pi)({direction:"column"},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"span",variant:"bodyEmphasized"},{children:t("shipmentExtras.keepCurrentSelections")})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"span",variant:"body"},{children:t("insurance.numOfRequired",{numRequired:mixedSelection.numberWithSignature,numOrders:mixedSelection.numberSelected})}))]}))}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(FormControlLabel.Z,{"data-testid":"signature-radio-standard-signature",value:modules_types.XR.STANDARD,control:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Radio.Z,{sx:{paddingTop:0,paddingBottom:0}}),label:(0,emotion_react_jsx_runtime_browser_esm.tZ)(LabelComponent,{children:t(fullScreen?"orders:signature:requiredStandardFullScreen":"orders:signature:requiredStandardModal")})}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(FormControlLabel.Z,{"data-testid":"signature-radio-adult-signature",value:modules_types.XR.ADULT,control:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Radio.Z,{sx:{paddingTop:0,paddingBottom:0}}),label:(0,emotion_react_jsx_runtime_browser_esm.tZ)(LabelComponent,{children:t(fullScreen?"orders:signature:requiredAdultFullScreen":"orders:signature:requiredAdultModal")})})]})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Divider_Divider.Z,{sx:{marginTop:"1rem"}}),(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack_Stack.Z,(0,tslib_es6.pi)({sx:{marginTop:"1rem"}},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(CostForOption,{hasSignatureConfirmation,signatureConfirmationType,mixedSelection,t}),hasSignatureConfirmation&&signatureConfirmationType&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"div",variant:"body"},{children:t("orders:signature:costIncluded")}))]}))]}))};var ListItem=__webpack_require__("./node_modules/@goshippo/components/esm/ListItem/ListItem.js"),List=__webpack_require__("./node_modules/@goshippo/components/esm/List/List.js");const ExtrasModal_LeftColumnList_LeftColumnList=function(_a){var children=_a.children;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(List.Z,(0,tslib_es6.pi)({disablePadding:!0,style:{listStyle:"disc",paddingInlineStart:"1.5rem"}},{children}))},ExtrasModal_LeftColumnList_LeftColumnListItem=function(_a){var name=_a.name,detail=_a.detail;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(ListItem.Z,(0,tslib_es6.pi)({disablePadding:!0,disableGutters:!0,sx:{display:"list-item"}},{children:(0,emotion_react_jsx_runtime_browser_esm.BX)(Typography.Z,(0,tslib_es6.pi)({component:"div",variant:"body",color:"primary"},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"span",variant:"body"},{children:name}))," ",detail]}))}))};var commonReasons=["specificItems","regulatedItems","additionalSecurity"];const VerticalSignatureConfirmationView_SignatureConfirmationInformation=function(_a){var t=_a.t;return(0,emotion_react_jsx_runtime_browser_esm.BX)(emotion_react_jsx_runtime_browser_esm.HY,{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"div",variant:"body",color:"primary"},{children:t("orders:signature:commonReasons:title")})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Stack_Stack.Z,(0,tslib_es6.pi)({style:{display:"flex",flexDirection:"column",gap:"0.2rem",marginTop:"0.5rem"}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(ExtrasModal_LeftColumnList_LeftColumnList,{children:commonReasons.map((function(c,i){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(ExtrasModal_LeftColumnList_LeftColumnListItem,{name:t("orders:signature:commonReasons:name:".concat(c)),detail:t("orders:signature:commonReasons:detail:".concat(c))},"common-reasons-".concat(i))}))})}))]})};const ShipmentExtrasCard_VerticalSignatureConfirmationView=function(_a){var t=_a.t,hasSignatureConfirmation=_a.hasSignatureConfirmation,signatureConfirmationType=_a.signatureConfirmationType,onChangeHasSignatureConfirmation=_a.onChangeHasSignatureConfirmation,onChangeSignatureConfirmationType=_a.onChangeSignatureConfirmationType,mixedSelection=_a.mixedSelection;return(0,emotion_react_jsx_runtime_browser_esm.BX)(ExtrasModal_MobileStyles.MobileContentBodyContent,{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(ExtrasModal_MobileStyles.MobileSectionTitle,{children:t("shipmentExtras.signatureConfirmation")}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Stack_Stack.Z,(0,tslib_es6.pi)({sx:{placeItems:"center",gap:"1rem",flexDirection:"column"}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(VerticalSignatureConfirmationView_Form,{fullScreen:!0,handleSignatureConfirmationChanged:onChangeHasSignatureConfirmation,handleSignatureConfirmationTypeChanged:onChangeSignatureConfirmationType,hasSignatureConfirmation,signatureConfirmationType,mixedSelection,t})})),(0,emotion_react_jsx_runtime_browser_esm.BX)(ExtrasModal_MobileStyles.MobileModalSection,{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(ExtrasModal_MobileStyles.MobileSectionTitle,{children:t("shipmentExtras.signatureConfirmation")}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(VerticalSignatureConfirmationView_SignatureConfirmationInformation,{t})]})]})};__webpack_require__("./app/hooks/useStackablePortal.ts");var DialogTitle_DialogTitle=__webpack_require__("./node_modules/@goshippo/components/esm/DialogTitle/DialogTitle.js");__webpack_require__("./node_modules/@goshippo/components/esm/DialogContent/DialogContent.js"),__webpack_require__("./node_modules/@goshippo/components/esm/DialogActions/DialogActions.js");(0,styled.ZP)(DialogTitle_DialogTitle.Z)(DesktopStyles_templateObject_1||(DesktopStyles_templateObject_1=(0,tslib_es6.cy)(["\n  padding: 1rem;\n"],["\n  padding: 1rem;\n"]))),(0,styled.ZP)(Stack_Stack.Z)(DesktopStyles_templateObject_2||(DesktopStyles_templateObject_2=(0,tslib_es6.cy)(["\n  width: 50%;\n  margin-right: 1.5rem;\n"],["\n  width: 50%;\n  margin-right: 1.5rem;\n"]))),(0,styled.ZP)(Stack_Stack.Z)(DesktopStyles_templateObject_3||(DesktopStyles_templateObject_3=(0,tslib_es6.cy)(["\n  width: 50%;\n  margin-left: 1.5rem;\n  gap: 1rem;\n"],["\n  width: 50%;\n  margin-left: 1.5rem;\n  gap: 1rem;\n"])));var DesktopStyles_templateObject_1,DesktopStyles_templateObject_2,DesktopStyles_templateObject_3;function signatureConfirmationFormReducer(_state,action){switch(action.type){case"DISABLED":return{hasSignatureConfirmation:!1,signatureConfirmationType:null};case"KEEP":case modules_types.XR.STANDARD:case modules_types.XR.ADULT:return{hasSignatureConfirmation:!0,signatureConfirmationType:action.type};default:return{hasSignatureConfirmation:!1,signatureConfirmationType:null}}}const ShipmentInsuranceCard_SignatureConfirmationSimplifiedView=function(_a){var defaultValues=_a.defaultValues,insuredValue=_a.insuredValue,onClose=_a.onClose,onClickSubmitParent=_a.onClickSubmit,editSignatureDrawer=_a.editSignatureDrawer,batchEntryCount=_a.batchEntryCount,mixedSelection=_a.mixedSelection,t=_a.t,isRequired=_a.isRequired,_b=function hooks_useExtrasSignatureFormControls(defaultValues,onSubmitToParent,onCancel){var _a=(0,tslib_es6.CR)((0,react.useReducer)(signatureConfirmationFormReducer,defaultValues),2),state=_a[0],dispatch=_a[1],onSubmit=(0,react.useCallback)((function(){"KEEP"===state.signatureConfirmationType?onCancel():onSubmitToParent({hasSignatureConfirmation:state.hasSignatureConfirmation,signatureConfirmationType:state.signatureConfirmationType})}),[state,onCancel,onSubmitToParent]),setHasSignatureConfirmation=(0,react.useCallback)((function(enabled){dispatch({type:enabled?modules_types.XR.STANDARD:"DISABLED"})}),[]),setSignatureConfirmationType=(0,react.useCallback)((function(type){switch(type){case"KEEP":case modules_types.XR.ADULT:case modules_types.XR.STANDARD:return void dispatch({type});default:return}}),[]);return{hasSignatureConfirmation:state.hasSignatureConfirmation,signatureConfirmationType:state.signatureConfirmationType,onSubmit,setHasSignatureConfirmation,setSignatureConfirmationType}}(defaultValues,onClickSubmitParent,onClose),hasSignatureConfirmation=_b.hasSignatureConfirmation,signatureConfirmationType=_b.signatureConfirmationType,onSubmit=_b.onSubmit,setHasSignatureConfirmation=_b.setHasSignatureConfirmation,setSignatureConfirmationType=_b.setSignatureConfirmationType,handleSubmit=(0,react.useCallback)((function(){(0,segment.j)(segment.zW.signature_updated,{type_of_signature:signatureConfirmationType,is_required:isRequired}),onSubmit()}),[signatureConfirmationType,mixedSelection.totalSignatureCost,mixedSelection.numberSelected,onSubmit]);return(0,emotion_react_jsx_runtime_browser_esm.tZ)(emotion_react_jsx_runtime_browser_esm.HY,{children:editSignatureDrawer&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(MobileAndDesktopDrawer.Z,(0,tslib_es6.pi)({drawerProps:{transitionDuration:0},title:t("shipmentExtras.signatureConfirmation"),subtitle:1===batchEntryCount?"1 ".concat(t("orders:itemsCard:order")):batchEntryCount>1?"".concat(batchEntryCount," ").concat(t("orders:itemsCard:orderPlural")):"",open:!0,onBack:onClose,onClose,footerButtonPrimary:{text:t("shipmentExtras.update"),action:handleSubmit},footerButtonSecondary:{text:t("shipmentExtras.cancel"),action:onClose},fullWidth:!0,fullHeight:!0,paperBoxShadow:"none",footerDataTestId:"signature-footer"},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(ShipmentExtrasCard_VerticalSignatureConfirmationView,{hasSignatureConfirmation,signatureConfirmationType,insuredValue,onChangeHasSignatureConfirmation:setHasSignatureConfirmation,onChangeSignatureConfirmationType:setSignatureConfirmationType,mixedSelection,t})}))})};const ShipmentInsuranceCard_ShipmentSignatureRow=function(_a){var t=_a.t,extrasInsurance=_a.extrasInsurance,extrasSignature=_a.extrasSignature,onSubmitParent=_a.onSubmit,mixedSelection=_a.mixedSelection,defaultModalContent=_a.defaultModalContent,isInsuranceAvailable=_a.isInsuranceAvailable,isBatch=_a.isBatch,_b=(0,tslib_es6.CR)((0,react.useState)(!1),2),editSignatureDrawer=_b[0],setEditSignatureDrawer=_b[1],baseDefaultSignatureContent=function useDefaultSignatureContent(extrasSignature){return{defaultSignatureContent:(0,react.useMemo)((function(){return extrasSignature?{hasSignatureConfirmation:extrasSignature.hasSignatureConfirmation,signatureConfirmationType:extrasSignature.signatureConfirmationType||void 0}:{hasSignatureConfirmation:!1}}),[extrasSignature])}}(extrasSignature).defaultSignatureContent,defaultEditSignatureContent=(0,react.useMemo)((function(){return mixedSelection.numberSelected>1&&mixedSelection.numberWithSignature>0?{hasSignatureConfirmation:!0,signatureConfirmationType:"KEEP"}:baseDefaultSignatureContent}),[baseDefaultSignatureContent,mixedSelection]),onSubmitSignature=function useOnSubmitSignature(onSubmit,setShowModal){var onSubmitSignature=(0,react.useCallback)((function(_a){var hasSignatureConfirmation=_a.hasSignatureConfirmation,signatureConfirmationType=_a.signatureConfirmationType;onSubmit({signatureConfirmation:hasSignatureConfirmation?{hasSignatureConfirmation,signatureConfirmationType}:null}),setShowModal(!1)}),[onSubmit,setShowModal]);return{onSubmitSignature}}(onSubmitParent,setEditSignatureDrawer).onSubmitSignature,onClickEditSignatureDrawer=(0,react.useCallback)((function(){setEditSignatureDrawer(!0),(0,segment.j)(segment.zW.signature_details_opened)}),[]),onCloseEditSignatureDrawer=(0,react.useCallback)((function(){setEditSignatureDrawer(!1)}),[]),removeSignature=(0,react.useCallback)((function(){onSubmitParent({signatureConfirmation:null}),(0,segment.j)(segment.zW.signature_removed_sidebar)}),[onSubmitParent]),baseSignatureConfirmationDescription=function useSignatureConfirmationDescription(signatureFormValues,isBatch,t,mixedSelection){var signatureConfirmationDescription=(0,react.useMemo)((function(){var _a,hasSignatureConfirmation=signatureFormValues.hasSignatureConfirmation,signatureConfirmationType=signatureFormValues.signatureConfirmationType;return hasSignatureConfirmation&&signatureConfirmationType?isBatch&&hasSignatureConfirmation&&mixedSelection?t("insurance.numOfRequired",{numRequired:mixedSelection.numberWithSignature,numOrders:mixedSelection.numberSelected}):(null===(_a=signatureConfirmationMap[signatureConfirmationType])||void 0===_a?void 0:_a.label)||"":t("shipmentExtras.notAdded")}),[isBatch,signatureFormValues,t]);return{signatureConfirmationDescription}}(defaultEditSignatureContent,!!isBatch,t,mixedSelection).signatureConfirmationDescription,batchEntryCount=mixedSelection.numberSelected;return(0,emotion_react_jsx_runtime_browser_esm.BX)(emotion_react_jsx_runtime_browser_esm.HY,{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(CardBlock,(0,tslib_es6.pi)({sx:isInsuranceAvailable?null:{":first-of-type":{borderTop:"none",paddingTop:0}}},{children:(0,emotion_react_jsx_runtime_browser_esm.BX)(types.Zj,{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Stack_Stack.Z,(0,tslib_es6.pi)({direction:"row",alignItems:"center",justifyContent:"flex-start",spacing:1},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",variant:"bodyEmphasized"},{children:t("blackbeard.signature")}))})),(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack_Stack.Z,(0,tslib_es6.pi)({direction:"row",alignItems:"center",justifyContent:"flex-start",spacing:1},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",variant:"body","data-testid":"extra-signature-type",color:colors.O.gray80},{children:defaultEditSignatureContent.hasSignatureConfirmation?baseSignatureConfirmationDescription:t("blackbeard.notRequired")})),defaultEditSignatureContent.hasSignatureConfirmation&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(RemoveIconButton,{onClick:removeSignature,src:icon_close_dark_gray,"data-e2e":"remove-insurance-button",color:colors.O.gray80}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(AddEditButton,(0,tslib_es6.pi)({variant:"text",color:"primary",onClick:onClickEditSignatureDrawer,"data-testid":"extra-signature-drawer-open"},{children:defaultEditSignatureContent.hasSignatureConfirmation?t("shipmentExtras.edit"):t("actions.single.add")}))]}))]})})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(ShipmentInsuranceCard_SignatureConfirmationSimplifiedView,{defaultValues:defaultEditSignatureContent,insuredValue:parseFloat((null==extrasInsurance?void 0:extrasInsurance.amount)||"0")||0,onClose:onCloseEditSignatureDrawer,onClickSubmit:onSubmitSignature,t,editSignatureDrawer,batchEntryCount,mixedSelection,isRequired:parseFloat(defaultModalContent.amount)>=500})]})};const ShipmentInsuranceCard_ShipmentInsuranceCardContent=function(props){return props.isLoading?(0,emotion_react_jsx_runtime_browser_esm.tZ)(types.T$,{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(CircularProgress.Z,{})}):(0,emotion_react_jsx_runtime_browser_esm.BX)(types.T$,{children:[props.isInsuranceAvailable&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(ShipmentInsuranceRow,(0,tslib_es6.pi)({},props)),(0,emotion_react_jsx_runtime_browser_esm.tZ)(ShipmentInsuranceCard_ShipmentSignatureRow,(0,tslib_es6.pi)({},props))]})};const ShipmentInsuranceCard_ShipmentInsuranceHeader=function(_a){var mixedSelection=_a.mixedSelection,insuranceCost=_a.insuranceCost,currency=_a.currency,_b=_a.lineItemsCost,lineItemsCost=void 0===_b?0:_b,t=_a.t,hasInsurance=mixedSelection&&mixedSelection.numberWithInsurance===mixedSelection.numberSelected,isMixedInsurance=mixedSelection&&mixedSelection.numberWithInsurance>0&&mixedSelection.numberWithInsurance<mixedSelection.numberSelected,highValueItemsCurrency=(0,react.useMemo)((function(){return{amount:t("translations:currency",{value:{value:lineItemsCost,currency_iso:currency.iso,minimumFractionDigits:lineItemsCost%1!=0?2:0}})}}),[lineItemsCost,currency.iso]),insuranceCostRecommendation=(0,react.useMemo)((function(){return t("translations:currency",{value:{value:insuranceCost,currency_iso:currency.iso}})}),[insuranceCost,currency.iso]),insuranceHeaderTitle=(0,react.useMemo)((function(){return isMixedInsurance?t("orders:blackbeard.shipmentMixedInsured"):hasInsurance?t("orders:blackbeard.shipmentInsuredVariant",{count:mixedSelection.numberSelected}):lineItemsCost&&lineItemsCost>=500&&1===mixedSelection.numberSelected?t("orders:shipmentExtras.notInsuredAmountTitleVariant",highValueItemsCurrency):t("orders:blackbeard.shipmentNotInsuredVariant",{count:mixedSelection.numberSelected})}),[isMixedInsurance,hasInsurance,lineItemsCost,mixedSelection.numberSelected,highValueItemsCurrency]);return(0,emotion_react_jsx_runtime_browser_esm.BX)(emotion_react_jsx_runtime_browser_esm.HY,{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(InsuranceHeader,(0,tslib_es6.pi)({"data-testid":"shipment-insurance-accordion-header",component:"h2",variant:"h2"},{children:insuranceHeaderTitle})),!hasInsurance&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(InsuranceRecommend,(0,tslib_es6.pi)({component:"p",variant:"body"},{children:lineItemsCost?(0,emotion_react_jsx_runtime_browser_esm.tZ)(translate.eU,{i18nKey:"shipmentExtras.xcoverRecommendItems",value:(0,emotion_react_jsx_runtime_browser_esm.tZ)("strong",{children:insuranceCostRecommendation})}):t("shipmentExtras.xcoverRecommend")}))]})};const ShipmentInsuranceCard_ShipmentInsuranceCard=function(_a){var batchEntryLineItems=_a.batchEntryLineItems,insuranceExtra=_a.insuranceExtra,signatureConfirmation=_a.signatureConfirmation,isBatch=_a.isBulk,isLoading=_a.isLoading,mixedSelection=_a.mixedSelection,order=_a.order,onSubmitExtras=_a.onSubmitExtras,t=_a.t,userInsuranceRate=_a.userInsuranceRate,insuredItems=_a.insuredItems,hasReturn=_a.hasReturn,isInsuranceAvailable=_a.isInsuranceAvailable,isConfirmationDrawer=_a.isConfirmationDrawer,partialOrderLineItems=(0,react.useMemo)((function(){return(0,utils.Uv)(null==order?void 0:order.lineItems,batchEntryLineItems)}),[order,batchEntryLineItems]),defaultModalContent=(0,react.useMemo)((function(){var content=(0,utils.Nu)(insuranceExtra,order,partialOrderLineItems);return(0,modules_utils.lF)(mixedSelection)?(0,tslib_es6.pi)((0,tslib_es6.pi)({},content),{hasInsurance:"keep"}):content}),[insuranceExtra,mixedSelection,order,partialOrderLineItems]),insuranceCost=(0,utils.md)(userInsuranceRate,parseFloat(defaultModalContent.amount)),lineItemsCost=(0,utils.$E)(null==order?void 0:order.lineItems),showReturnInsuranceSignatureWarning=hasReturn&&!!(null==insuranceExtra?void 0:insuranceExtra.amount)&&!!lineItemsCost&&lineItemsCost>=500&&(null==signatureConfirmation?void 0:signatureConfirmation.hasSignatureConfirmation);return(0,emotion_react_jsx_runtime_browser_esm.tZ)(emotion_react_jsx_runtime_browser_esm.HY,{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)("div",{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Card_styled._L,(0,tslib_es6.pi)({"data-testid":"insurance-card-container",sx:{marginBottom:"0.5rem"}},{children:(0,emotion_react_jsx_runtime_browser_esm.BX)(ContentContainer,{children:[isInsuranceAvailable&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(ShipmentInsuranceCard_ShipmentInsuranceHeader,{mixedSelection,t,insuranceCost,currency:defaultModalContent.currency,lineItemsCost}),isInsuranceAvailable&&showReturnInsuranceSignatureWarning&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(ShipmentExtrasCard_ReturnLabelWarning,{t,isSidePanel:!0}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(ShipmentInsuranceCard_ShipmentInsuranceCardContent,{batchEntryLineItems,isBatch,isLoading,order,extrasInsurance:insuranceExtra,extrasSignature:signatureConfirmation,onSubmit:onSubmitExtras,t,userInsuranceRate,mixedSelection,defaultModalContent,insuredItems,lineItemsCost,isInsuranceAvailable,isConfirmationDrawer})]})}))})})},modules_ShipmentInsuranceCard=ShipmentInsuranceCard_ShipmentInsuranceCard;var weight=__webpack_require__("./app/constants/weight.ts"),countries=__webpack_require__("./app/constants/countries.ts"),moment=__webpack_require__("./node_modules/moment/moment.js"),Order=__webpack_require__("./app/types/Order.ts"),mocks=__webpack_require__("./app/tests/mocks/index.ts");const ShipmentInsuranceCard_stories={title:"ShipmentInsuranceCard",component:modules_ShipmentInsuranceCard,parameters:{layout:"centered"},argTypes:{}};var ShipmentInsuranceCardWithTranslate=(0,translate.Iu)("orders")(modules_ShipmentInsuranceCard),Template=function(args){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(ShipmentInsuranceCardWithTranslate,(0,tslib_es6.pi)({},args))},DefaultState=Template.bind({}),InsuranceAndSignature=Template.bind({}),OverFiveHundred=Template.bind({}),onSubmitExtras=function(){};DefaultState.args={batchEntryLineItems:[{objectId:"123456",quantity:1}],insuranceExtra:void 0,isBulk:!1,isLoading:!1,mixedSelection:{numberSelected:0,numberWithInsurance:0,totalCoverage:0,totalInsuranceCost:0,numberWithSignature:0,totalSignatureCost:0,currency:{iso:"USD",symbol:"$"}},order:{toAddress:mocks.Hc,subtotalPrice:"25",totalPrice:"27",objectId:"7673a6958e3341929580299a8d842979",orderNumber:"#4092",orderStatus:Order.iF.PAID,objectOwner:"malcolm_fdv@goshippo.com",validationStatus:Order.Qe.VALID,placedAt:moment("2018-03-27T22:13:55.184Z"),errors:[],shopApp:"Bigcommerce",weight:"2.00",weightUnit:"lb",transactions:[],rates:[],totalTax:"0.00",currency:"USD",shippingMethod:"None",shippingCost:"0.00",shippingCostCurrency:"USD",notes:null,items:[],hidden:!1,partialFulfillmentRequests:[],totalPartialFulfillments:0,lineItems:[{objectId:"098765",quantity:1,title:"T-Shirt",sku:"82828282",totalAmount:"90",totalWeight:"4",weightUnit:weight.Cp.LB,id:12345,product:"cc2202c14d5e45c791fc887ac2bdec2b",variant:"af6b14340c8b46cda326de80b5f37416",appId:"1312327532638",isFulfilled:!1,unitAmount:"6.00",unitWeight:"1.00",manufactureCountry:null,maxShipTime:null,maxDeliveryTime:null,hsCode:null,variantTitle:"",countryOfOrigin:countries.ZP.US,currency:{iso:"USD",symbol:"$"}}]},onSubmitExtras,signatureConfirmation:{hasSignatureConfirmation:!1,signatureConfirmationType:null},t:function(key){return key},userInsuranceRate:1.25,insuredItems:["T-Shirt"]},InsuranceAndSignature.args={batchEntryLineItems:[{objectId:"123456",quantity:1}],insuranceExtra:{amount:"1.25",currency:{iso:"USD",symbol:"$"},useImportedAmount:!1},isBulk:!1,isLoading:!1,mixedSelection:{numberSelected:1,numberWithInsurance:1,totalCoverage:125,totalInsuranceCost:1.25,numberWithSignature:1,totalSignatureCost:3,currency:{iso:"USD",symbol:"$"}},order:{toAddress:mocks.Hc,subtotalPrice:"25",totalPrice:"27",objectId:"7673a6958e3341929580299a8d842979",orderNumber:"#4092",orderStatus:Order.iF.PAID,objectOwner:"malcolm_fdv@goshippo.com",validationStatus:Order.Qe.VALID,placedAt:moment("2018-03-27T22:13:55.184Z"),errors:[],shopApp:"Bigcommerce",weight:"2.00",weightUnit:"lb",transactions:[],rates:[],totalTax:"0.00",currency:"USD",shippingMethod:"None",shippingCost:"0.00",shippingCostCurrency:"USD",notes:null,items:[],hidden:!1,partialFulfillmentRequests:[],totalPartialFulfillments:0,lineItems:[{objectId:"098765",quantity:1,title:"T-Shirt",sku:"82828282",totalAmount:"90",totalWeight:"4",weightUnit:weight.Cp.LB,id:12345,product:"cc2202c14d5e45c791fc887ac2bdec2b",variant:"af6b14340c8b46cda326de80b5f37416",appId:"1312327532638",isFulfilled:!1,unitAmount:"6.00",unitWeight:"1.00",manufactureCountry:null,maxShipTime:null,maxDeliveryTime:null,hsCode:null,variantTitle:"",countryOfOrigin:countries.ZP.US,currency:{iso:"USD",symbol:"$"}}]},onSubmitExtras,signatureConfirmation:{hasSignatureConfirmation:!0,signatureConfirmationType:"STANDARD"},t:function(key){return key},userInsuranceRate:1.25,insuredItems:["T-Shirt"]},OverFiveHundred.args={batchEntryLineItems:[{objectId:"123456",quantity:1}],insuranceExtra:{amount:"510",currency:{iso:"USD",symbol:"$"},useImportedAmount:!1},isBulk:!1,isLoading:!1,mixedSelection:{numberSelected:1,numberWithInsurance:1,totalCoverage:510,totalInsuranceCost:5.1,numberWithSignature:1,totalSignatureCost:3,currency:{iso:"USD",symbol:"$"}},order:{toAddress:mocks.Hc,subtotalPrice:"25",totalPrice:"27",objectId:"7673a6958e3341929580299a8d842979",orderNumber:"#4092",orderStatus:Order.iF.PAID,objectOwner:"malcolm_fdv@goshippo.com",validationStatus:Order.Qe.VALID,placedAt:moment("2018-03-27T22:13:55.184Z"),errors:[],shopApp:"Bigcommerce",weight:"2.00",weightUnit:"lb",transactions:[],rates:[],totalTax:"0.00",currency:"USD",shippingMethod:"None",shippingCost:"0.00",shippingCostCurrency:"USD",notes:null,items:[],hidden:!1,partialFulfillmentRequests:[],totalPartialFulfillments:0,lineItems:[{objectId:"098765",quantity:1,title:"T-Shirt",sku:"82828282",totalAmount:"90",totalWeight:"4",weightUnit:weight.Cp.LB,id:12345,product:"cc2202c14d5e45c791fc887ac2bdec2b",variant:"af6b14340c8b46cda326de80b5f37416",appId:"1312327532638",isFulfilled:!1,unitAmount:"6.00",unitWeight:"1.00",manufactureCountry:null,maxShipTime:null,maxDeliveryTime:null,hsCode:null,variantTitle:"",countryOfOrigin:countries.ZP.US,currency:{iso:"USD",symbol:"$"}}]},onSubmitExtras,signatureConfirmation:{hasSignatureConfirmation:!0,signatureConfirmationType:"STANDARD"},t:function(key){return key},userInsuranceRate:1.25,insuredItems:["T-Shirt"]},DefaultState.parameters={...DefaultState.parameters,docs:{...DefaultState.parameters?.docs,source:{originalSource:"(args: ShipmentInsuranceCardProps) => <ShipmentInsuranceCardWithTranslate {...args} />",...DefaultState.parameters?.docs?.source}}},InsuranceAndSignature.parameters={...InsuranceAndSignature.parameters,docs:{...InsuranceAndSignature.parameters?.docs,source:{originalSource:"(args: ShipmentInsuranceCardProps) => <ShipmentInsuranceCardWithTranslate {...args} />",...InsuranceAndSignature.parameters?.docs?.source}}},OverFiveHundred.parameters={...OverFiveHundred.parameters,docs:{...OverFiveHundred.parameters?.docs,source:{originalSource:"(args: ShipmentInsuranceCardProps) => <ShipmentInsuranceCardWithTranslate {...args} />",...OverFiveHundred.parameters?.docs?.source}}}}}]);