(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[1245],{"./app/assets/settings/no-recipients.png":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"assets/9fa1a6dddf0246a8e4bf73c113ff858f.png"},"./app/components/CountryFlag/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>components_CountryFlag});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),constants=__webpack_require__("./app/styles/constants.ts"),Flag=(0,emotion_styled_browser_esm.A)("span")(templateObject_1||(templateObject_1=(0,tslib_es6.ue)(["\n  border: 1px solid ",";\n  border-radius: 2px;\n  height: fit-content;\n  align-self: center;\n  line-height: 0;\n  min-width: 0.875rem;\n"],["\n  border: 1px solid ",";\n  border-radius: 2px;\n  height: fit-content;\n  align-self: center;\n  line-height: 0;\n  min-width: 0.875rem;\n"])),constants.Tj.gray100);var templateObject_1;const components_CountryFlag=function(_a){var className=_a.className,country=_a.country,props=(0,tslib_es6.Tt)(_a,["className","country"]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(Flag,(0,tslib_es6.Cl)({className:"".concat(className||""," flag-icon flag-icon-").concat(country.toLocaleLowerCase())},props))}},"./app/components/Layout/FlexContainer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,G4:()=>VerticalAlign,bo:()=>FlexDirection,wq:()=>HorizontalAlign});var VerticalAlign,HorizontalAlign,FlexDirection,FlexWrap,tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_emotion_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js");!function(VerticalAlign){VerticalAlign.Stretch="stretch",VerticalAlign.Center="center",VerticalAlign.Start="start",VerticalAlign.End="end",VerticalAlign.BaseLine="baseline"}(VerticalAlign||(VerticalAlign={})),function(HorizontalAlign){HorizontalAlign.Start="start",HorizontalAlign.Center="center",HorizontalAlign.SpaceBetween="space-between",HorizontalAlign.SpaceAround="space-around",HorizontalAlign.SpaceEvenly="space-evenly",HorizontalAlign.End="end",HorizontalAlign.FlexStart="flex-start",HorizontalAlign.FlexEnd="flex-end"}(HorizontalAlign||(HorizontalAlign={})),function(FlexDirection){FlexDirection.Row="row",FlexDirection.Column="column",FlexDirection.RowReverse="row-reverse"}(FlexDirection||(FlexDirection={})),function(FlexWrap){FlexWrap.NoWrap="nowrap",FlexWrap.Wrap="wrap",FlexWrap.WrapReverse="wrap-reverse"}(FlexWrap||(FlexWrap={}));const __WEBPACK_DEFAULT_EXPORT__=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.A)("div")(templateObject_1||(templateObject_1=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.ue)(["\n  display: flex;\n  ",";\n  ",";\n  ",";\n  ",";\n"],["\n  display: flex;\n  ",";\n  ",";\n  ",";\n  ",";\n"])),(function(props){return props.verticalAlign?"align-items: ".concat(props.verticalAlign,";"):""}),(function(props){return props.horizontalAlign?"justify-content: ".concat(props.horizontalAlign,";"):""}),(function(props){return props.flexDirection?"flex-direction: ".concat(props.flexDirection,";"):""}),(function(props){return props.flexWrap?"flex-wrap: ".concat(props.flexWrap,";"):""}));var templateObject_1},"./app/services/address-book.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{sy:()=>ADDRESS_BOOK_API});__webpack_require__("./app/services/api.ts"),__webpack_require__("./app/utils/utils.ts");var _a,_constants_api__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/constants/api.ts"),ADDRESS_BOOK_API="/v2/addresses";(_a={})[_constants_api__WEBPACK_IMPORTED_MODULE_2__.Sh]=_constants_api__WEBPACK_IMPORTED_MODULE_2__.$J},"./app/tests/mocks/addresses.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$8:()=>addressFactory,$U:()=>fromAddress,bB:()=>internationalAddress,ch:()=>toAddress,e1:()=>militaryAddresses,fk:()=>getMockAddressBooks,rU:()=>mockJSONAddress,x:()=>returnAddress});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_constants_countries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/constants/countries.ts"),_constants_states__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/constants/states.ts"),faker__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/faker/index.js"),_types_Address__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/types/Address.ts"),usStatesByStateName=Object.entries(_constants_states__WEBPACK_IMPORTED_MODULE_1__.Vl).reduce((function(accum,_a){var _b=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.zs)(_a,2),key=_b[0];return accum[_b[1].name]=key,accum}),{}),addressId=1,addressFactory=function(opts){void 0===opts&&(opts={isDefaultReturn:!1,isDefaultSender:!1}),opts.seed&&faker__WEBPACK_IMPORTED_MODULE_2__.seed(opts.seed);var state=opts.state||usStatesByStateName[faker__WEBPACK_IMPORTED_MODULE_2__.address.state()];return{company:void 0===opts.company?faker__WEBPACK_IMPORTED_MODULE_2__.company.companyName():opts.company,street1:opts.street1||faker__WEBPACK_IMPORTED_MODULE_2__.address.streetAddress(!1),street2:opts.street2||faker__WEBPACK_IMPORTED_MODULE_2__.address.secondaryAddress(),streetNumber:opts.streetNumber||"",city:opts.city||faker__WEBPACK_IMPORTED_MODULE_2__.address.city(),state,zip:opts.zip||faker__WEBPACK_IMPORTED_MODULE_2__.address.zipCodeByState(state),name:opts.name||"".concat(faker__WEBPACK_IMPORTED_MODULE_2__.name.firstName()," ").concat(faker__WEBPACK_IMPORTED_MODULE_2__.name.lastName()),phone:"6502080696",email:opts.email||faker__WEBPACK_IMPORTED_MODULE_2__.internet.email(),id:opts.id||(addressId+=1),isDefaultSender:opts.isDefaultSender,isDefaultReturn:opts.isDefaultReturn,objectCreated:opts.objectCreated||new Date,objectUpdated:opts.objectUpdated||new Date,storeAddressId:opts.storeAddressId,storePlatformNames:opts.storePlatformNames,country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.Xr.US}},internationalAddress=(_constants_countries__WEBPACK_IMPORTED_MODULE_0__.Xr.US,{id:12345,objectId:"5a24f0f5951a4fb2ba1232b4f0e684e3",objectState:"VALID",objectPurpose:"QUOTE",objectSource:"FULLY_ENTERED",objectCreated:new Date("2018-06-29T00:06:08.682Z"),objectUpdated:new Date("2018-06-29T00:06:08.682Z"),objectOwner:"malcolm_fdv@shippo.com",name:"Juan Carlos",company:"",streetNumber:null,street1:"Lavalle 1171",street2:"",street3:"",city:"San Nicolas",state:"Buenos Aires",zip:"2900",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.Xr.AR,longitude:null,latitude:null,phone:"",email:"",isResidential:!1,ip:null,messages:[],metadata:"",test:!1}),toAddress=(new Date("2018-06-29T00:06:08.682Z"),new Date("2018-06-29T00:06:08.682Z"),{id:23456,objectId:"5a24f0f5951a4fb2ba1232b4f0e684e3",objectState:"VALID",objectPurpose:"QUOTE",objectSource:"FULLY_ENTERED",objectCreated:new Date("2018-06-29T00:06:08.682Z"),objectUpdated:new Date("2018-06-29T00:06:08.682Z"),objectOwner:"malcolm_fdv@shippo.com",name:"HoFu Tsai",company:"",streetNumber:null,street1:"420 Colon Ave.",street2:"",street3:"",city:"San Francisco",state:"CA",zip:"94127",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.Xr.US,longitude:null,latitude:null,phone:"4243201686",email:"",isResidential:!1,ip:null,messages:[],metadata:"",test:!1}),fromAddress={id:44444,city:"San Francisco",company:"",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.Xr.US,email:"",ip:null,isResidential:!1,latitude:null,longitude:null,messages:[],metadata:"",name:"HoFu Tsai",objectCreated:new Date("2019-08-17T23:26:06.041Z"),objectId:"ce543b58be2a4368b4b31f466057ffdb",objectOwner:"malcolm_fdv@shippo.com",objectPurpose:"PURCHASE",objectSource:"FULLY_ENTERED",objectState:"VALID",objectUpdated:new Date("2019-08-17T23:54:07.752Z"),phone:"4243201686",state:"CA",street1:"731 Market St.",street2:"",street3:"",streetNumber:null,test:!1,zip:"94103"},returnAddress={id:55555,city:"San Francisco",company:"",email:"",ip:null,isResidential:!1,latitude:null,longitude:null,messages:[],metadata:"",name:"Nick Foo",objectCreated:new Date("2019-08-17T23:14:32.568Z"),objectId:"4ae855d9b0954b42ba597516725ae33f",objectOwner:"malcolm_fdv@shippo.com",objectPurpose:"PURCHASE",objectSource:"INVALID",objectState:"VALID",objectUpdated:new Date("2019-08-17T23:14:32.568Z"),phone:"4243201686",street1:"500 Market St.",street2:"",street3:"",streetNumber:null,state:"CA",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.Xr.US,zip:"94103",test:!1},militaryAddresses={APOAE:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cl)({},toAddress),{city:"APO",state:"AE",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.Xr.US}),APOAP:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cl)({},toAddress),{city:"APO",state:"AP",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.Xr.US}),APOAA:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cl)({},toAddress),{city:"APO",state:"AA",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.Xr.US}),FPOAE:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cl)({},toAddress),{city:"FPO",state:"AE",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.Xr.US}),FPOAP:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cl)({},toAddress),{city:"FPO",state:"AP",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.Xr.US}),FPOAA:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cl)({},toAddress),{city:"FPO",state:"AA",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.Xr.US})},mockJSONAddress={id:123,object_state:"VALID",object_purpose:"QUOTE",object_source:"FULLY_ENTERED",object_created:"2018-06-29T00:06:08.682Z",object_updated:"2018-06-29T00:06:08.682Z",object_id:"5a24f0f5951a4fb2ba1232b4f0e684e3",object_owner:"fungi@shippo.com",name:"Lechuga",company:"Pechugas Express",street_no:"",street1:"731 Market St",street2:"Ste 200",street3:"",city:"San Francisco",state:"CA",zip:"94103",country:"US",phone:"18006668888",email:"fungi@shippo.com",is_residential:!1,ip:null,messages:[],metadata:"",test:!1},AddressBookFactory=function(seedId){seedId&&faker__WEBPACK_IMPORTED_MODULE_2__.seed(seedId);var addressType=[_types_Address__WEBPACK_IMPORTED_MODULE_3__.VD.RESIDENTIAL,_types_Address__WEBPACK_IMPORTED_MODULE_3__.VD.UNKNOWN];return{id:faker__WEBPACK_IMPORTED_MODULE_2__.datatype.uuid(),address:{name:"".concat(faker__WEBPACK_IMPORTED_MODULE_2__.name.firstName(),", ").concat(faker__WEBPACK_IMPORTED_MODULE_2__.name.lastName()),organization:faker__WEBPACK_IMPORTED_MODULE_2__.company.companyName(),email:faker__WEBPACK_IMPORTED_MODULE_2__.internet.email(),phone:faker__WEBPACK_IMPORTED_MODULE_2__.phone.phoneNumber(),address_line_1:faker__WEBPACK_IMPORTED_MODULE_2__.address.streetAddress(!0),address_line_2:"",street_no:"",city_locality:faker__WEBPACK_IMPORTED_MODULE_2__.address.city(),state_province:faker__WEBPACK_IMPORTED_MODULE_2__.address.stateAbbr(),postal_code:faker__WEBPACK_IMPORTED_MODULE_2__.address.zipCode(),country_code:faker__WEBPACK_IMPORTED_MODULE_2__.address.countryCode(),address_type:addressType[faker__WEBPACK_IMPORTED_MODULE_2__.datatype.number({min:0,max:1})]},updated_at:faker__WEBPACK_IMPORTED_MODULE_2__.datatype.datetime().toString(),created_at:faker__WEBPACK_IMPORTED_MODULE_2__.datatype.datetime().toString()}},getMockAddressBooks=function(length){for(var n=0,addresses=[];n<length;)n++,addresses.push(AddressBookFactory());return addresses}},"./app/utils/translate.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{In:()=>react_i18next__WEBPACK_IMPORTED_MODULE_0__.In,Tl:()=>react_i18next__WEBPACK_IMPORTED_MODULE_0__.Tl,x6:()=>react_i18next__WEBPACK_IMPORTED_MODULE_0__.x6});var react_i18next__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js")},"./app/pages/Settings/Recipients/RecipientsTable/RecipientsTable.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ErrorState:()=>ErrorState,LoadingState:()=>LoadingState,NoRecipients:()=>RecipientsTable_stories_NoRecipients,NoRecipientsFromSearch:()=>NoRecipientsFromSearch,RecipientsTable:()=>RecipientsTable_stories_RecipientsTable,default:()=>RecipientsTable_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),addresses=__webpack_require__("./app/tests/mocks/addresses.ts"),react=__webpack_require__("./node_modules/react/index.js");const context=(0,react.createContext)({t:function(){},searchValue:""});var translate=__webpack_require__("./app/utils/translate.ts"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),Box=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),DataGridPro=__webpack_require__("./node_modules/@goshippo/components/esm/DataGridPro/DataGridPro.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),colors=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),useMediaQuery=__webpack_require__("./node_modules/@mui/material/useMediaQuery/useMediaQuery.js"),Alert=__webpack_require__("./node_modules/@goshippo/components/esm/Alert/Alert.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js");function renderTextHighlight(text,searchValue){if(!text||!searchValue)return text;var list=(0,tslib_es6.fX)([],(0,tslib_es6.zs)(text.matchAll(new RegExp(searchValue,"gi"))),!1);if(!list.length)return text;var lastIdx=0,result=list.reduce((function(current,next){var subText=(0,tslib_es6.zs)(next,1)[0],idx=next.index;return current.push(text.substring(lastIdx,idx)),current.push((0,emotion_react_jsx_runtime_browser_esm.Y)("mark",{children:subText},"mark-".concat(idx))),lastIdx=idx+subText.length,current}),[]);return result.push(text.substring(lastIdx)),result}var RecipientCell=function(_a){var name=_a.name,organization=_a.organization,_b=(0,react.useContext)(context),t=_b.t,searchValue=_b.searchValue,isMobile=(0,useMediaQuery.A)(shippoTheme.A.breakpoints.down("md")),_c=(0,react.useMemo)((function(){return{recipientName:renderTextHighlight(name||"",searchValue),recipientOrganization:renderTextHighlight(organization||"",searchValue)}}),[searchValue,name,organization]),recipientName=_c.recipientName,recipientOrganization=_c.recipientOrganization;return(0,emotion_react_jsx_runtime_browser_esm.FD)(Box.A,(0,tslib_es6.Cl)({sx:{whiteSpace:"initial",padding:"0 ".concat(shippoTheme.A.spacing(1)," 0 ").concat(shippoTheme.A.spacing(.5)," "),"& mark":{background:colors.T.hoverFocus}}},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"p",variant:"body"},{children:recipientName})),isMobile&&(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"p",variant:organization?"body":"bodyItalic",color:organization?"default":colors.T.secondaryDisabled},{children:recipientOrganization||t("settings:addressBook.recipient.noCompany")}))]}))},RecipientColumn=(0,react.memo)((function(props){return(0,emotion_react_jsx_runtime_browser_esm.Y)(RecipientCell,(0,tslib_es6.Cl)({},props))}));const columns_recipientColumn=function(isMobile){return{field:"recipient",flex:isMobile?1.25:1,sortable:!1,minWidth:isMobile?void 0:96,renderCell:function(cell){return cell.value&&(0,emotion_react_jsx_runtime_browser_esm.Y)(RecipientColumn,(0,tslib_es6.Cl)({},cell.value))}}};var OrganizationCell=function(_a){var name=_a.name,_b=(0,react.useContext)(context),t=_b.t,searchValue=_b.searchValue,organization=(0,react.useMemo)((function(){return renderTextHighlight(name||"",searchValue)}),[name,searchValue]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(Box.A,(0,tslib_es6.Cl)({sx:{whiteSpace:"initial","& mark":{background:colors.T.hoverFocus}}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"p",variant:organization?"body":"bodyItalic",color:organization?"default":colors.T.secondaryDisabled},{children:organization||t("settings:addressBook.recipient.noCompany")}))}))},OrganizationColumn=(0,react.memo)((function(props){return(0,emotion_react_jsx_runtime_browser_esm.Y)(OrganizationCell,(0,tslib_es6.Cl)({},props))}));const columns_organizationColumn={field:"organization",flex:1,sortable:!1,minWidth:96,renderCell:function(cell){return cell.value&&(0,emotion_react_jsx_runtime_browser_esm.Y)(OrganizationColumn,(0,tslib_es6.Cl)({},cell.value))}};var templateObject_1,Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),CountryFlag=__webpack_require__("./app/components/CountryFlag/index.ts"),AddressText=(0,styled.Ay)(Typography.A)(templateObject_1||(templateObject_1=(0,tslib_es6.ue)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  @media screen and (max-width: ","px) {\n    font-size: ",";\n    line-height: ",";\n  }\n"],["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  @media screen and (max-width: ","px) {\n    font-size: ",";\n    line-height: ",";\n  }\n"])),shippoTheme.A.breakpoints.values.sm,shippoTheme.A.spacing(1.5),shippoTheme.A.spacing(2.055)),AddressCell=function(_a){var addressLine1=_a.addressLine1,addressLine2=_a.addressLine2,cityLocality=_a.cityLocality,stateProvince=_a.stateProvince,postalCode=_a.postalCode,countryCode=_a.countryCode,isMobile=(0,useMediaQuery.A)(shippoTheme.A.breakpoints.down("md"));return(0,emotion_react_jsx_runtime_browser_esm.FD)(Stack.A,(0,tslib_es6.Cl)({direction:"row",spacing:2,sx:{alignItems:"center",width:"100%"}},{children:[countryCode&&!isMobile&&(0,emotion_react_jsx_runtime_browser_esm.FD)(Stack.A,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"div"},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(CountryFlag.A,{"data-testid":"customer-cell-country-flag",country:countryCode})})),(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({variant:"caption",component:"div",sx:{color:colors.T.secondary},mx:"auto"},{children:countryCode}))]}),(0,emotion_react_jsx_runtime_browser_esm.FD)(Box.A,(0,tslib_es6.Cl)({sx:{overflow:"hidden"}},{children:[(0,emotion_react_jsx_runtime_browser_esm.FD)(AddressText,(0,tslib_es6.Cl)({variant:"body",component:"p"},{children:[addressLine1," ",addressLine2]})),(0,emotion_react_jsx_runtime_browser_esm.FD)(AddressText,(0,tslib_es6.Cl)({variant:"body",component:"p"},{children:[cityLocality,cityLocality&&stateProvince?", ":"",stateProvince," ",!isMobile&&postalCode]})),isMobile&&(0,emotion_react_jsx_runtime_browser_esm.Y)(AddressText,(0,tslib_es6.Cl)({variant:"body",component:"p"},{children:postalCode}))]}))]}))},AddressColumn=(0,react.memo)((function(props){return(0,emotion_react_jsx_runtime_browser_esm.Y)(AddressCell,(0,tslib_es6.Cl)({},props))}));const columns_addressColumn=function(isMobile){return{field:"address",flex:isMobile?1:1.25,sortable:!1,minWidth:isMobile?void 0:200,renderCell:function(cell){return cell.value&&(0,emotion_react_jsx_runtime_browser_esm.Y)(AddressColumn,(0,tslib_es6.Cl)({},cell.value))}}};var Button=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),RecipientAddressFormProvider=__webpack_require__("./app/pages/Settings/Recipients/contexts/RecipientAddressFormProvider.tsx"),EditActionCell=function(_a){var addressObj=_a.addressObj,t=(0,react.useContext)(context).t,_b=(0,RecipientAddressFormProvider.O)(),setEditingAddress=_b.setEditingAddress,openFormDrawer=_b.openFormDrawer,handleClick=(0,react.useCallback)((function(){setEditingAddress(addressObj),openFormDrawer()}),[addressObj,openFormDrawer,setEditingAddress]);return(0,emotion_react_jsx_runtime_browser_esm.Y)(Box.A,(0,tslib_es6.Cl)({sx:{padding:"0 ".concat(shippoTheme.A.spacing(.5))}},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(Button.A,(0,tslib_es6.Cl)({onClick:handleClick,color:"secondary",variant:"text"},{children:t("settings:recipients:edit")}))}))},EditActionColumn=(0,react.memo)((function(props){return(0,emotion_react_jsx_runtime_browser_esm.Y)(EditActionCell,(0,tslib_es6.Cl)({},props))}));const columns_editActionColumn={field:"editAction",flex:.4,sortable:!1,minWidth:80,align:"right",renderCell:function(cell){return(0,emotion_react_jsx_runtime_browser_esm.Y)(EditActionColumn,(0,tslib_es6.Cl)({},cell.value))}};const columns=function(isMobile){return(0,tslib_es6.fX)((0,tslib_es6.fX)([columns_recipientColumn(isMobile)],(0,tslib_es6.zs)(isMobile?[]:[columns_organizationColumn]),!1),[columns_addressColumn(isMobile),columns_editActionColumn],!1)};var no_recipients=__webpack_require__("./app/assets/settings/no-recipients.png"),no_recipients_default=__webpack_require__.n(no_recipients),NoRecipients=function(_a){var message=_a.message;return(0,emotion_react_jsx_runtime_browser_esm.FD)(Stack.A,(0,tslib_es6.Cl)({spacing:1,sx:{display:"flex",marginTop:"5%",alignItems:"center"}},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Box.A,{component:"img",src:no_recipients_default(),alt:"no recipients image",sx:{width:336,maxWidth:"100%"}}),(0,emotion_react_jsx_runtime_browser_esm.Y)(Typography.A,(0,tslib_es6.Cl)({component:"p",variant:"body"},{children:message}))]}))},emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),FlexContainer=__webpack_require__("./app/components/Layout/FlexContainer.tsx"),constants=__webpack_require__("./app/styles/constants.ts"),animation=(0,emotion_react_browser_esm.i7)(Loader_templateObject_1||(Loader_templateObject_1=(0,tslib_es6.ue)(["\n\t0%, 80%, 100%{\n\t\ttransform: scale(0);\n\t}\n\t40%{\n\t\ttransform: scale(1);\n\t}\n"],["\n\t0%, 80%, 100%{\n\t\ttransform: scale(0);\n\t}\n\t40%{\n\t\ttransform: scale(1);\n\t}\n"]))),Dot=(0,emotion_styled_browser_esm.A)("div")(templateObject_2||(templateObject_2=(0,tslib_es6.ue)(["\n  height: ",";\n  width: ",";\n  border-radius: 50%;\n  background-color: ",";\n  position: relative;\n  animation: 1.2s "," ease-in-out infinite;\n\n  &:nth-of-type(2) {\n    margin: 0 calc("," * 0.75);\n    animation: 1.2s "," ease-in-out infinite 0.15555s;\n  }\n\n  &:nth-of-type(3) {\n    animation: 1.2s "," ease-in-out infinite 0.3s;\n  }\n"],["\n  height: ",";\n  width: ",";\n  border-radius: 50%;\n  background-color: ",";\n  position: relative;\n  animation: 1.2s "," ease-in-out infinite;\n\n  &:nth-of-type(2) {\n    margin: 0 calc("," * 0.75);\n    animation: 1.2s "," ease-in-out infinite 0.15555s;\n  }\n\n  &:nth-of-type(3) {\n    animation: 1.2s "," ease-in-out infinite 0.3s;\n  }\n"])),(function(props){return props.size}),(function(props){return props.size}),(function(props){return props.dotColor}),animation,(function(props){return props.size}),animation,animation);var Loader_templateObject_1,templateObject_2;const components_Loader=function(props){var size=props.size||"20px",color=props.color||constants.Tj.primary;return(0,emotion_react_jsx_runtime_browser_esm.FD)(FlexContainer.Ay,(0,tslib_es6.Cl)({className:props.className,horizontalAlign:FlexContainer.wq.Center,verticalAlign:FlexContainer.G4.Center},{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(Dot,{size,dotColor:color}),(0,emotion_react_jsx_runtime_browser_esm.Y)(Dot,{size,dotColor:color}),(0,emotion_react_jsx_runtime_browser_esm.Y)(Dot,{size,dotColor:color})]}))};var DataGridWrapper=(0,styled.Ay)(Box.A)(RecipientsTable_templateObject_1||(RecipientsTable_templateObject_1=(0,tslib_es6.ue)(["\n  margin-top: 0 !important;\n  flex: 1;\n  position: relative;\n"],["\n  margin-top: 0 !important;\n  flex: 1;\n  position: relative;\n"]))),RecipientsTableDataGrid=(0,styled.Ay)(DataGridPro.Ay)(RecipientsTable_templateObject_2||(RecipientsTable_templateObject_2=(0,tslib_es6.ue)(["\n  border: none;\n  justify-content: flex-start;\n\n  .MuiTablePagination-displayedRows {\n    display: none;\n  }\n  .MuiDataGrid-columnHeaders {\n    border: none;\n  }\n\n  .MuiDataGrid-cell {\n    padding: "," 0;\n  }\n\n  .MuiDataGrid-row.Mui-selected,\n  .MuiDataGrid-row.Mui-selected:hover {\n    background-color: ",";\n  }\n\n  .MuiDataGrid-row .MuiDataGrid-cell:focus,\n  .MuiDataGrid-row.Mui-selected .MuiDataGrid-cell:focus {\n    background-color: transparent;\n  }\n\n  @media screen and (max-width: ","px) {\n    .MuiDataGrid-cell {\n      padding: "," 0;\n    }\n  }\n"],["\n  border: none;\n  justify-content: flex-start;\n\n  .MuiTablePagination-displayedRows {\n    display: none;\n  }\n  .MuiDataGrid-columnHeaders {\n    border: none;\n  }\n\n  .MuiDataGrid-cell {\n    padding: "," 0;\n  }\n\n  .MuiDataGrid-row.Mui-selected,\n  .MuiDataGrid-row.Mui-selected:hover {\n    background-color: ",";\n  }\n\n  .MuiDataGrid-row .MuiDataGrid-cell:focus,\n  .MuiDataGrid-row.Mui-selected .MuiDataGrid-cell:focus {\n    background-color: transparent;\n  }\n\n  @media screen and (max-width: ","px) {\n    .MuiDataGrid-cell {\n      padding: "," 0;\n    }\n  }\n"])),shippoTheme.A.spacing(2),colors.T.accent.background.success,shippoTheme.A.breakpoints.values.sm,shippoTheme.A.spacing(1.75));function getRowHeight(){return"auto"}var RecipientsTable_templateObject_1,RecipientsTable_templateObject_2,RecipientsTable=function(_a){var addresses=_a.addresses,count=_a.count,fromSearch=_a.fromSearch,onPageChange=_a.onPageChange,page=_a.page,pageSize=_a.pageSize,t=_a.t,isMobile=(0,useMediaQuery.A)(shippoTheme.A.breakpoints.down("md")),tableColumns=(0,react.useMemo)((function(){return columns(isMobile)}),[isMobile]),tableRows=addresses?function recipientsTableRows(addresses){return addresses.map((function(addressObj){var address=addressObj.address;return{id:addressObj.id,recipient:{name:null==address?void 0:address.name,organization:null==address?void 0:address.organization},organization:{name:null==address?void 0:address.organization},address:{addressLine1:null==address?void 0:address.address_line_1,addressLine2:(null==address?void 0:address.address_line_2)||void 0,cityLocality:null==address?void 0:address.city_locality,stateProvince:null==address?void 0:address.state_province,postalCode:null==address?void 0:address.postal_code,countryCode:null==address?void 0:address.country_code},editAction:{addressObj}}})).filter((function(address){return address}))}(addresses):[];return 0===tableRows.length?(0,emotion_react_jsx_runtime_browser_esm.Y)(NoRecipients,{message:t(fromSearch?"settings:addressBook.recipient.zeroSearchResults":"settings:addressBook.recipient.noSavedRecipients")}):(0,emotion_react_jsx_runtime_browser_esm.Y)(DataGridWrapper,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(RecipientsTableDataGrid,{getRowHeight,columns:tableColumns,disableColumnSelector:!0,disableColumnMenu:!0,hideFooter:Number(count)<=Number(pageSize),headerHeight:0,rowCount:count,rows:tableRows,onPageChange,page,pageSize,pagination:!0,paginationMode:"server",rowsPerPageOptions:[pageSize||0],disableVirtualization:!0,autoHeight:!0})})};function RecipientsTableWrapper(_a){var error=_a.error,loading=_a.loading,t=_a.t,rest=(0,tslib_es6.Tt)(_a,["error","loading","t"]);return error?(0,emotion_react_jsx_runtime_browser_esm.Y)(Alert.A,(0,tslib_es6.Cl)({severity:"error"},{children:t("settings:addressBook.error")})):loading?(0,emotion_react_jsx_runtime_browser_esm.Y)(Box.A,(0,tslib_es6.Cl)({mt:6},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(components_Loader,{})})):(0,emotion_react_jsx_runtime_browser_esm.Y)(RecipientsTable,(0,tslib_es6.Cl)({t},rest))}const RecipientsTable_stories={title:"RecipientsTableWrapper",component:RecipientsTableWrapper};var RecipientTemplateWrapper=(0,translate.Tl)("settings")((function(_a){var t=_a.t,props=(0,tslib_es6.Tt)(_a,["t"]),providerValue=function useRecipientsContextProviderValue(_a){var t=_a.t,searchValue=_a.searchValue;return(0,react.useMemo)((function(){return{t,searchValue}}),[t,searchValue])}(t);return(0,emotion_react_jsx_runtime_browser_esm.Y)(context.Provider,(0,tslib_es6.Cl)({value:providerValue},{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(RecipientsTableWrapper,(0,tslib_es6.Cl)({t},props))}))})),Template=function(args){return(0,emotion_react_jsx_runtime_browser_esm.Y)(RecipientTemplateWrapper,(0,tslib_es6.Cl)({},args))},RecipientsTable_stories_RecipientsTable=function(args){return(0,emotion_react_jsx_runtime_browser_esm.Y)(Template,(0,tslib_es6.Cl)({},args))};RecipientsTable_stories_RecipientsTable.args={loading:!1,error:!1,fromSearch:!1,addresses:(0,addresses.fk)(5)};var ErrorState=function(args){return(0,emotion_react_jsx_runtime_browser_esm.Y)(Template,(0,tslib_es6.Cl)({},args))};ErrorState.args={loading:!1,error:!0,fromSearch:!1,addresses:(0,addresses.fk)(5)};var LoadingState=function(args){return(0,emotion_react_jsx_runtime_browser_esm.Y)(Template,(0,tslib_es6.Cl)({},args))};LoadingState.args={loading:!0,error:!1,fromSearch:!1,addresses:(0,addresses.fk)(5)};var RecipientsTable_stories_NoRecipients=function(args){return(0,emotion_react_jsx_runtime_browser_esm.Y)(Template,(0,tslib_es6.Cl)({},args))};RecipientsTable_stories_NoRecipients.args={loading:!1,error:!1,fromSearch:!1,addresses:[]};var NoRecipientsFromSearch=function(args){return(0,emotion_react_jsx_runtime_browser_esm.Y)(Template,(0,tslib_es6.Cl)({},args))};NoRecipientsFromSearch.args={loading:!1,error:!1,fromSearch:!0,addresses:[]},RecipientsTable_stories_RecipientsTable.parameters={...RecipientsTable_stories_RecipientsTable.parameters,docs:{...RecipientsTable_stories_RecipientsTable.parameters?.docs,source:{originalSource:"args => {\n  return <Template {...args} />;\n}",...RecipientsTable_stories_RecipientsTable.parameters?.docs?.source}}},ErrorState.parameters={...ErrorState.parameters,docs:{...ErrorState.parameters?.docs,source:{originalSource:"args => {\n  return <Template {...args} />;\n}",...ErrorState.parameters?.docs?.source}}},LoadingState.parameters={...LoadingState.parameters,docs:{...LoadingState.parameters?.docs,source:{originalSource:"args => {\n  return <Template {...args} />;\n}",...LoadingState.parameters?.docs?.source}}},RecipientsTable_stories_NoRecipients.parameters={...RecipientsTable_stories_NoRecipients.parameters,docs:{...RecipientsTable_stories_NoRecipients.parameters?.docs,source:{originalSource:"args => {\n  return <Template {...args} />;\n}",...RecipientsTable_stories_NoRecipients.parameters?.docs?.source}}},NoRecipientsFromSearch.parameters={...NoRecipientsFromSearch.parameters,docs:{...NoRecipientsFromSearch.parameters?.docs,source:{originalSource:"args => {\n  return <Template {...args} />;\n}",...NoRecipientsFromSearch.parameters?.docs?.source}}}}}]);