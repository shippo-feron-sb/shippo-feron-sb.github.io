"use strict";(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[1146],{"./node_modules/@goshippo/components/esm/Chip/Chip.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Chip_Chip});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),emotion_element_c39617d8_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-element-c39617d8.browser.esm.js"),Chip=__webpack_require__("./node_modules/@mui/material/Chip/Chip.js"),Box=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),createTheme=__webpack_require__("./node_modules/@mui/material/styles/createTheme.js"),colors=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),elevations=__webpack_require__("./node_modules/@goshippo/components/esm/styles/elevations.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),chipTheme=(0,createTheme.Z)(shippoTheme.Z,{components:{MuiChip:{styleOverrides:{root:{"&.MuiChip-sizeSmall":{padding:`${shippoTheme.Z.spacing(.5)} ${shippoTheme.Z.spacing(1)}`,fontSize:"0.75rem",fontWeight:400,lineHeight:1.37,gap:shippoTheme.Z.spacing(.5),borderRadius:"30px","&.MuiChip-deletable":{padding:`${shippoTheme.Z.spacing(.5)} ${shippoTheme.Z.spacing(.5)} ${shippoTheme.Z.spacing(.5)} ${shippoTheme.Z.spacing(1)}`,borderRadius:"40px"},"& *":{padding:0,margin:0}},"&.MuiChip-filledWarning":{color:colors.O.yellow100,backgroundColor:colors.O.accent.background.warning,position:"relative","& .MuiChip-deleteIconColorWarning":{color:colors.O.yellow60},"& .MuiChip-label":{color:colors.O.text.default},"& .custom-chip-icon.filled":{backgroundColor:colors.O.yellow100}},"&.MuiChip-filledSuccess":{color:colors.O.accent.foreground.success,backgroundColor:colors.O.accent.background.success,position:"relative","& .MuiChip-label":{color:colors.O.text.default},"& .custom-chip-icon.filled":{backgroundColor:colors.O.accent.foreground.success}},"&.MuiChip-filledInfo":{color:colors.O.secondary,backgroundColor:colors.O.secondaryHover,position:"relative","& .MuiChip-label":{color:colors.O.text.default},"& .custom-chip-icon.filled":{backgroundColor:colors.O.secondary}},"&.MuiChip-filledError":{color:colors.O.specialUse.hover,backgroundColor:colors.O.accent.background.error,position:"relative","& .custom-chip-icon.filled":{backgroundColor:colors.O.specialUse.hover}},"&.MuiChip-deletable":{fontWeight:700,"&:hover":{boxShadow:elevations.P[2]},"&:focus":{boxShadow:`0px 0px 0px 4px ${colors.O.hoverFocus}`},"& .MuiChip-deleteIcon":{color:colors.O.secondary},"& .MuiChip-deleteIcon:hover":{backgroundColor:colors.O.secondaryHover,borderRadius:"50%"}},"&.MuiChip-deletableColorDefault":{color:colors.O.text.default,backgroundColor:colors.O.backgroundDeemphasized},"&.Mui-disabled":{opacity:.5}}}}}});const FilledChipIcon=({outlined})=>(0,jsx_runtime.jsx)(Box.Z,{sx:{height:"0.25rem",width:"0.25rem",borderRadius:"50%",border:"2px solid"},className:"custom-chip-icon "+(outlined?"":"filled")}),CustomChipIcon=({useDefaultIcon,iconVariant})=>{switch(!0){case"filled"===iconVariant:return(0,jsx_runtime.jsx)(FilledChipIcon,{});case"outlined"===iconVariant:return(0,jsx_runtime.jsx)(FilledChipIcon,{outlined:!0});case useDefaultIcon:return(0,jsx_runtime.jsx)(FilledChipIcon,{});default:return null}},Chip_Chip=_a=>{var{children,color,iconVariant,size}=_a,props=(0,tslib_es6._T)(_a,["children","color","iconVariant","size"]);const useDefaultIcon=!!iconVariant||null!==iconVariant&&["error","info","success","warning"].includes(color||"");return(0,jsx_runtime.jsx)(emotion_element_c39617d8_browser_esm.a,Object.assign({theme:chipTheme},{children:(0,jsx_runtime.jsx)(Chip.Z,Object.assign({color,sx:useDefaultIcon?{paddingLeft:"0.75rem"}:null,icon:(0,jsx_runtime.jsx)(CustomChipIcon,{useDefaultIcon,iconVariant}),size:size||"small"},props,{children}))}))}},"./node_modules/@goshippo/components/esm/SvgIcon/SvgIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SvgIcon_SvgIcon});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),emotion_element_c39617d8_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-element-c39617d8.browser.esm.js"),SvgIcon=__webpack_require__("./node_modules/@mui/material/SvgIcon/SvgIcon.js"),createTheme=__webpack_require__("./node_modules/@mui/material/styles/createTheme.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js");const svgIconTheme=(0,createTheme.Z)(shippoTheme.Z,{}),SvgIcon_SvgIcon=_a=>{var{children}=_a,props=(0,tslib_es6._T)(_a,["children"]);return(0,jsx_runtime.jsx)(emotion_element_c39617d8_browser_esm.a,Object.assign({theme:svgIconTheme},{children:(0,jsx_runtime.jsx)(SvgIcon.Z,Object.assign({},props,{children}))}))}},"./node_modules/@goshippo/libraries/dist/esm/shared/NoticeAlert/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__("./node_modules/react/jsx-runtime.js")},"./node_modules/@mui/icons-material/esm/Close.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _utils_createSvgIcon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@mui/material/utils/createSvgIcon.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_utils_createSvgIcon__WEBPACK_IMPORTED_MODULE_1__.Z)((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},"./node_modules/lodash-es/_baseEach.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_baseEach});var _baseForOwn=__webpack_require__("./node_modules/lodash-es/_baseForOwn.js"),isArrayLike=__webpack_require__("./node_modules/lodash-es/isArrayLike.js");const _baseEach=function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!(0,isArrayLike.Z)(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}(_baseForOwn.Z)},"./node_modules/lodash-es/_baseForOwn.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_baseForOwn});const _baseFor=function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}();var keys=__webpack_require__("./node_modules/lodash-es/keys.js");const _baseForOwn=function baseForOwn(object,iteratee){return object&&_baseFor(object,iteratee,keys.Z)}},"./node_modules/lodash-es/orderBy.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>lodash_es_orderBy});var _arrayMap=__webpack_require__("./node_modules/lodash-es/_arrayMap.js"),_baseIteratee=__webpack_require__("./node_modules/lodash-es/_baseIteratee.js"),_baseEach=__webpack_require__("./node_modules/lodash-es/_baseEach.js"),isArrayLike=__webpack_require__("./node_modules/lodash-es/isArrayLike.js");const _baseMap=function baseMap(collection,iteratee){var index=-1,result=(0,isArrayLike.Z)(collection)?Array(collection.length):[];return(0,_baseEach.Z)(collection,(function(value,key,collection){result[++index]=iteratee(value,key,collection)})),result};const _baseSortBy=function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array};var _baseUnary=__webpack_require__("./node_modules/lodash-es/_baseUnary.js"),isSymbol=__webpack_require__("./node_modules/lodash-es/isSymbol.js");const _compareAscending=function compareAscending(value,other){if(value!==other){var valIsDefined=void 0!==value,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=(0,isSymbol.Z)(value),othIsDefined=void 0!==other,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=(0,isSymbol.Z)(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0};const _compareMultiple=function compareMultiple(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=_compareAscending(objCriteria[index],othCriteria[index]);if(result)return index>=ordersLength?result:result*("desc"==orders[index]?-1:1)}return object.index-other.index};var identity=__webpack_require__("./node_modules/lodash-es/identity.js");const _baseOrderBy=function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=(0,_arrayMap.Z)(iteratees.length?iteratees:[identity.Z],(0,_baseUnary.Z)(_baseIteratee.Z));var result=_baseMap(collection,(function(value,key,collection){return{criteria:(0,_arrayMap.Z)(iteratees,(function(iteratee){return iteratee(value)})),index:++index,value}}));return _baseSortBy(result,(function(object,other){return _compareMultiple(object,other,orders)}))};var isArray=__webpack_require__("./node_modules/lodash-es/isArray.js");const lodash_es_orderBy=function orderBy(collection,iteratees,orders,guard){return null==collection?[]:((0,isArray.Z)(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),orders=guard?void 0:orders,(0,isArray.Z)(orders)||(orders=null==orders?[]:[orders]),_baseOrderBy(collection,iteratees,orders))}},"./app/actions/routing.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{qw:()=>storeCurrentQueryParams,rd:()=>updateQueryParam});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/actions/constants.ts");function updateQueryParam(name,value){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.u.UPDATE_QUERY_PARAM,payload:{name,value}}}function storeCurrentQueryParams(){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.u.STORE_CURRENT_QUERY_PARAMS}}},"./app/actions/stores.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{wr:()=>fetchStores});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/actions/constants.ts");function fetchStores(){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.u.STORES_FETCH}}},"./app/components/customIcons/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{dt:()=>AddIcon,J$:()=>CircleIcon,nb:()=>DiamondIcon,IW:()=>EditAddressIcon,U6:()=>FlagIcon,pv:()=>FlowerIcon,h_:()=>HeartIcon,Kd:()=>HourGlassIcon,Tk:()=>PersonIcon,Mf:()=>PuzzleIcon,jV:()=>SproutIcon,Ps:()=>SquareIcon,r7:()=>StarIcon,y9:()=>TreeIcon});var emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),SvgIcon=__webpack_require__("./node_modules/@goshippo/components/esm/SvgIcon/SvgIcon.js"),createSvgIcon=function(icon,_a){var id=_a.id,defaultProps=(0,tslib_es6._T)(_a,["id"]);return function(props){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(SvgIcon.Z,(0,tslib_es6.pi)({viewBox:"0 0 24 24","data-testid":id},defaultProps,props,{children:icon}))}},AddIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.tZ)("path",{d:"M19 13H13V19H11V13H5V11H11V5H13V11H19V13Z",fill:"currentColor"}),{id:"AddIcon"}),CircleIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.tZ)("circle",{id:"CircleIcon",r:"10",cx:"12",cy:"12",fill:"currentColor"}),{id:"CircleIcon"}),DiamondIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.tZ)("path",{d:"M8 15L1 8L8 1L15 8L8 15Z",fill:"currentColor"}),{id:"DiamondIcon",viewBox:"0 0 16 16"}),EditAddressIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.tZ)("path",{d:"M5 19H6.425L16.2 9.225L14.775 7.8L5 17.575V19ZM3 21V16.75L16.2 3.575C16.4 3.39167 16.6208 3.25 16.8625 3.15C17.1042 3.05 17.3583 3 17.625 3C17.8917 3 18.15 3.05 18.4 3.15C18.65 3.25 18.8667 3.4 19.05 3.6L20.425 5C20.625 5.18333 20.7708 5.4 20.8625 5.65C20.9542 5.9 21 6.15 21 6.4C21 6.66667 20.9542 6.92083 20.8625 7.1625C20.7708 7.40417 20.625 7.625 20.425 7.825L7.25 21H3ZM15.475 8.525L14.775 7.8L16.2 9.225L15.475 8.525Z",fill:"currentColor"}),{id:"EditAddressIcon"}),FlagIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.tZ)("path",{d:"M2 16V1H10.3571C10.5571 1 10.7429 1.04779 10.9143 1.14338C11.0857 1.23897 11.2286 1.36765 11.3429 1.52941L14 5.41176L11.3429 9.29412C11.2286 9.45588 11.0857 9.58456 10.9143 9.68015C10.7429 9.77574 10.5571 9.82353 10.3571 9.82353H3.71429V16H2Z",fill:"currentColor"}),{id:"FlagIcon",viewBox:"-1 0 16 16"}),FlowerIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.tZ)("path",{d:"M8 15C7.03167 15 6.12167 14.8162 5.27 14.4487C4.41833 14.0812 3.6775 13.5825 3.0475 12.9525C2.4175 12.3225 1.91875 11.5817 1.55125 10.73C1.18375 9.87833 1 8.96833 1 8V1.35L5.2175 4.5175C5.57917 3.96917 5.99042 3.40333 6.45125 2.82C6.91208 2.23667 7.42833 1.63 8 1C8.525 1.58333 9.02667 2.17542 9.505 2.77625C9.98333 3.37708 10.4033 3.9575 10.765 4.5175L15 1.35V8C15 8.96833 14.8162 9.87833 14.4487 10.73C14.0812 11.5817 13.5825 12.3225 12.9525 12.9525C12.3225 13.5825 11.5817 14.0812 10.73 14.4487C9.87833 14.8162 8.96833 15 8 15Z",fill:"currentColor"}),{id:"FlowerIcon",viewBox:"0 0 16 16"}),HeartIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.tZ)("path",{d:"M8 15L6.985 14.0649C3.38 10.7564 1 8.57439 1 5.89646C1 3.71444 2.694 2 4.85 2C6.068 2 7.237 2.57384 8 3.48065C8.763 2.57384 9.932 2 11.15 2C13.306 2 15 3.71444 15 5.89646C15 8.57439 12.62 10.7564 9.015 14.0719L8 15Z",fill:"currentColor"}),{id:"HeartIcon",viewBox:"0 0 16 16"}),HourGlassIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.tZ)("path",{d:"M2 15V13.6H3.5V11.5C3.5 10.7883 3.67813 10.1204 4.03438 9.49625C4.39062 8.87208 4.8875 8.37333 5.525 8C4.8875 7.62667 4.39062 7.12792 4.03438 6.50375C3.67813 5.87958 3.5 5.21167 3.5 4.5V2.4H2V1H14V2.4H12.5V4.5C12.5 5.21167 12.3219 5.87958 11.9656 6.50375C11.6094 7.12792 11.1125 7.62667 10.475 8C11.1125 8.37333 11.6094 8.87208 11.9656 9.49625C12.3219 10.1204 12.5 10.7883 12.5 11.5V13.6H14V15H2Z",fill:"currentColor"}),{id:"HourGlassIcon",viewBox:"0 0 16 16"}),PersonIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.tZ)("path",{d:"M8 8C7.0375 8 6.21354 7.65729 5.52812 6.97187C4.84271 6.28646 4.5 5.4625 4.5 4.5C4.5 3.5375 4.84271 2.71354 5.52812 2.02812C6.21354 1.34271 7.0375 1 8 1C8.9625 1 9.78646 1.34271 10.4719 2.02812C11.1573 2.71354 11.5 3.5375 11.5 4.5C11.5 5.4625 11.1573 6.28646 10.4719 6.97187C9.78646 7.65729 8.9625 8 8 8ZM1 15V12.55C1 12.0542 1.1276 11.5984 1.38281 11.1828C1.63802 10.7672 1.97708 10.45 2.4 10.2312C3.30417 9.77917 4.22292 9.4401 5.15625 9.21406C6.08958 8.98802 7.0375 8.875 8 8.875C8.9625 8.875 9.91042 8.98802 10.8438 9.21406C11.7771 9.4401 12.6958 9.77917 13.6 10.2312C14.0229 10.45 14.362 10.7672 14.6172 11.1828C14.8724 11.5984 15 12.0542 15 12.55V15H1Z",fill:"currentColor"}),{id:"PersonIcon",viewBox:"0 1 16 16"}),PuzzleIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.tZ)("path",{d:"M5.46154 16H1V11.5385C1.61538 11.5385 2.15385 11.3429 2.61538 10.9519C3.07692 10.5609 3.30769 10.0641 3.30769 9.46154C3.30769 8.85897 3.07692 8.36218 2.61538 7.97115C2.15385 7.58013 1.61538 7.38462 1 7.38462V2.92308H5.61538C5.61538 2.38462 5.80128 1.92949 6.17308 1.55769C6.54487 1.1859 7 1 7.53846 1C8.07692 1 8.53205 1.1859 8.90385 1.55769C9.27564 1.92949 9.46154 2.38462 9.46154 2.92308H14.0769V7.53846C14.6154 7.53846 15.0705 7.72436 15.4423 8.09615C15.8141 8.46795 16 8.92308 16 9.46154C16 10 15.8141 10.4551 15.4423 10.8269C15.0705 11.1987 14.6154 11.3846 14.0769 11.3846V16H9.61539C9.61539 15.359 9.41346 14.8141 9.00962 14.3654C8.60577 13.9167 8.11539 13.6923 7.53846 13.6923C6.96154 13.6923 6.47115 13.9167 6.06731 14.3654C5.66346 14.8141 5.46154 15.359 5.46154 16Z",fill:"currentColor"}),{id:"PuzzleIcon",viewBox:"0 1 16 16"}),SproutIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.tZ)("path",{d:"M7.22222 15V8.79722C6.39259 8.79722 5.59537 8.63843 4.83056 8.32083C4.06574 8.00324 3.39167 7.55278 2.80833 6.96944C2.225 6.38611 1.77778 5.71204 1.46667 4.94722C1.15556 4.18241 1 3.38519 1 2.55556V1H2.55556C3.37222 1 4.16296 1.1588 4.92778 1.47639C5.69259 1.79398 6.36667 2.24444 6.95 2.82778C7.35185 3.22963 7.68565 3.67037 7.95139 4.15C8.21713 4.62963 8.4213 5.14167 8.56389 5.68611C8.6287 5.59537 8.7 5.50787 8.77778 5.42361C8.85556 5.33935 8.93982 5.25185 9.03056 5.16111C9.61389 4.57778 10.288 4.12732 11.0528 3.80972C11.8176 3.49213 12.6148 3.33333 13.4444 3.33333H15V4.88889C15 5.71852 14.8412 6.51574 14.5236 7.28056C14.206 8.04537 13.7556 8.71944 13.1722 9.30278C12.5889 9.88611 11.9181 10.3333 11.1597 10.6444C10.4014 10.9556 9.60741 11.1111 8.77778 11.1111V15H7.22222Z",fill:"currentColor"}),{id:"SproutIcon",viewBox:"0 -1 16 16"}),SquareIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.tZ)("path",{d:"M14 2H2V14H14V2Z",fill:"currentColor"}),{id:"SquareIcon",viewBox:"0 0 16 16"}),StarIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.BX)(emotion_react_jsx_runtime_browser_esm.HY,{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,emotion_react_jsx_runtime_browser_esm.tZ)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,emotion_react_jsx_runtime_browser_esm.tZ)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})]}),{id:"StarIcon",viewBox:"2 2 20 20"}),TreeIcon=createSvgIcon((0,emotion_react_jsx_runtime_browser_esm.tZ)("path",{d:"M10.8715 8H12.4358L6.96089 0L1.52514 8H3.05028L0 12.8H5.41229V16H8.5095V12.8H14L10.8715 8Z",fill:"currentColor"}),{id:"TreeIcon",viewBox:"-1 0 16 16"})},"./app/constants/api.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U8:()=>OVERRIDE_ADDRESS_VERSION,V1:()=>V1,eA:()=>OVERRIDE_ADDRESS_HEADER,gA:()=>VERSION_HEADER,kq:()=>LATEST_VERSION});var V1="2014-02-11",LATEST_VERSION="2018-02-08",VERSION_HEADER="Shippo-API-Version",OVERRIDE_ADDRESS_HEADER="Shippo-Override-Addresses",OVERRIDE_ADDRESS_VERSION="V2"},"./app/contexts/GlobalComponentsProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>useGlobalComponentsContext});var react=__webpack_require__("./node_modules/react/index.js");__webpack_require__("./node_modules/@goshippo/libraries/dist/esm/shared/NoticeAlert/index.js");__webpack_require__("./app/utils/translate.ts"),__webpack_require__("./node_modules/react-redux/es/index.js");var GlobalComponentsContext=(0,react.createContext)({snackbar:{addSnackbarAlert:function(){},addSnackbarActionAlert:function(){}}}),useGlobalComponentsContext=function(){return{snackbar:(0,react.useContext)(GlobalComponentsContext).snackbar}}},"./app/pages/Orders/Blackbeard/OrdersTable/OrdersTableTooltip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>OrdersTableTooltip});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@goshippo/components/esm/Tooltip/Tooltip.js"),OrdersTableTooltip=function(_a){var PopperProps=_a.PopperProps,props=(0,tslib__WEBPACK_IMPORTED_MODULE_0__._T)(_a,["PopperProps"]),boundary=document.querySelector(".MuiDataGrid-virtualScrollerContent");return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.tZ)(_goshippo_components__WEBPACK_IMPORTED_MODULE_2__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_0__.pi)({placement:"bottom-start",PopperProps:(0,tslib__WEBPACK_IMPORTED_MODULE_0__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.pi)({},PopperProps),{disablePortal:!0,sx:{whiteSpace:"normal"},modifiers:(0,tslib__WEBPACK_IMPORTED_MODULE_0__.ev)([{name:"flip",enabled:!0,options:{fallbackPlacements:["top-start","bottom-start"],altBoundary:!0,boundary}}],(0,tslib__WEBPACK_IMPORTED_MODULE_0__.CR)((null==PopperProps?void 0:PopperProps.modifiers)||[]),!1)}),variant:"table",arrow:!0},props))}},"./app/pages/Orders/Blackbeard/OrdersTable/columns/util.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>ColumnTooltipContainer});var templateObject_1,tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_goshippo_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),_goshippo_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),ColumnTooltipContainer=(0,_goshippo_components__WEBPACK_IMPORTED_MODULE_0__.ZP)("div")(templateObject_1||(templateObject_1=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.cy)(["\n  display: flex;\n  flex-direction: row;\n  place-items: center;\n  padding: ",";\n  max-width: 100%;\n"],["\n  display: flex;\n  flex-direction: row;\n  place-items: center;\n  padding: ",";\n  max-width: 100%;\n"])),_goshippo_components__WEBPACK_IMPORTED_MODULE_2__.Z.spacing(1.5))},"./app/pages/Orders/Blackbeard/OrdersTable/context.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__,u:()=>useBlackBeardOrdersTableContext});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),BlackbeardOrdersTableContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({addSimpleSnackbarNotification:function(){},addSnackbarActionAlert:function(){},isSmallScreen:!1,isTablet:!1,setRefundLabelTransactionId:function(){},onCopyToClipboard:function(){},onClickPackingSlip:function(){},onClickDownloadPackingSlip:function(){},setShipmentsInformationDrawerData:function(){},onClickPlus:function(){},recentPackages:[],carrierTemplates:{},onPackageQuickSelectAction:function(){},t:function(){},createAnotherLabel:function(){},hideUnhideOrders:function(){},onSplitOrder:function(){},toggleInvalidAddressModal:function(){},onClickRefresh:function(){},setTransactionModalOrderId:function(){},duplicateOrderFunc:function(){return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.mG)(void 0,void 0,void 0,(function(){return(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Jh)(this,(function(_a){return[2]}))}))}});function useBlackBeardOrdersTableContext(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(BlackbeardOrdersTableContext)}const __WEBPACK_DEFAULT_EXPORT__=BlackbeardOrdersTableContext},"./app/selectors/orders.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A0:()=>getSelectedOrders,AU:()=>getOrders,Cx:()=>getIsOrderLoading,G7:()=>getPatchBatchEntriesExtrasRequest,Km:()=>getPackingSlipUrl,Ky:()=>getIsBatchEntrySelected,Lv:()=>getSelectedOrdersData,Mp:()=>getOrderByObjectId,Nw:()=>getSelectedCount,VB:()=>hasNewOrders,Vc:()=>getIsLoading,Vu:()=>getAreAllOrdersSelected,Zu:()=>getIsUpdatingOrder,cT:()=>getOrdersData,g3:()=>getOrdersAllIds,jR:()=>makeGetOrderById,tW:()=>getTotalOrders,ub:()=>getIsOrderSelected,wH:()=>makeGetIsOrderPartiallyFulfilled});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),reselect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/reselect/es/index.js"),_types_Order__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/types/Order.ts"),_types_Transaction__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/types/Transaction.ts"),_utils_fetchable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/utils/fetchable.ts"),EMPTY_ORDER={partialFulfillmentRequests:[]},getOrdersStore=function(state){return state.orders},getOrderIdFromProps=function(_,props){return props.orderId},getOrderObjectIdFromProps=function(_,props){return props.orderObjectId},getOrderAction=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.orderAction})),hasNewOrders=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isSyncingOrders})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.hasNewOrders}))),getOrdersAllIds=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(orderStore){return orderStore.totalOrders})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.allIds}))),getOrdersData=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.data})),getOrders=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersAllIds,getOrdersData,(function(allIds,ordersData){return allIds.map((function(id){return ordersData[id]})).filter((function(v){return v}))})),getTotalOrders=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,(function(ordersData){return Object.values(ordersData).some((function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.Lq)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,(function(ordersData){return Object.values(ordersData).some((function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.si)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.totalOrders}))),getIsOrderLoading=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.allOrdersCount})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isLoadingOrdersCount})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.fetchOrderHasError})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isLoadingOrder}))),getIsLoading=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isLoading})),getPackingSlipUrl=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrderAction,(function(orderAction){return"hide"===orderAction.kind&&(0,_utils_fetchable__WEBPACK_IMPORTED_MODULE_3__.lH)((function(){return!1}),(function(){return!0}),(function(){return!1}),(function(){return!1}))(orderAction.request)})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.transactions})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.packingSlipUrl}))),getSelectedOrders=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.labelDownloadUrl})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.labelDownloadErrMsg})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isDownloadingLabels})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.notificationsLoading})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.notificationsSent})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.lastOrderId})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.selectedOrders}))),getSelectedOrdersData=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.checkedOrders})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.rowModelBeingEdited})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.ordersRemainingLabelDownload})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.checkoutRateAfterPoll})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,getOrdersData,(function(ordersSelection,ordersData){return Object.keys(ordersSelection).map((function(id){return ordersData[id]})).filter((function(v){return v}))}))),makeGetOrderById=function(){return(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,getOrderIdFromProps,(function(ordersData,orderId){return ordersData[orderId]}))},getOrderByObjectId=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,getOrderObjectIdFromProps,(function(ordersData,orderObjectId){return ordersData[orderObjectId]||EMPTY_ORDER})),makeGetIsOrderPartiallyFulfilled=function(){return(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrderByObjectId,(function(order){var e_1,_a,_b;if(!order.partialFulfillmentRequests||!order.totalPartialFulfillments)return!1;var hasFulfilledOrder=!1,hasUnfulfilledOrder=!1,_loop_1=function(request){request.transactionObjectId?(null===(_b=order.transactions.find((function(transaction){return transaction.objectId===request.transactionObjectId})))||void 0===_b?void 0:_b.status)===_types_Transaction__WEBPACK_IMPORTED_MODULE_1__.LN.SUCCESS?hasFulfilledOrder=!0:hasUnfulfilledOrder=!0:hasUnfulfilledOrder=!0;if(hasFulfilledOrder&&hasUnfulfilledOrder)return{value:!0}};try{for(var _c=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.XA)(order.partialFulfillmentRequests),_d=_c.next();!_d.done;_d=_c.next()){var state_1=_loop_1(_d.value);if("object"==typeof state_1)return state_1.value}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_1)throw e_1.error}}return!1}))},getOrderById=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,getOrderIdFromProps,(function(ordersData,orderId){return ordersData[orderId]})),getIsUpdatingOrder=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrderById,(function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.Lq)(order)})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.some((function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.si)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.some((function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.Lq)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.every((function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.Lq)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isUpdatingBatchEntry}))),getIsOrderSelected=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isSingleOrderMode})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isOnOrdersTableScreen})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,getOrderObjectIdFromProps,(function(selectedOrders,orderObjectId){return!!selectedOrders[orderObjectId]}))),getAreAllOrdersSelected=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,getOrdersAllIds,(function(selectedOrders,allIds){return Object.keys(selectedOrders).length===allIds.length})),getIsBatchEntrySelected=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,(function(_,props){return props}),(function(selectedOrders,props){return(selectedOrders[props.orderObjectId]||[]).includes(props.batchEntryId)})),getSelectedCount=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,(function(selectedOrders){return Object.values(selectedOrders).reduce((function(count,currVal){return currVal.length?count+currVal.length:count+1}),0)})),getPatchBatchEntriesExtrasRequest=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.batchEntryEditNotificationState})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(orderStore){return orderStore.patchBatchEntriesExtrasRequest}))),getOrdersDataByObjectIds=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,(function(_,props){return props.orderObjectIds}),(function(ordersData,orderObjectIds){return orderObjectIds.map((function(objectId){return ordersData[objectId]}))}));(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersDataByObjectIds,(function(ordersData){return ordersData.filter((function(order){var _a;return null===(_a=null==order?void 0:order.transactions)||void 0===_a?void 0:_a.some((function(transaction){return"SUCCESS"===transaction.status}))})).map((function(order){return order.transactions.filter((function(t){return"SUCCESS"===t.status}))[0].objectId}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isUpdatingCustomsItems})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isCreatingCustomsItems})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isSidePanelCheckout})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isUpdatingParcel})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isLoadingOrderTags})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.fetchOrderTagsHasError}))},"./app/services/api.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{xn:()=>microServiceAPI});var _a,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),axios=__webpack_require__("./node_modules/axios/index.js"),axios_default=__webpack_require__.n(axios),api=__webpack_require__("./app/constants/api.ts");function setupBaseHeaders(envId){var _a,baseHeaders=((_a={})[api.gA]=api.kq,_a);if("production"===envId)return baseHeaders;baseHeaders["X-HTTP-Request-Source"]="React-".concat(envId);var lang=function readFromLocalStorage(keyName){return window.localStorage.getItem(keyName)}("i18nextLng");return lang&&(baseHeaders["Accept-Language"]=lang),baseHeaders}axios_default().create({baseURL:"https://goshippo-dev.sisense.com"}),axios_default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")});var microServiceAPI=axios_default().create({baseURL:"https://api-dev-qa.shippodev.com",headers:(0,tslib_es6.pi)({},setupBaseHeaders("dynamic"))});axios_default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")}),axios_default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")}),axios_default().create({baseURL:"https://dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")}),axios_default().create({baseURL:"https://service-dev-qa.shippodev.com/store_connect",headers:setupBaseHeaders("dynamic")}),axios_default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")}),axios_default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:(0,tslib_es6.pi)((0,tslib_es6.pi)({},setupBaseHeaders("dynamic")),(_a={},_a[api.gA]=api.V1,_a))})},"./app/tests/mocks/addresses.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AT:()=>getMockAddressBooks,Dj:()=>fromAddress,Fv:()=>usTerritoryAddresses,Hc:()=>toAddress,JL:()=>addressFactory,UK:()=>mockJSONAddress,Us:()=>returnAddress,ol:()=>internationalAddress,xQ:()=>militaryAddresses});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_constants_countries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/constants/countries.ts"),_constants_states__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/constants/states.ts"),faker__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/faker/index.js"),_types_Address__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/types/Address.ts"),usStatesByStateName=Object.entries(_constants_states__WEBPACK_IMPORTED_MODULE_1__.uX).reduce((function(accum,_a){var _b=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.CR)(_a,2),key=_b[0];return accum[_b[1].name]=key,accum}),{}),addressId=1,addressFactory=function(opts){void 0===opts&&(opts={isDefaultReturn:!1,isDefaultSender:!1}),opts.seed&&faker__WEBPACK_IMPORTED_MODULE_2__.seed(opts.seed);var state=opts.state||usStatesByStateName[faker__WEBPACK_IMPORTED_MODULE_2__.address.state()];return{company:void 0===opts.company?faker__WEBPACK_IMPORTED_MODULE_2__.company.companyName():opts.company,street1:opts.street1||faker__WEBPACK_IMPORTED_MODULE_2__.address.streetAddress(!1),street2:opts.street2||faker__WEBPACK_IMPORTED_MODULE_2__.address.secondaryAddress(),streetNumber:opts.streetNumber||"",city:opts.city||faker__WEBPACK_IMPORTED_MODULE_2__.address.city(),state,zip:opts.zip||faker__WEBPACK_IMPORTED_MODULE_2__.address.zipCodeByState(state),name:opts.name||"".concat(faker__WEBPACK_IMPORTED_MODULE_2__.name.firstName()," ").concat(faker__WEBPACK_IMPORTED_MODULE_2__.name.lastName()),phone:"6502080696",email:opts.email||faker__WEBPACK_IMPORTED_MODULE_2__.internet.email(),id:opts.id||(addressId+=1),isDefaultSender:opts.isDefaultSender,isDefaultReturn:opts.isDefaultReturn,objectCreated:opts.objectCreated||new Date,objectUpdated:opts.objectUpdated||new Date,storeAddressId:opts.storeAddressId,storePlatformNames:opts.storePlatformNames,country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}},internationalAddress=(_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US,{id:12345,objectId:"5a24f0f5951a4fb2ba1232b4f0e684e3",objectState:"VALID",objectPurpose:"QUOTE",objectSource:"FULLY_ENTERED",objectCreated:new Date("2018-06-29T00:06:08.682Z"),objectUpdated:new Date("2018-06-29T00:06:08.682Z"),objectOwner:"malcolm_fdv@shippo.com",name:"Juan Carlos",company:"",streetNumber:null,street1:"Lavalle 1171",street2:"",street3:"",city:"San Nicolas",state:"Buenos Aires",zip:"2900",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.AR,longitude:null,latitude:null,phone:"",email:"",isResidential:!1,ip:null,messages:[],metadata:"",test:!1}),toAddress={id:23456,objectId:"5a24f0f5951a4fb2ba1232b4f0e684e3",objectState:"VALID",objectPurpose:"QUOTE",objectSource:"FULLY_ENTERED",objectCreated:new Date("2018-06-29T00:06:08.682Z"),objectUpdated:new Date("2018-06-29T00:06:08.682Z"),objectOwner:"malcolm_fdv@shippo.com",name:"HoFu Tsai",company:"",streetNumber:null,street1:"420 Colon Ave.",street2:"",street3:"",city:"San Francisco",state:"CA",zip:"94127",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US,longitude:null,latitude:null,phone:"4243201686",email:"",isResidential:!1,ip:null,messages:[],metadata:"",test:!1},fromAddress={id:44444,city:"San Francisco",company:"",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US,email:"",ip:null,isResidential:!1,latitude:null,longitude:null,messages:[],metadata:"",name:"HoFu Tsai",objectCreated:new Date("2019-08-17T23:26:06.041Z"),objectId:"ce543b58be2a4368b4b31f466057ffdb",objectOwner:"malcolm_fdv@shippo.com",objectPurpose:"PURCHASE",objectSource:"FULLY_ENTERED",objectState:"VALID",objectUpdated:new Date("2019-08-17T23:54:07.752Z"),phone:"4243201686",state:"CA",street1:"731 Market St.",street2:"",street3:"",streetNumber:null,test:!1,zip:"94103"},returnAddress={id:55555,city:"San Francisco",company:"",email:"",ip:null,isResidential:!1,latitude:null,longitude:null,messages:[],metadata:"",name:"Nick Foo",objectCreated:new Date("2019-08-17T23:14:32.568Z"),objectId:"4ae855d9b0954b42ba597516725ae33f",objectOwner:"malcolm_fdv@shippo.com",objectPurpose:"PURCHASE",objectSource:"INVALID",objectState:"VALID",objectUpdated:new Date("2019-08-17T23:14:32.568Z"),phone:"4243201686",street1:"500 Market St.",street2:"",street3:"",streetNumber:null,state:"CA",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US,zip:"94103",test:!1},militaryAddresses={APOAE:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"APO",state:"AE",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),APOAP:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"APO",state:"AP",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),APOAA:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"APO",state:"AA",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),FPOAE:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"FPO",state:"AE",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),FPOAP:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"FPO",state:"AP",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),FPOAA:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"FPO",state:"AA",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US})},usTerritoryAddresses={AS:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Tutuila",state:"AS",zip:"96799",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),GU:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Tumon",state:"GU",zip:"96913",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),MP:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Tutuila",state:"MP",zip:"96950",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),MH:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Majuro",state:"MH",zip:"96960",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),FM:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Colonia",state:"FM",zip:"96943",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),PW:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Koror",state:"PW",zip:"96940",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),PR:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Guayama",state:"PR",zip:"00784",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),UM:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Midway Atoll",state:"UM",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),VI:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"St. John",state:"VI",zip:"00830",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US})},mockJSONAddress={id:123,object_state:"VALID",object_purpose:"QUOTE",object_source:"FULLY_ENTERED",object_created:"2018-06-29T00:06:08.682Z",object_updated:"2018-06-29T00:06:08.682Z",object_id:"5a24f0f5951a4fb2ba1232b4f0e684e3",object_owner:"fungi@shippo.com",name:"Lechuga",company:"Pechugas Express",street_no:"",street1:"731 Market St",street2:"Ste 200",street3:"",city:"San Francisco",state:"CA",zip:"94103",country:"US",phone:"18006668888",email:"fungi@shippo.com",is_residential:!1,ip:null,messages:[],metadata:"",test:!1},AddressBookFactory=function(seedId){seedId&&faker__WEBPACK_IMPORTED_MODULE_2__.seed(seedId);var addressType=[_types_Address__WEBPACK_IMPORTED_MODULE_3__.MH.RESIDENTIAL,_types_Address__WEBPACK_IMPORTED_MODULE_3__.MH.UNKNOWN];return{id:faker__WEBPACK_IMPORTED_MODULE_2__.datatype.uuid(),address:{name:"".concat(faker__WEBPACK_IMPORTED_MODULE_2__.name.firstName(),", ").concat(faker__WEBPACK_IMPORTED_MODULE_2__.name.lastName()),organization:faker__WEBPACK_IMPORTED_MODULE_2__.company.companyName(),email:faker__WEBPACK_IMPORTED_MODULE_2__.internet.email(),phone:faker__WEBPACK_IMPORTED_MODULE_2__.phone.phoneNumber(),address_line_1:faker__WEBPACK_IMPORTED_MODULE_2__.address.streetAddress(!0),address_line_2:"",street_no:"",city_locality:faker__WEBPACK_IMPORTED_MODULE_2__.address.city(),state_province:faker__WEBPACK_IMPORTED_MODULE_2__.address.stateAbbr(),postal_code:faker__WEBPACK_IMPORTED_MODULE_2__.address.zipCode(),country_code:faker__WEBPACK_IMPORTED_MODULE_2__.address.countryCode(),address_type:addressType[faker__WEBPACK_IMPORTED_MODULE_2__.datatype.number({min:0,max:1})]},updated_at:faker__WEBPACK_IMPORTED_MODULE_2__.datatype.datetime().toString(),created_at:faker__WEBPACK_IMPORTED_MODULE_2__.datatype.datetime().toString()}},getMockAddressBooks=function(length){for(var n=0,addresses=[];n<length;)n++,addresses.push(AddressBookFactory());return addresses}},"./app/tests/mocks/lineItem.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Cu:()=>mockJSONLineItem,mF:()=>mockLineItem});var _constants_countries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/constants/countries.ts"),_constants_currency__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/constants/currency.ts"),_constants_weight__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/constants/weight.ts");__webpack_require__("./node_modules/faker/index.js");var mockLineItem={objectId:"faa625a38cde41578c32317f6744f0c1",id:21,product:"cc2202c14d5e45c791fc887ac2bdec2b",variant:"af6b14340c8b46cda326de80b5f37416",appId:"1312327532638",title:"ShipNote T-Shirt",sku:"SH-TS-SN-01",parcel:null,quantity:2,isFulfilled:!1,unitAmount:"6.00",totalAmount:"12.00",currency:_constants_currency__WEBPACK_IMPORTED_MODULE_1__.Q.USD,unitWeight:"1.00",totalWeight:"2.00",weightUnit:_constants_weight__WEBPACK_IMPORTED_MODULE_2__.Cp.LB,manufactureCountry:null,maxShipTime:null,maxDeliveryTime:null,hsCode:null,variantTitle:"",countryOfOrigin:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US},mockJSONLineItem={object_id:"faa625a38cde41578c32317f6744f0c1",id:21,product:"cc2202c14d5e45c791fc887ac2bdec2b",variant:"af6b14340c8b46cda326de80b5f37416",app_id:"1312327532638",title:"ShipNote T-Shirt",sku:"SH-TS-SN-01",parcel:null,quantity:2,is_fulfilled:!1,unit_amount:"6.00",total_amount:"12.00",currency:"USD",unit_weight:"1.00",total_weight:"2.00",weight_unit:"lb",manufacture_country:null,max_ship_time:null,max_delivery_time:null,hs_code:null,variant_title:"",country_of_origin:"US"}},"./app/tests/mocks/order.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{LA:()=>mockOrderTags});var _a,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),moment=__webpack_require__("./node_modules/moment/moment.js"),Order=__webpack_require__("./app/types/Order.ts"),fetchable=__webpack_require__("./app/utils/fetchable.ts"),lineItem=__webpack_require__("./app/tests/mocks/lineItem.ts"),addresses=__webpack_require__("./app/tests/mocks/addresses.ts"),weight=__webpack_require__("./app/constants/weight.ts"),distance=__webpack_require__("./app/constants/distance.ts"),webAddress={city:"San Francisco",company:"Shippo",country:"US",email:"test.user@shippo.com",name:"TT",phone:"1234567890",state:"CA",street1:"Market St",street2:"Suite 200",street3:"Table 20",street_no:"731",zip:"94103",ip:"ip-address",is_residential:!1,latitude:"37.78709301390101",longitude:"-122.40413477791641",metadata:"Test",object_created:new Date(Date.UTC(2023,10,2)),object_id:"address1",object_purpose:"QUOTE",object_source:"LL",object_state:"ENTERED",object_updated:new Date(Date.UTC(2023,10,2,0,0,1))},webCustomsDeclaration={aes_itn:"aesItn",authorized_person:"test.user",b13a_filing_option:"NOT_REQUIRED",b13a_number:"b13aNumber",certificate:"certificate",eel_pfc:"AES_ITN",exporter_reference:"exporterReference",eori_number:"eoriNumber",importer_reference:"importerReference",incoterm:"DDP",invoice_number:"invoiceNumber",is_certified:!0,is_vat_collected:!0,items:[{control_classification:"controlClassification",description:"description",is_test:!1,is_excluded:!1,line_item_object_id:"lineItemObjectId",mass_unit:weight.Cp.KG,metadata:"metadata",net_value:"netValue",net_weight:"netWeight",object_id:"objectId",origin_country:"AU",object_state:"VALID",quantity:2,sku_code:"skuCode",tariff_number:"tariffNumber",unit_value:"unitValue",unit_weight:"unitWeight",value_currency:"AUD"}],license:"license",metadata:"metadata",non_delivery_handling:"RETURN",notes:"notes",purpose_explanation:"purposeExplanation",purpose_of_shipment:"OTHER",tax_id:"taxId",tax_id_type:"taxIdType"},webLineItem={country_of_origin:"IN",currency:"INR",quantity:10,sku:"sku",title:"title",unit_amount:"unitAmount",unit_weight:"unitWeight",weight_unit:weight.Cp.KG,object_id:"lineItemObjectId",is_fulfilled:!1,total_amount:"totalAmount",total_weight:"totalWeight",variant:"variant",variant_title:"variantTitle"},webCarrierParcelTemplate={api_token:"token1",distance_unit:distance.R.IN,is_variable_dimensions:!1,name:"cabs",carrier:"usps",token:"t1",height:"1",length:"2",width:"3"},webUserParcelTemplate={distance_unit:distance.R.IN,height:"1",is_default:!0,length:"2",name:"name",object_id:"objectId",template:webCarrierParcelTemplate,weight:"3",weight_unit:weight.Cp.G,width:"4"},webParcel={distance_unit:"cm",height:"0",length:"1",mass_unit:weight.Cp.KG,use_item_weight:!0,weight:"2",width:"3",carrier_parcel_template:webCarrierParcelTemplate,user_parcel_template:webUserParcelTemplate},webRate={amount:"amount",amount_local:"amountLocal",arrives_by:"2023-11-02T00:00:00Z",attributes:["attribute1","attribute2"],carrier_account:"carrierAccount",currency:"MYR",currency_local:"USD",duration_terms:"durationTerms",estimated_days:12,included_insurance_price:"includedInsurancePrice",messages:["message1","message2"],object_created:new Date(Date.UTC(2023,10,2)),object_id:"objectId",object_owner:"objectOwner",provider:"provider",provider_image_200:"providerImage200",provider_image_75:"providerImage75",servicelevel:{extended_token:"extendedToken",name:"name",parent_servicelevel:"parentServicelevel",terms:"terms",token:"token"},shipment:"shipment",test:!0,zone:"zone"},mockOrder=(new Date(Date.UTC(2023,10,2)),new Date(Date.UTC(2023,10,2)),new Date(Date.UTC(2023,10,2)),new Date(Date.UTC(2023,10,2)),Order.iF.VALID,Order.Qe.VALID,{toAddress:addresses.Hc,objectId:"7673a6958e3341929580299a8d842979",orderNumber:"#4092",orderStatus:Order.iF.PAID,objectOwner:"malcolm_fdv@shippo.com",validationStatus:Order.Qe.VALID,placedAt:moment("2018-03-27T22:13:55.184Z"),errors:[],addressFrom:addresses.Dj,addressReturn:addresses.Us,shopApp:"Bigcommerce",weight:"2.00",weightUnit:"lb",transactions:[],rates:[],totalTax:"0.00",totalPrice:"24.00",subtotalPrice:"24.00",currency:"USD",shippingMethod:"None",shippingCost:"0.00",shippingCostCurrency:"USD",lineItems:[(0,tslib_es6.pi)({},lineItem.mF)],notes:null,items:[],hidden:!1,partialFulfillmentRequests:[],totalPartialFulfillments:0,tags:void 0}),mockWebOrder=((0,tslib_es6.pi)({},lineItem.Cu),{created_at:"2018-06-29T00:06:08.682Z",currency:"USD",notes:"",order_number:"#4092",order_status:Order.iF.SHIPPED,shipping_cost:"0.00",shipping_cost_currency:"USD",shipping_method:"",shop_app:"Shopify",subtotal_price:"24.00",total_tax:"0.00",total_price:"24.00",weight:"2.00",weight_unit:"lb",copied_from_order_object_id:"",hidden:!1,object_id:"2a24f0f5951a4fb2ba1232b4f0e684e3",object_owner:"malcolm_fdv@shippo.com",validation_status:Order.Qe.VALID,line_items:[(0,tslib_es6.pi)({},webLineItem)],shipments:[],transactions:[],errors:[],tags:void 0}),mockOrderTags=((0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{orderStatus:Order.iF.SHIPPED}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{orderStatus:Order.iF.CANCELLED}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{errors:[{kind:"APIError",message:"oh no I'm an error",code:"surprise_error"}]}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{toAddress:addresses.xQ.APOAE}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{toAddress:addresses.xQ.APOAP}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{toAddress:addresses.xQ.APOAA}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{toAddress:addresses.xQ.FPOAE}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{toAddress:addresses.xQ.FPOAP}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{toAddress:addresses.xQ.FPOAA}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{toAddress:addresses.Fv.AS}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{toAddress:addresses.Fv.GU}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{toAddress:addresses.Fv.MP}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{toAddress:addresses.Fv.MH}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{toAddress:addresses.Fv.FM}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{toAddress:addresses.Fv.PW}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{toAddress:addresses.Fv.PR}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{toAddress:addresses.Fv.UM}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{toAddress:addresses.Fv.VI}),(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockOrder),{addressFrom:addresses.ol}),(_a={})[mockOrder.objectId]=mockOrder,(0,fetchable.ky)(),[{id:"4e5e6edc0236465a868503e70a29d226",name:"VIP customer",color:"FF0000",icon:"star"},{id:"cd8e8e989e2f482caa1d0b25f7d349c4",name:"New customer",color:"00FF00",icon:"heart"},{id:"50786162ea6042fe906121a37f7bf40d",name:"In stock",color:"0000FF",icon:"circle"},{id:"3f81369f65984dd78ff9142f81e72ffb",name:"Out of stock",color:"FFFF00",icon:"flag"},{id:"2425f87c2b934228820aa9efed9fe5f6",name:"Ready to ship",color:"00FFFF",icon:"square"}]);(0,tslib_es6.pi)((0,tslib_es6.pi)({},mockWebOrder),{tags:mockOrderTags}),mockOrderTags.length},"./app/tests/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{HD:()=>createTestStore});var redux__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/redux/es/redux.js");function createTestStore(reducers,state){return void 0===state&&(state={}),(0,redux__WEBPACK_IMPORTED_MODULE_0__.MT)((0,redux__WEBPACK_IMPORTED_MODULE_0__.UY)(reducers),state)}},"./app/utils/featureflagsV2/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{TP:()=>FeatureFlags,ye:()=>useFeatureFlag});var DEFAULT_SPLIT_VARIATION="control",VariationTypes={ROLLOUT:["on","off"],A_B_TESTING:["control","variant","not-included"],OPT_IN_OUT:["initialOptIn","initialOptOut","disabled"]},FeatureFlags={PACKAGE_QUICK_SELECT:{name:"package_quick_select",variationType:VariationTypes.ROLLOUT},SHIPMENTS_BULK_SELECTION:{name:"shipments_bulk_selection",variationType:VariationTypes.A_B_TESTING},SHOW_DUPLICATE_ORDERS:{name:"show_duplicate_orders",variationType:VariationTypes.A_B_TESTING},NEW_RETURNS_WORKFLOW:{name:"new_returns_workflow",variationType:VariationTypes.A_B_TESTING},SHOW_DHL_TERMS:{name:"show_dhl_terms",variationType:VariationTypes.ROLLOUT},ORDERS_REDESIGN:{name:"orders_redesign",variationType:VariationTypes.ROLLOUT},ORDERS_REDESIGN_WITH_OPT_IN_OPT_OUT:{name:"orders_redesign_with_opt_in_opt_out",variationType:VariationTypes.OPT_IN_OUT},INSIGHTS:{name:"insights",variationType:VariationTypes.ROLLOUT},JOIN_FLOW:{name:"join_flow_2024",variationType:VariationTypes.A_B_TESTING},ORDER_TAG_MVP:{name:"order_tag_mvp",variationType:VariationTypes.ROLLOUT},SHOW_PARCEL_BOT:{name:"show_ai_parcel_bot",variationType:VariationTypes.ROLLOUT}},react_sdk=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/@optimizely/react-sdk/dist/react-sdk.js")),esm_exports=(__webpack_require__("./node_modules/react-redux/es/index.js"),__webpack_require__("./app/selectors/user.selectors.ts"),__webpack_require__("./node_modules/uuid/index.js"),__webpack_require__("./node_modules/@sentry/core/esm/exports.js")),errorHandler={handleError:function(error){esm_exports.uT("[Optimizely] ".concat(null==error?void 0:error.message))}};(0,react_sdk.Fs)({sdkKey:"5BDuBhgGXbHXWEXMojbEi",datafileOptions:{autoUpdate:!0},errorHandler,logLevel:3,eventBatchSize:10,eventFlushInterval:1e3});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");function useFeatureFlag(featureFlag){var _a=(0,tslib_es6.CR)((0,react_sdk.rm)(featureFlag.name,{autoUpdate:!0}),2),decision=_a[0];return _a[1]?featureFlag.variationType===VariationTypes.ROLLOUT?{enabled:"on"===decision.variationKey}:featureFlag.variationType===VariationTypes.OPT_IN_OUT?{variation:"off"===decision.variationKey?"initialOptIn":decision.variationKey}:{variation:"off"===decision.variationKey?DEFAULT_SPLIT_VARIATION:decision.variationKey}:null}},"./app/pages/Orders/Blackbeard/OrdersTable/cells/TagsCell.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Empty:()=>Empty,With2Tags:()=>With2Tags,With3Tags:()=>With3Tags,With4Tags:()=>With4Tags,With5Tags:()=>With5Tags,default:()=>TagsCell_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),react=__webpack_require__("./node_modules/react/index.js"),util=__webpack_require__("./app/pages/Orders/Blackbeard/OrdersTable/columns/util.ts"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),Button=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),api=__webpack_require__("./app/services/api.ts");var update_orders_tags_service_updateOrdersTags=function(_a){var order_ids=_a.order_ids,tag_ids=_a.tag_ids;return api.xn.request({url:"".concat(web_orders_service_WEB_ORDERS_API,"/tags"),method:"POST",data:{order_ids,tag_ids}})},remove_orders_tags_service_removeOrdersTags=function(_a){var order_ids=_a.order_ids,tag_ids=_a.tag_ids;return api.xn.request({url:"".concat(web_orders_service_WEB_ORDERS_API,"/tags"),method:"DELETE",data:{order_ids,tag_ids}})},web_orders_service_WEB_ORDERS_API="/web_orders",Order=__webpack_require__("./app/types/Order.ts"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),orders_actions=__webpack_require__("./app/actions/orders.actions.ts"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js");var types=__webpack_require__("./app/pages/Orders/Blackbeard/types/types.ts");function useOrdersSearchForm(){var _a=function useSearchQueryParams(){var history=(0,react_router.k6)(),_a=(0,tslib_es6.CR)((0,react.useState)(void 0),2),queryParams=_a[0],setQueryParams=_a[1];return(0,react.useEffect)((function(){var e_1,_a,searchParams=new URLSearchParams(history.location.search.substring(1)),queryParamObject={},shippingMethodCount=0;try{for(var _b=(0,tslib_es6.XA)(searchParams.entries()),_c=_b.next();!_c.done;_c=_b.next()){var _d=(0,tslib_es6.CR)(_c.value,2),key=_d[0],value=_d[1];key.includes("shipping_method")?(queryParamObject["shipping_method[".concat(shippingMethodCount,"]")]=value,shippingMethodCount+=1):queryParamObject[key]=value}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}setQueryParams(queryParamObject)}),[history.location]),{queryParams,updateQueryParams:(0,react.useCallback)((function(newQueryParams){var queryString=Object.keys(newQueryParams).map((function(key){return encodeURIComponent(key)+"="+encodeURIComponent(newQueryParams[key])})).join("&");history.push("".concat(location.pathname,"?").concat(queryString))}),[history])}}(),queryParams=_a.queryParams,updateQueryParams=_a.updateQueryParams,searchQueryParam=queryParams,stringifiedQueryParams=(0,react.useMemo)((function(){return JSON.stringify(searchQueryParam)}),[searchQueryParam]),searchState=(0,react.useMemo)((function(){return searchQueryParam?(0,types.nE)(searchQueryParam):types.iG}),[stringifiedQueryParams]),searchDirty=(0,react.useMemo)((function(){for(var filterKey in searchState){var filterValue=searchState[filterKey];if(JSON.stringify(filterValue)!==JSON.stringify(types.iG[filterKey]))return!0}return!1}),[searchState]),searchCallbacks=(0,react.useMemo)((function(){var callbacks=Object.keys(types.iG).reduce((function(accum,key){return accum[key]=function(value){var _a,queryUpdateContents=(0,tslib_es6.pi)((0,tslib_es6.pi)({},searchState),((_a={sortField:searchDirty?searchState.sortField:"most_relevant"})[key]=value,_a));"orderStatus"===key&&(queryUpdateContents.hidden="hidden"===value),"currentPageNumber"!==key&&(queryUpdateContents.currentPageNumber=types.iG.currentPageNumber);var queryUpdate=(0,types.KR)(queryUpdateContents);updateQueryParams(queryUpdate)},accum}),{});return callbacks}),[searchState,updateQueryParams,searchDirty]),clearFilters=(0,react.useCallback)((function(){var defaultQueryParams=(0,types.KR)(types.iG);updateQueryParams(defaultQueryParams)}),[updateQueryParams]);return(0,react.useMemo)((function(){return{searchState,searchCallbacks,clearFilters,searchDirty,searchQueryParam}}),[clearFilters,searchCallbacks,searchDirty,searchQueryParam,searchState])}var constants=__webpack_require__("./app/actions/constants.ts");var routing_actions=__webpack_require__("./app/actions/routing.actions.ts"),stores_actions=__webpack_require__("./app/actions/stores.actions.ts"),orders_selectors=__webpack_require__("./app/selectors/orders.selectors.ts"),OrdersBatch=__webpack_require__("./app/types/OrdersBatch.ts");function useOrdersSearchAndPagination(appLocation,searchQueryParam){var dispatch=(0,es.I0)(),convertedSearchQueryParam=(0,react.useMemo)((function(){return function convertToApiQueryParams(searchQueryParam){var arrayParams=["shipping_method","item","tag"];if(void 0!==searchQueryParam){var unaffectedQueryParams=Object.keys(searchQueryParam).filter((function(key){return!arrayParams.some((function(param){return key.includes(param)}))})).reduce((function(accum,key){return accum[key]=searchQueryParam[key],accum}),{}),arrayParamsList=Object.keys(searchQueryParam).filter((function(item){return arrayParams.some((function(param){return item.includes(param)}))})).reduce((function(paramsList,item){var _a,paramKey=arrayParams.find((function(param){return item.includes(param)}));if(!paramKey)return paramsList;var paramsListItem=paramsList[paramKey]||[];return(0,tslib_es6.pi)((0,tslib_es6.pi)({},paramsList),((_a={})[paramKey]=(0,tslib_es6.ev)((0,tslib_es6.ev)([],(0,tslib_es6.CR)(paramsListItem),!1),[searchQueryParam[item]],!1),_a))}),{});return(0,tslib_es6.pi)((0,tslib_es6.pi)({},unaffectedQueryParams),arrayParamsList)}}(searchQueryParam)}),[searchQueryParam]),hasNewOrders=(0,es.v9)(orders_selectors.VB),stringifiedSearchQueryParam=JSON.stringify(convertedSearchQueryParam),fetchOrdersCallback=(0,react.useCallback)((function(){if(convertedSearchQueryParam){var hidden=(null==convertedSearchQueryParam?void 0:convertedSearchQueryParam.hidden)?"true"===convertedSearchQueryParam.hidden:types.iG.hidden,page=(null==convertedSearchQueryParam?void 0:convertedSearchQueryParam.page)?parseInt(convertedSearchQueryParam.page,10):types.iG.currentPageNumber,fetchCount=(null==convertedSearchQueryParam?void 0:convertedSearchQueryParam.results)||types.iG.currentPerPage.toString(),sortBy=convertedSearchQueryParam.sort_by||"",orderBy=convertedSearchQueryParam.order_by||"",orderStatus=convertedSearchQueryParam.order_status||"";dispatch((0,stores_actions.wr)()),dispatch((0,orders_actions.De)()),dispatch((0,orders_actions.AU)(appLocation,page,convertedSearchQueryParam,fetchCount,hidden,orderStatus,"",sortBy,orderBy)),dispatch(function changeBatchStep(step){return{type:constants.u.ORDERS_BATCH_STEP_CHANGE,payload:{step}}}(OrdersBatch.l9.ORDERS_PAGE)),dispatch((0,routing_actions.qw)())}}),[dispatch,stringifiedSearchQueryParam]);return(0,react.useEffect)((function(){hasNewOrders&&fetchOrdersCallback()}),[hasNewOrders,fetchOrdersCallback]),{fetchOrdersCallback}}var templateObject_1,templateObject_2,templateObject_3,createUniqueOrderTag=function(_a){var icon=_a.icon,name=_a.name,color=_a.color;return api.xn.request({url:TAGS_API,method:"POST",data:(0,tslib_es6.pi)({icon,name},color?{color}:{})})},updateUniqueOrderTag=function(_a){var id=_a.id,color=_a.color,icon=_a.icon,name=_a.name;return api.xn.request({url:"".concat(TAGS_API,"/").concat(id),method:"PUT",data:(0,tslib_es6.pi)({icon,name},color?{color}:{})})},TAGS_API="/tags",useOrderTags=function(){var ordersSearchForm=useOrdersSearchForm(),fetchOrdersCallback=useOrdersSearchAndPagination("order_table",ordersSearchForm.searchQueryParam).fetchOrdersCallback,dispatch=(0,es.I0)(),_a=function(){var _a=(0,tslib_es6.CR)((0,react.useState)(!1),2),areUniqueTagsLoading=_a[0],setAreUniqueTagsLoading=_a[1],_b=(0,tslib_es6.CR)((0,react.useState)(!1),2),haveUniqueTagsError=_b[0],setHaveUniqueTagsError=_b[1],_c=(0,tslib_es6.CR)((0,react.useState)([]),2),uniqueTags=_c[0],setUniqueTags=_c[1],getUniqueTags=(0,react.useCallback)((function(){return(0,tslib_es6.mG)(void 0,void 0,void 0,(function(){var data,sortedOrderTags;return(0,tslib_es6.Jh)(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,3,4]),setHaveUniqueTagsError(!1),setAreUniqueTagsLoading(!0),[4,api.xn.request({url:TAGS_API,method:"GET"})];case 1:return data=_a.sent().data,sortedOrderTags=(0,Order.D)(data.results),setUniqueTags(sortedOrderTags),[2,sortedOrderTags];case 2:return _a.sent(),setHaveUniqueTagsError(!0),[2,[]];case 3:return setAreUniqueTagsLoading(!1),[7];case 4:return[2]}}))}))}),[]);return{getUniqueTags,createUniqueTag:function(_a){var icon=_a.icon,name=_a.name,color=_a.color;return(0,tslib_es6.mG)(void 0,void 0,void 0,(function(){var data;return(0,tslib_es6.Jh)(this,(function(_b){switch(_b.label){case 0:return[4,createUniqueOrderTag({icon,name,color})];case 1:return data=_b.sent().data,setUniqueTags((function(prevTags){return(0,Order.D)((0,tslib_es6.ev)((0,tslib_es6.ev)([],(0,tslib_es6.CR)(prevTags),!1),[data],!1))})),[2,data]}}))}))},updateUniqueTag:function(tagId,tag){return(0,tslib_es6.mG)(void 0,void 0,void 0,(function(){var data;return(0,tslib_es6.Jh)(this,(function(_a){switch(_a.label){case 0:return[4,updateUniqueOrderTag((0,tslib_es6.pi)((0,tslib_es6.pi)({},tag),{id:tagId}))];case 1:return data=_a.sent().data,setUniqueTags((function(prevTags){var tagIndex=prevTags.findIndex((function(t){return t.id===tagId})),newTags=(0,tslib_es6.ev)([],(0,tslib_es6.CR)(prevTags),!1);return newTags[tagIndex]=data,(0,Order.D)(newTags)})),[2,data]}}))}))},deleteUniqueTag:function(tagId){return(0,tslib_es6.mG)(void 0,void 0,void 0,(function(){return(0,tslib_es6.Jh)(this,(function(_a){switch(_a.label){case 0:return[4,(orderTagId=tagId,api.xn.request({url:"".concat(TAGS_API,"/").concat(orderTagId),method:"DELETE"}))];case 1:return _a.sent(),setUniqueTags((function(prevTags){return prevTags.filter((function(tag){return tag.id!==tagId}))})),[2]}var orderTagId}))}))},areUniqueTagsLoading,haveUniqueTagsError,uniqueTags}}();return{getUniqueTags:_a.getUniqueTags,updateOrdersTags:function(orderIds,tagIds){return(0,tslib_es6.mG)(void 0,void 0,void 0,(function(){var data,orderToTagsMapping;return(0,tslib_es6.Jh)(this,(function(_a){switch(_a.label){case 0:return[4,update_orders_tags_service_updateOrdersTags({order_ids:orderIds,tag_ids:tagIds})];case 1:return data=_a.sent().data,orderToTagsMapping=(0,Order.hg)(data.results),dispatch((0,orders_actions.C3)(orderToTagsMapping)),[2]}}))}))},removeOrdersTags:function(orderIds,tagIds){return(0,tslib_es6.mG)(void 0,void 0,void 0,(function(){var data,activeFilterTags,removedTagsActiveOnFilter,hasOrdersWithoutAnyFilteredTags,orderToTagsMapping;return(0,tslib_es6.Jh)(this,(function(_a){switch(_a.label){case 0:return[4,remove_orders_tags_service_removeOrdersTags({order_ids:orderIds,tag_ids:tagIds})];case 1:return data=_a.sent().data,activeFilterTags=ordersSearchForm.searchState.orderTagsFilter,removedTagsActiveOnFilter=activeFilterTags.filter((function(tag){return tagIds.includes(tag)})),hasOrdersWithoutAnyFilteredTags=data.results.some((function(order){return!(null==order?void 0:order.tags)||!order.tags.some((function(tag){return activeFilterTags.includes(tag.id)}))})),removedTagsActiveOnFilter.length>0&&hasOrdersWithoutAnyFilteredTags?(fetchOrdersCallback(),[2]):(orderToTagsMapping=(0,Order.hg)(data.results),dispatch((0,orders_actions.C3)(orderToTagsMapping)),[2])}}))}))},areUniqueTagsLoading:_a.areUniqueTagsLoading,haveUniqueTagsError:_a.haveUniqueTagsError,uniqueTags:_a.uniqueTags}},featureflagsV2=__webpack_require__("./app/utils/featureflagsV2/index.ts"),OrderTagsContext=(0,react.createContext)(null),OrderTagsContextProvider=function(_a){var children=_a.children,_b=useOrderTags(),getUniqueTags=_b.getUniqueTags,orderTags=(0,tslib_es6._T)(_b,["getUniqueTags"]),orderTagFlag=(0,featureflagsV2.ye)(featureflagsV2.TP.ORDER_TAG_MVP);return(0,react.useEffect)((function(){(null==orderTagFlag?void 0:orderTagFlag.enabled)&&getUniqueTags()}),[getUniqueTags,null==orderTagFlag?void 0:orderTagFlag.enabled]),(0,emotion_react_jsx_runtime_browser_esm.tZ)(OrderTagsContext.Provider,(0,tslib_es6.pi)({value:orderTags},{children}))},useOrderTagsContext=function(){var context=(0,react.useContext)(OrderTagsContext);if(null===context)throw new Error("useOrderTagsContext must be used within an OrderTagsContextProvider");return context},Close=__webpack_require__("./node_modules/@mui/icons-material/esm/Close.js"),colors=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),customIcons=__webpack_require__("./app/components/customIcons/index.ts"),orderTagIconMap={circle:customIcons.J$,default:customIcons.h_,diamond:customIcons.nb,flag:customIcons.U6,flower:customIcons.pv,heart:customIcons.h_,hourglass:customIcons.Kd,person:customIcons.Tk,puzzle:customIcons.Mf,sprout:customIcons.jV,square:customIcons.Ps,star:customIcons.r7,tree:customIcons.y9},OrderTagIcon=function(_a){var iconId=_a.iconId,props=(0,tslib_es6._T)(_a,["iconId"]),sx=props.sx,remainingProps=(0,tslib_es6._T)(props,["sx"]),Icon=function(iconId){return orderTagIconMap[iconId]||orderTagIconMap.default}(iconId);return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Icon,(0,tslib_es6.pi)({},remainingProps,{sx:(0,tslib_es6.pi)({color:colors.O.gray80,height:shippoTheme.Z.spacing(2),width:shippoTheme.Z.spacing(2)},sx)}))},emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),Box=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),Chip=__webpack_require__("./node_modules/@goshippo/components/esm/Chip/Chip.js"),elevations=__webpack_require__("./node_modules/@goshippo/components/esm/styles/elevations.js"),Tag=(0,emotion_styled_browser_esm.Z)(Box.Z)(templateObject_1||(templateObject_1=(0,tslib_es6.cy)(["\n  align-items: center;\n  background-color: ",";\n  border-radius: 50%;\n  display: flex;\n  height: ",";\n  justify-content: center;\n  width: ",";\n"],["\n  align-items: center;\n  background-color: ",";\n  border-radius: 50%;\n  display: flex;\n  height: ",";\n  justify-content: center;\n  width: ",";\n"])),colors.O.secondary,shippoTheme.Z.spacing(3),shippoTheme.Z.spacing(3)),TagIcon=(0,emotion_styled_browser_esm.Z)(OrderTagIcon)(templateObject_2||(templateObject_2=(0,tslib_es6.cy)(["\n  color: ",";\n  flex: 0 0 auto;\n"],["\n  color: ",";\n  flex: 0 0 auto;\n"])),colors.O.gray10),TagChip=(0,emotion_styled_browser_esm.Z)(Chip.Z)(templateObject_3||(templateObject_3=(0,tslib_es6.cy)(["\n  align-items: center;\n  background-color: ",";\n  display: inline-flex;\n  transition: all 150ms ease-in-out;\n\n  & .MuiChip-label {\n    font-weight: 700;\n  }\n\n  &:hover {\n    background-color: ",";\n    box-shadow: ",";\n  }\n\n  /* Active chip styles */\n  &.MuiChip-deletable {\n    background-color: ",";\n    color: ",";\n    cursor: default;\n\n    .MuiChip-deleteIcon {\n      border-radius: 50%;\n      color: ",";\n      transition: all 150ms ease-in-out;\n\n      &:hover {\n        background-color: ",";\n        color: ",";\n      }\n    }\n\n    .MuiChip-icon {\n      color: ",";\n    }\n  }\n"],["\n  align-items: center;\n  background-color: ",";\n  display: inline-flex;\n  transition: all 150ms ease-in-out;\n\n  & .MuiChip-label {\n    font-weight: 700;\n  }\n\n  &:hover {\n    background-color: ",";\n    box-shadow: ",";\n  }\n\n  /* Active chip styles */\n  &.MuiChip-deletable {\n    background-color: ",";\n    color: ",";\n    cursor: default;\n\n    .MuiChip-deleteIcon {\n      border-radius: 50%;\n      color: ",";\n      transition: all 150ms ease-in-out;\n\n      &:hover {\n        background-color: ",";\n        color: ",";\n      }\n    }\n\n    .MuiChip-icon {\n      color: ",";\n    }\n  }\n"])),colors.O.gray20,colors.O.gray20,elevations.P[2],colors.O.secondary,colors.O.white,colors.O.white,colors.O.white,colors.O.secondary,colors.O.gray10),OrderTagChip=function(props){var tag=props.tag,mode=props.mode,id=tag.id,name=tag.name,icon=tag.icon;if("icon"===mode)return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Tag,(0,tslib_es6.pi)({"data-testid":"tag-chip-".concat(id),"aria-label":name,role:"img"},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(TagIcon,{"data-testid":"tag-icon-".concat(id),iconId:icon})}));var isChecked=props.isChecked,onClick=props.onClick,onDelete=props.onDelete;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(TagChip,{icon:(0,emotion_react_jsx_runtime_browser_esm.tZ)(OrderTagIcon,{"data-testid":"tag-icon-".concat(id),iconId:icon}),label:name,size:"small",onDelete:isChecked?function(){return onDelete(id)}:void 0,onClick:isChecked?function(){}:function(){return onClick(id)},deleteIcon:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Close.Z,{role:"button","aria-label":"Delete ".concat(name),"aria-hidden":"false"}),"aria-checked":isChecked,"aria-label":name,role:"menuitemcheckbox","data-testid":"tag-chip-".concat(id),"aria-hidden":"false"})},context=__webpack_require__("./app/pages/Orders/Blackbeard/OrdersTable/context.ts"),TagsTooltip=function(_a){var tags=_a.tags,handleTagSelection=_a.handleTagSelection,handleTagDeletion=_a.handleTagDeletion,handleTagCreation=_a.handleTagCreation,t=(0,react.useContext)(context.Z).t,uniqueTags=useOrderTagsContext().uniqueTags;return 0===uniqueTags.length?(0,emotion_react_jsx_runtime_browser_esm.tZ)(util.V,(0,tslib_es6.pi)({sx:{maxWidth:shippoTheme.Z.spacing(20)}},{children:(0,emotion_react_jsx_runtime_browser_esm.BX)(Button.Z,(0,tslib_es6.pi)({variant:"text",color:"secondary",size:"small",onClick:handleTagCreation},{children:[t("orders:orderTags:createNew"),(0,emotion_react_jsx_runtime_browser_esm.tZ)(customIcons.dt,{color:"secondary",sx:{height:shippoTheme.Z.spacing(3),marginLeft:shippoTheme.Z.spacing(1),width:shippoTheme.Z.spacing(3)}})]}))})):(0,emotion_react_jsx_runtime_browser_esm.tZ)(util.V,(0,tslib_es6.pi)({sx:{maxWidth:shippoTheme.Z.spacing(20)}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Stack.Z,(0,tslib_es6.pi)({gap:shippoTheme.Z.spacing(1),alignItems:"flex-start"},{children:uniqueTags.map((function(tag){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(OrderTagChip,{mode:"full",onClick:handleTagSelection,onDelete:handleTagDeletion,tag,isChecked:(tagId=tag.id,selectedTags=tags,!!selectedTags&&selectedTags.some((function(_a){return _a.id===tagId})))},tag.id);var tagId,selectedTags}))}))}))},OrdersTableTooltip=__webpack_require__("./app/pages/Orders/Blackbeard/OrdersTable/OrdersTableTooltip.tsx"),CircularProgress=__webpack_require__("./node_modules/@goshippo/components/esm/CircularProgress/CircularProgress.js"),createSvgIcon=__webpack_require__("./node_modules/@mui/material/utils/createSvgIcon.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Add=(0,createSvgIcon.Z)((0,jsx_runtime.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");var TagsCellContent_styled_templateObject_1,TagsCellContent_styled_templateObject_2,TagsCellContent_styled_templateObject_3,TagsCell_styles_templateObject_1,Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),Cell=(0,emotion_styled_browser_esm.Z)(Box.Z)(TagsCellContent_styled_templateObject_1||(TagsCellContent_styled_templateObject_1=(0,tslib_es6.cy)(["\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: flex-start;\n  gap: "," ",";\n  padding-right: ",";\n  width: 100%;\n"],["\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: flex-start;\n  gap: "," ",";\n  padding-right: ",";\n  width: 100%;\n"])),shippoTheme.Z.spacing(.5),shippoTheme.Z.spacing(1),shippoTheme.Z.spacing(6)),MoreTags=(0,emotion_styled_browser_esm.Z)(Typography.Z)(TagsCellContent_styled_templateObject_2||(TagsCellContent_styled_templateObject_2=(0,tslib_es6.cy)(["\n  align-items: center;\n  display: inline-flex;\n  height: ",";\n  justify-content: center;\n  line-height: 1;\n  width: ",";\n"],["\n  align-items: center;\n  display: inline-flex;\n  height: ",";\n  justify-content: center;\n  line-height: 1;\n  width: ",";\n"])),shippoTheme.Z.spacing(3),shippoTheme.Z.spacing(3)),AddWrapper=(0,emotion_styled_browser_esm.Z)(Box.Z)(TagsCellContent_styled_templateObject_3||(TagsCellContent_styled_templateObject_3=(0,tslib_es6.cy)(["\n  align-items: center;\n  border-radius: 50%;\n  box-sizing: border-box;\n  display: flex;\n  height: ",";\n  justify-content: center;\n  width: ",";\n\n  &:hover {\n    background-color: ",";\n    box-shadow: ",";\n  }\n"],["\n  align-items: center;\n  border-radius: 50%;\n  box-sizing: border-box;\n  display: flex;\n  height: ",";\n  justify-content: center;\n  width: ",";\n\n  &:hover {\n    background-color: ",";\n    box-shadow: ",";\n  }\n"])),shippoTheme.Z.spacing(3),shippoTheme.Z.spacing(3),colors.O.secondaryHover,elevations.P[2]),TagsCellContent=(0,react.forwardRef)((function(_a,ref){var tags=_a.tags,isLoading=_a.isLoading,props=(0,tslib_es6._T)(_a,["tags","isLoading"]);if(isLoading||!tags)return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Cell,(0,tslib_es6.pi)({ref},props,{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(CircularProgress.Z,{})}));var tagsLength=tags.length;if(0===tagsLength)return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Cell,(0,tslib_es6.pi)({ref},props,{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(AddWrapper,(0,tslib_es6.pi)({"data-testid":"tag-plus-sign"},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Add,{fontSize:"small"})}))}));if(tagsLength<=4)return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Cell,(0,tslib_es6.pi)({ref},props,{children:tags.map((function(tag){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(OrderTagChip,{tag,mode:"icon"},tag.id)}))}));var remainingTags=tagsLength-3;return(0,emotion_react_jsx_runtime_browser_esm.BX)(Cell,(0,tslib_es6.pi)({ref},props,{children:[tags.slice(0,3).map((function(tag){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(OrderTagChip,{tag,mode:"icon"},tag.id)})),(0,emotion_react_jsx_runtime_browser_esm.BX)(MoreTags,(0,tslib_es6.pi)({component:"strong",color:"primary",variant:"captionEmphasized",role:"strong"},{children:["+",remainingTags]}))]}))})),TagCellWrapper=(0,__webpack_require__("./node_modules/@mui/material/styles/styled.js").ZP)(Box.Z)(TagsCell_styles_templateObject_1||(TagsCell_styles_templateObject_1=(0,tslib_es6.cy)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  cursor: default;\n\n  & .MuiTooltip-popper .MuiTooltip-tooltip {\n    margin-left: -",";\n  }\n"],["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  cursor: default;\n\n  & .MuiTooltip-popper .MuiTooltip-tooltip {\n    margin-left: -",";\n  }\n"])),shippoTheme.Z.spacing(3));var GlobalComponentsProvider=__webpack_require__("./app/contexts/GlobalComponentsProvider.tsx"),esm_exports=__webpack_require__("./node_modules/@sentry/core/esm/exports.js"),TagsCell=function(_a){var tags=_a.tags,orderId=_a.orderId,isLoading=_a.isLoading,isSplitOrder=_a.isSplitOrder,_b=useOrderTagsContext(),updateOrdersTags=_b.updateOrdersTags,removeOrdersTags=_b.removeOrdersTags,areUniqueTagsLoading=_b.areUniqueTagsLoading,_c=function useTooltip(){var _a=(0,tslib_es6.CR)((0,react.useState)(!1),2),isTooltipOpen=_a[0],setIsTooltipOpen=_a[1];return{isTooltipOpen,handleTooltipClose:(0,react.useCallback)((function(){setIsTooltipOpen(!1)}),[setIsTooltipOpen]),handleTooltipOpen:(0,react.useCallback)((function(){setIsTooltipOpen(!0)}),[setIsTooltipOpen])}}(),isTooltipOpen=_c.isTooltipOpen,handleTooltipClose=_c.handleTooltipClose,handleTooltipOpen=_c.handleTooltipOpen,t=(0,context.u)().t,addSnackbarAlert=(0,GlobalComponentsProvider.X)().snackbar.addSnackbarAlert,_d=(0,tslib_es6.CR)((0,react.useState)(!1),2),isCellLoading=_d[0],setIsCellLoading=_d[1],shouldShowLoading=isLoading||isCellLoading||areUniqueTagsLoading,shouldShowTooltip=isTooltipOpen&&!shouldShowLoading;(0,react.useEffect)((function(){setIsCellLoading(!1)}),[tags]);var handleTagSelection=(0,react.useCallback)((function(tagId){return(0,tslib_es6.mG)(void 0,void 0,void 0,(function(){var error_1;return(0,tslib_es6.Jh)(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),setIsCellLoading(!0),[4,updateOrdersTags([orderId],[tagId])];case 1:return _a.sent(),[3,3];case 2:return error_1=_a.sent(),addSnackbarAlert(t("orders:table:errors:addTagToOrderError"),"error"),(0,esm_exports.Tb)("failed to update Order Tags ".concat(error_1),{level:"error"}),setIsCellLoading(!1),[3,3];case 3:return[2]}}))}))}),[orderId,updateOrdersTags,addSnackbarAlert,t]),handleTagDeletion=(0,react.useCallback)((function(tagId){return(0,tslib_es6.mG)(void 0,void 0,void 0,(function(){var error_2;return(0,tslib_es6.Jh)(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),setIsCellLoading(!0),[4,removeOrdersTags([orderId],[tagId])];case 1:return _a.sent(),[3,3];case 2:return error_2=_a.sent(),addSnackbarAlert(t("orders:table:errors:removeTagFromOrderError"),"error"),(0,esm_exports.Tb)("failed to remove Order Tags ".concat(error_2),{level:"error"}),setIsCellLoading(!1),[3,3];case 3:return[2]}}))}))}),[orderId,removeOrdersTags,addSnackbarAlert,t]),handleTagCreation=(0,react.useCallback)((function(){}),[]);return(0,react.useEffect)((function(){shouldShowLoading&&handleTooltipClose()}),[handleTooltipClose,shouldShowLoading]),isSplitOrder?null:(0,emotion_react_jsx_runtime_browser_esm.tZ)(TagCellWrapper,{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(OrdersTableTooltip.o,(0,tslib_es6.pi)({PopperProps:{modifiers:[{name:"offset",enabled:!0,options:{offset:[0,-14]}}]},arrow:!1,open:shouldShowTooltip,onOpen:handleTooltipOpen,onClose:handleTooltipClose,title:(0,emotion_react_jsx_runtime_browser_esm.tZ)(TagsTooltip,{handleTagSelection,handleTagDeletion,handleTagCreation,tags}),"data-testid":"tag-cell-tooltip"},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(TagsCellContent,{"data-testid":"tag-cell-content",isLoading:shouldShowLoading,tags})}))})},order=__webpack_require__("./app/tests/mocks/order.ts"),utils=__webpack_require__("./app/tests/utils.ts");const TagsCell_stories={title:"Orders V2 / Cells / TagCell",component:TagsCell};var Template=function(args){return(0,emotion_react_jsx_runtime_browser_esm.tZ)("div",(0,tslib_es6.pi)({style:{width:"130px",display:"flex",justifyContent:"center",alignItems:"center"}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(es.zt,(0,tslib_es6.pi)({store:(0,utils.HD)({})},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(OrderTagsContextProvider,{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(TagsCell,(0,tslib_es6.pi)({},args))})}))}))},Empty=Template.bind({});Empty.args={tags:[]};var With2Tags=Template.bind({});With2Tags.args={tags:[order.LA[0],order.LA[1]]};var With3Tags=Template.bind({});With3Tags.args={tags:[order.LA[0],order.LA[1],order.LA[2]]};var With4Tags=Template.bind({});With4Tags.args={tags:[order.LA[0],order.LA[1],order.LA[2],order.LA[3]]};var With5Tags=Template.bind({});With5Tags.args={tags:order.LA},Empty.parameters={...Empty.parameters,docs:{...Empty.parameters?.docs,source:{originalSource:"args => <div style={{\n  width: '130px',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center'\n}}>\n    <Provider store={createTestStore({})}>\n      <OrderTagsContextProvider>\n        <TagsCell {...args} />\n      </OrderTagsContextProvider>\n    </Provider>\n  </div>",...Empty.parameters?.docs?.source}}},With2Tags.parameters={...With2Tags.parameters,docs:{...With2Tags.parameters?.docs,source:{originalSource:"args => <div style={{\n  width: '130px',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center'\n}}>\n    <Provider store={createTestStore({})}>\n      <OrderTagsContextProvider>\n        <TagsCell {...args} />\n      </OrderTagsContextProvider>\n    </Provider>\n  </div>",...With2Tags.parameters?.docs?.source}}},With3Tags.parameters={...With3Tags.parameters,docs:{...With3Tags.parameters?.docs,source:{originalSource:"args => <div style={{\n  width: '130px',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center'\n}}>\n    <Provider store={createTestStore({})}>\n      <OrderTagsContextProvider>\n        <TagsCell {...args} />\n      </OrderTagsContextProvider>\n    </Provider>\n  </div>",...With3Tags.parameters?.docs?.source}}},With4Tags.parameters={...With4Tags.parameters,docs:{...With4Tags.parameters?.docs,source:{originalSource:"args => <div style={{\n  width: '130px',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center'\n}}>\n    <Provider store={createTestStore({})}>\n      <OrderTagsContextProvider>\n        <TagsCell {...args} />\n      </OrderTagsContextProvider>\n    </Provider>\n  </div>",...With4Tags.parameters?.docs?.source}}},With5Tags.parameters={...With5Tags.parameters,docs:{...With5Tags.parameters?.docs,source:{originalSource:"args => <div style={{\n  width: '130px',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center'\n}}>\n    <Provider store={createTestStore({})}>\n      <OrderTagsContextProvider>\n        <TagsCell {...args} />\n      </OrderTagsContextProvider>\n    </Provider>\n  </div>",...With5Tags.parameters?.docs?.source}}}}}]);