(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[7543],{"./app/assets/settings/no-recipients.png":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"assets/9fa1a6dddf0246a8e4bf73c113ff858f.png"},"./app/components/CountryFlag/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>components_CountryFlag});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),constants=__webpack_require__("./app/styles/constants.ts"),Flag=(0,emotion_styled_browser_esm.Z)("span")(templateObject_1||(templateObject_1=(0,tslib_es6.cy)(["\n  border: 1px solid ",";\n  border-radius: 2px;\n  height: fit-content;\n  align-self: center;\n  line-height: 0;\n  min-width: 0.875rem;\n"],["\n  border: 1px solid ",";\n  border-radius: 2px;\n  height: fit-content;\n  align-self: center;\n  line-height: 0;\n  min-width: 0.875rem;\n"])),constants.O9.gray100);var templateObject_1;const components_CountryFlag=function(_a){var className=_a.className,country=_a.country,props=(0,tslib_es6._T)(_a,["className","country"]);return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Flag,(0,tslib_es6.pi)({className:"".concat(className||""," flag-icon flag-icon-").concat(country.toLocaleLowerCase())},props))}},"./app/constants/api.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U8:()=>OVERRIDE_ADDRESS_VERSION,V1:()=>V1,eA:()=>OVERRIDE_ADDRESS_HEADER,gA:()=>VERSION_HEADER,kq:()=>LATEST_VERSION});var V1="2014-02-11",LATEST_VERSION="2018-02-08",VERSION_HEADER="Shippo-API-Version",OVERRIDE_ADDRESS_HEADER="Shippo-Override-Addresses",OVERRIDE_ADDRESS_VERSION="V2"},"./app/contexts/DrawerProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>DrawerProvider,M:()=>useDrawerContext});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),react=__webpack_require__("./node_modules/react/index.js"),DrawerContext=(0,react.createContext)({isOpen:!1,footerOptions:{},setFooterOptions:function(){},setIsOpen:function(){}}),DrawerProvider=function(_a){var drawerInitialSettings=_a.drawerInitialSettings,children=_a.children,_b=function(_a){var _b=void 0===_a?{}:_a,_c=_b.isOpen,isOpen=void 0!==_c&&_c,_d=_b.footerOptions,footerOptions=void 0===_d?{}:_d,_e=(0,tslib_es6.CR)((0,react.useState)(isOpen),2),drawerIsOpen=_e[0],setDrawerIsOpen=_e[1],_f=(0,tslib_es6.CR)((0,react.useState)(footerOptions),2),drawerFooterOptions=_f[0],setDrawerFooterOptions=_f[1];return{isOpen:drawerIsOpen,setIsOpen:(0,react.useCallback)((function(value,callback){setDrawerIsOpen(value),callback&&callback()}),[setDrawerIsOpen]),footerOptions:drawerFooterOptions,setFooterOptions:setDrawerFooterOptions}}(drawerInitialSettings),isOpen=_b.isOpen,setIsOpen=_b.setIsOpen,footerOptions=_b.footerOptions,setFooterOptions=_b.setFooterOptions;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(DrawerContext.Provider,(0,tslib_es6.pi)({value:{isOpen,setIsOpen,footerOptions,setFooterOptions}},{children}))},useDrawerContext=function(){return(0,react.useContext)(DrawerContext)}},"./app/contexts/GlobalComponentsProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>useGlobalComponentsContext});var react=__webpack_require__("./node_modules/react/index.js");__webpack_require__("./node_modules/@goshippo/libraries/dist/esm/shared/NoticeAlert/index.js");var GlobalComponentsContext=(0,react.createContext)({snackbar:{addSnackbarAlert:function(){},addSnackbarActionAlert:function(){}}}),useGlobalComponentsContext=function(){return{snackbar:(0,react.useContext)(GlobalComponentsContext).snackbar}}},"./app/hooks/useRequest.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/axios/index.js"),__webpack_require__("./node_modules/react/index.js")},"./app/pages/Settings/Recipients/contexts/RecipientAddressFormProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{j:()=>useRecipientAddressFormContext});var react=__webpack_require__("./node_modules/react/index.js");__webpack_require__("./app/contexts/DrawerProvider.tsx"),__webpack_require__("./app/services/api.ts"),__webpack_require__("./app/utils/utils.ts");var _a,constants_api=__webpack_require__("./app/constants/api.ts");(_a={})[constants_api.eA]=constants_api.U8;__webpack_require__("./app/types/Address.ts"),__webpack_require__("./app/hooks/featureflags/useShowAddressBook.ts"),__webpack_require__("./app/contexts/GlobalComponentsProvider.tsx"),__webpack_require__("./app/hooks/useRequest.ts"),__webpack_require__("./app/utils/TrackingHelper/utils.ts");__webpack_require__("./app/utils/TrackingHelper/index.ts"),__webpack_require__("./app/utils/TrackingHelper/types.ts");var RecipientAddressFormContext=(0,react.createContext)({closeFormDrawer:function(){},createOrUpdateAddress:function(){return Promise.resolve()},deleteAddress:function(){return Promise.resolve()},editingAddress:null,openFormDrawer:function(){},setEditingAddress:function(){},setCreateAddressCallback:function(){},isAddressFormLoading:!1}),useRecipientAddressFormContext=function(){return(0,react.useContext)(RecipientAddressFormContext)}},"./app/services/api.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{xS:()=>armorAPI});var _a,tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),axios=__webpack_require__("./node_modules/axios/index.js"),axios_default=__webpack_require__.n(axios),api=__webpack_require__("./app/constants/api.ts");function setupBaseHeaders(envId){var _a,baseHeaders=((_a={})[api.gA]=api.kq,_a);if("production"===envId)return baseHeaders;baseHeaders["X-HTTP-Request-Source"]="React-".concat(envId);var lang=function readFromLocalStorage(keyName){return window.localStorage.getItem(keyName)}("i18nextLng");return lang&&(baseHeaders["Accept-Language"]=lang),baseHeaders}axios_default().create({baseURL:"https://goshippo-dev.sisense.com"}),axios_default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")}),axios_default().create({baseURL:"https://api-dev-qa.shippodev.com",headers:(0,tslib_es6.pi)({},setupBaseHeaders("dynamic"))});var armorAPI=axios_default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")});axios_default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")}),axios_default().create({baseURL:"https://dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")}),axios_default().create({baseURL:"https://service-dev-qa.shippodev.com/store_connect",headers:setupBaseHeaders("dynamic")}),axios_default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:setupBaseHeaders("dynamic")}),axios_default().create({baseURL:"https://service-dev-qa.shippodev.com",headers:(0,tslib_es6.pi)((0,tslib_es6.pi)({},setupBaseHeaders("dynamic")),(_a={},_a[api.gA]=api.V1,_a))})},"./app/tests/mocks/addresses.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AT:()=>getMockAddressBooks,Dj:()=>fromAddress,Fv:()=>usTerritoryAddresses,Hc:()=>toAddress,JL:()=>addressFactory,UK:()=>mockJSONAddress,Us:()=>returnAddress,ol:()=>internationalAddress,xQ:()=>militaryAddresses});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),constants_countries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/constants/countries.ts"),constants_states__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/constants/states.ts"),faker__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/faker/index.js"),types_Address__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/types/Address.ts"),usStatesByStateName=Object.entries(constants_states__WEBPACK_IMPORTED_MODULE_1__.uX).reduce((function(accum,_a){var _b=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.CR)(_a,2),key=_b[0];return accum[_b[1].name]=key,accum}),{}),addressId=1,addressFactory=function(opts){void 0===opts&&(opts={isDefaultReturn:!1,isDefaultSender:!1}),opts.seed&&faker__WEBPACK_IMPORTED_MODULE_2__.seed(opts.seed);var state=opts.state||usStatesByStateName[faker__WEBPACK_IMPORTED_MODULE_2__.address.state()];return{company:void 0===opts.company?faker__WEBPACK_IMPORTED_MODULE_2__.company.companyName():opts.company,street1:opts.street1||faker__WEBPACK_IMPORTED_MODULE_2__.address.streetAddress(!1),street2:opts.street2||faker__WEBPACK_IMPORTED_MODULE_2__.address.secondaryAddress(),streetNumber:opts.streetNumber||"",city:opts.city||faker__WEBPACK_IMPORTED_MODULE_2__.address.city(),state,zip:opts.zip||faker__WEBPACK_IMPORTED_MODULE_2__.address.zipCodeByState(state),name:opts.name||"".concat(faker__WEBPACK_IMPORTED_MODULE_2__.name.firstName()," ").concat(faker__WEBPACK_IMPORTED_MODULE_2__.name.lastName()),phone:"6502080696",email:opts.email||faker__WEBPACK_IMPORTED_MODULE_2__.internet.email(),id:opts.id||(addressId+=1),isDefaultSender:opts.isDefaultSender,isDefaultReturn:opts.isDefaultReturn,objectCreated:opts.objectCreated||new Date,objectUpdated:opts.objectUpdated||new Date,storeAddressId:opts.storeAddressId,storePlatformNames:opts.storePlatformNames,country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}},internationalAddress=(constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US,{id:12345,objectId:"5a24f0f5951a4fb2ba1232b4f0e684e3",objectState:"VALID",objectPurpose:"QUOTE",objectSource:"FULLY_ENTERED",objectCreated:new Date("2018-06-29T00:06:08.682Z"),objectUpdated:new Date("2018-06-29T00:06:08.682Z"),objectOwner:"malcolm_fdv@goshippo.com",name:"Juan Carlos",company:"",streetNumber:null,street1:"Lavalle 1171",street2:"",street3:"",city:"San Nicolas",state:"Buenos Aires",zip:"2900",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.AR,longitude:null,latitude:null,phone:"",email:"",isResidential:!1,ip:null,messages:[],metadata:"",test:!1}),toAddress={id:23456,objectId:"5a24f0f5951a4fb2ba1232b4f0e684e3",objectState:"VALID",objectPurpose:"QUOTE",objectSource:"FULLY_ENTERED",objectCreated:new Date("2018-06-29T00:06:08.682Z"),objectUpdated:new Date("2018-06-29T00:06:08.682Z"),objectOwner:"malcolm_fdv@goshippo.com",name:"HoFu Tsai",company:"",streetNumber:null,street1:"420 Colon Ave.",street2:"",street3:"",city:"San Francisco",state:"CA",zip:"94127",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US,longitude:null,latitude:null,phone:"4243201686",email:"",isResidential:!1,ip:null,messages:[],metadata:"",test:!1},fromAddress={id:44444,city:"San Francisco",company:"",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US,email:"",ip:null,isResidential:!1,latitude:null,longitude:null,messages:[],metadata:"",name:"HoFu Tsai",objectCreated:new Date("2019-08-17T23:26:06.041Z"),objectId:"ce543b58be2a4368b4b31f466057ffdb",objectOwner:"malcolm_fdv@goshippo.com",objectPurpose:"PURCHASE",objectSource:"FULLY_ENTERED",objectState:"VALID",objectUpdated:new Date("2019-08-17T23:54:07.752Z"),phone:"4243201686",state:"CA",street1:"731 Market St.",street2:"",street3:"",streetNumber:null,test:!1,zip:"94103"},returnAddress={id:55555,city:"San Francisco",company:"",email:"",ip:null,isResidential:!1,latitude:null,longitude:null,messages:[],metadata:"",name:"Nick Foo",objectCreated:new Date("2019-08-17T23:14:32.568Z"),objectId:"4ae855d9b0954b42ba597516725ae33f",objectOwner:"malcolm_fdv@goshippo.com",objectPurpose:"PURCHASE",objectSource:"INVALID",objectState:"VALID",objectUpdated:new Date("2019-08-17T23:14:32.568Z"),phone:"4243201686",street1:"500 Market St.",street2:"",street3:"",streetNumber:null,state:"CA",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US,zip:"94103",test:!1},militaryAddresses={APOAE:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"APO",state:"AE",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),APOAP:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"APO",state:"AP",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),APOAA:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"APO",state:"AA",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),FPOAE:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"FPO",state:"AE",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),FPOAP:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"FPO",state:"AP",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),FPOAA:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"FPO",state:"AA",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US})},usTerritoryAddresses={AS:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Tutuila",state:"AS",zip:"96799",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),GU:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Tumon",state:"GU",zip:"96913",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),MP:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Tutuila",state:"MP",zip:"96950",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),MH:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Majuro",state:"MH",zip:"96960",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),FM:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Colonia",state:"FM",zip:"96943",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),PW:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Koror",state:"PW",zip:"96940",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),PR:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Guayama",state:"PR",zip:"00784",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),UM:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Midway Atoll",state:"UM",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),VI:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"St. John",state:"VI",zip:"00830",country:constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US})},mockJSONAddress={id:123,object_state:"VALID",object_purpose:"QUOTE",object_source:"FULLY_ENTERED",object_created:"2018-06-29T00:06:08.682Z",object_updated:"2018-06-29T00:06:08.682Z",object_id:"5a24f0f5951a4fb2ba1232b4f0e684e3",object_owner:"fungi@goshippo.com",name:"Lechuga",company:"Pechugas Express",street_no:"",street1:"731 Market St",street2:"Ste 200",street3:"",city:"San Francisco",state:"CA",zip:"94103",country:"US",phone:"18006668888",email:"fungi@goshippo.com",is_residential:!1,ip:null,messages:[],metadata:"",test:!1},AddressBookFactory=function(seedId){seedId&&faker__WEBPACK_IMPORTED_MODULE_2__.seed(seedId);var addressType=[types_Address__WEBPACK_IMPORTED_MODULE_3__.MH.RESIDENTIAL,types_Address__WEBPACK_IMPORTED_MODULE_3__.MH.UNKNOWN];return{id:faker__WEBPACK_IMPORTED_MODULE_2__.datatype.uuid(),address:{name:"".concat(faker__WEBPACK_IMPORTED_MODULE_2__.name.firstName(),", ").concat(faker__WEBPACK_IMPORTED_MODULE_2__.name.lastName()),organization:faker__WEBPACK_IMPORTED_MODULE_2__.company.companyName(),email:faker__WEBPACK_IMPORTED_MODULE_2__.internet.email(),phone:faker__WEBPACK_IMPORTED_MODULE_2__.phone.phoneNumber(),address_line_1:faker__WEBPACK_IMPORTED_MODULE_2__.address.streetAddress(!0),address_line_2:"",street_no:"",city_locality:faker__WEBPACK_IMPORTED_MODULE_2__.address.city(),state_province:faker__WEBPACK_IMPORTED_MODULE_2__.address.stateAbbr(),postal_code:faker__WEBPACK_IMPORTED_MODULE_2__.address.zipCode(),country_code:faker__WEBPACK_IMPORTED_MODULE_2__.address.countryCode(),address_type:addressType[faker__WEBPACK_IMPORTED_MODULE_2__.datatype.number({min:0,max:1})]},updated_at:faker__WEBPACK_IMPORTED_MODULE_2__.datatype.datetime().toString(),created_at:faker__WEBPACK_IMPORTED_MODULE_2__.datatype.datetime().toString()}},getMockAddressBooks=function(length){for(var n=0,addresses=[];n<length;)n++,addresses.push(AddressBookFactory());return addresses}},"./app/pages/Settings/Recipients/RecipientsTable/RecipientsTable.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ErrorState:()=>ErrorState,LoadingState:()=>LoadingState,NoRecipients:()=>RecipientsTable_stories_NoRecipients,NoRecipientsFromSearch:()=>NoRecipientsFromSearch,RecipientsTable:()=>RecipientsTable_stories_RecipientsTable,default:()=>RecipientsTable_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),addresses=__webpack_require__("./app/tests/mocks/addresses.ts"),react=__webpack_require__("./node_modules/react/index.js");const context=(0,react.createContext)({t:function(){},searchValue:""});var translate=__webpack_require__("./app/utils/translate.ts"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),Box=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),DataGridPro=__webpack_require__("./node_modules/@goshippo/components/esm/DataGridPro/DataGridPro.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),colors=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),useMediaQuery=__webpack_require__("./node_modules/@mui/material/useMediaQuery/useMediaQuery.js"),Alert=__webpack_require__("./node_modules/@goshippo/components/esm/Alert/Alert.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js");function renderTextHighlight(text,searchValue){if(!text||!searchValue)return text;var list=(0,tslib_es6.ev)([],(0,tslib_es6.CR)(text.matchAll(new RegExp(searchValue,"gi"))),!1);if(!list.length)return text;var lastIdx=0,result=list.reduce((function(current,next){var subText=(0,tslib_es6.CR)(next,1)[0],idx=next.index;return current.push(text.substring(lastIdx,idx)),current.push((0,emotion_react_jsx_runtime_browser_esm.tZ)("mark",{children:subText},"mark-".concat(idx))),lastIdx=idx+subText.length,current}),[]);return result.push(text.substring(lastIdx)),result}const cells_RecipientCell=function(_a){var name=_a.name,organization=_a.organization,_b=(0,react.useContext)(context),t=_b.t,searchValue=_b.searchValue,isMobile=(0,useMediaQuery.Z)(shippoTheme.Z.breakpoints.down("md")),_c=(0,react.useMemo)((function(){return{recipientName:renderTextHighlight(name||"",searchValue),recipientOrganization:renderTextHighlight(organization||"",searchValue)}}),[searchValue,name,organization]),recipientName=_c.recipientName,recipientOrganization=_c.recipientOrganization;return(0,emotion_react_jsx_runtime_browser_esm.BX)(Box.Z,(0,tslib_es6.pi)({sx:{whiteSpace:"initial",padding:"0 ".concat(shippoTheme.Z.spacing(1)," 0 ").concat(shippoTheme.Z.spacing(.5)," "),"& mark":{background:colors.O.hoverFocus}}},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",variant:"body"},{children:recipientName})),isMobile&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",variant:organization?"body":"bodyItalic",color:organization?"default":colors.O.secondaryDisabled},{children:recipientOrganization||t("settings:addressBook.recipient.noCompany")}))]}))};var RecipientColumn=(0,react.memo)((function(props){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(cells_RecipientCell,(0,tslib_es6.pi)({},props))}));const columns_recipientColumn=function(isMobile){return{field:"recipient",flex:isMobile?1.25:1,sortable:!1,minWidth:isMobile?void 0:96,renderCell:function(cell){return cell.value&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(RecipientColumn,(0,tslib_es6.pi)({},cell.value))}}};const cells_OrganizationCell=function(_a){var name=_a.name,_b=(0,react.useContext)(context),t=_b.t,searchValue=_b.searchValue,organization=(0,react.useMemo)((function(){return renderTextHighlight(name||"",searchValue)}),[name,searchValue]);return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Box.Z,(0,tslib_es6.pi)({sx:{whiteSpace:"initial","& mark":{background:colors.O.hoverFocus}}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",variant:organization?"body":"bodyItalic",color:organization?"default":colors.O.secondaryDisabled},{children:organization||t("settings:addressBook.recipient.noCompany")}))}))};var OrganizationColumn=(0,react.memo)((function(props){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(cells_OrganizationCell,(0,tslib_es6.pi)({},props))}));const columns_organizationColumn={field:"organization",flex:1,sortable:!1,minWidth:96,renderCell:function(cell){return cell.value&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(OrganizationColumn,(0,tslib_es6.pi)({},cell.value))}};var Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),CountryFlag=__webpack_require__("./app/components/CountryFlag/index.ts"),AddressText=((0,styled.ZP)("div")(templateObject_1||(templateObject_1=(0,tslib_es6.cy)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n"],["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n"]))),(0,styled.ZP)(Typography.Z)(templateObject_2||(templateObject_2=(0,tslib_es6.cy)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  @media screen and (max-width: ","px) {\n    font-size: ",";\n    line-height: ",";\n  }\n"],["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  @media screen and (max-width: ","px) {\n    font-size: ",";\n    line-height: ",";\n  }\n"])),shippoTheme.Z.breakpoints.values.sm,shippoTheme.Z.spacing(1.5),shippoTheme.Z.spacing(2.055)));const cells_AddressCell=function(_a){var addressLine1=_a.addressLine1,addressLine2=_a.addressLine2,cityLocality=_a.cityLocality,stateProvince=_a.stateProvince,postalCode=_a.postalCode,countryCode=_a.countryCode,isMobile=(0,useMediaQuery.Z)(shippoTheme.Z.breakpoints.down("md"));return(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack.Z,(0,tslib_es6.pi)({direction:"row",spacing:2,sx:{alignItems:"center",width:"100%"}},{children:[countryCode&&!isMobile&&(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack.Z,{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"div"},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(CountryFlag.Z,{"data-testid":"customer-cell-country-flag",country:countryCode})})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({variant:"caption",component:"div",sx:{color:colors.O.secondary},mx:"auto"},{children:countryCode}))]}),(0,emotion_react_jsx_runtime_browser_esm.BX)(Box.Z,(0,tslib_es6.pi)({sx:{overflow:"hidden"}},{children:[(0,emotion_react_jsx_runtime_browser_esm.BX)(AddressText,(0,tslib_es6.pi)({variant:"body",component:"p"},{children:[addressLine1," ",addressLine2]})),(0,emotion_react_jsx_runtime_browser_esm.BX)(AddressText,(0,tslib_es6.pi)({variant:"body",component:"p"},{children:[cityLocality,cityLocality&&stateProvince?", ":"",stateProvince," ",!isMobile&&postalCode]})),isMobile&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(AddressText,(0,tslib_es6.pi)({variant:"body",component:"p"},{children:postalCode}))]}))]}))};var templateObject_1,templateObject_2,AddressColumn=(0,react.memo)((function(props){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(cells_AddressCell,(0,tslib_es6.pi)({},props))}));const columns_addressColumn=function(isMobile){return{field:"address",flex:isMobile?1:1.25,sortable:!1,minWidth:isMobile?void 0:200,renderCell:function(cell){return cell.value&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(AddressColumn,(0,tslib_es6.pi)({},cell.value))}}};var Button=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),RecipientAddressFormProvider=__webpack_require__("./app/pages/Settings/Recipients/contexts/RecipientAddressFormProvider.tsx");const cells_EditActionCell=function(_a){var addressObj=_a.addressObj,t=(0,react.useContext)(context).t,_b=(0,RecipientAddressFormProvider.j)(),setEditingAddress=_b.setEditingAddress,openFormDrawer=_b.openFormDrawer,handleClick=(0,react.useCallback)((function(){setEditingAddress(addressObj),openFormDrawer()}),[addressObj,openFormDrawer,setEditingAddress]);return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Box.Z,(0,tslib_es6.pi)({sx:{padding:"0 ".concat(shippoTheme.Z.spacing(.5))}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Button.Z,(0,tslib_es6.pi)({onClick:handleClick,color:"secondary",variant:"text"},{children:t("settings:recipients:edit")}))}))};var EditActionColumn=(0,react.memo)((function(props){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(cells_EditActionCell,(0,tslib_es6.pi)({},props))}));const columns_editActionColumn={field:"editAction",flex:.4,sortable:!1,minWidth:80,align:"right",renderCell:function(cell){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(EditActionColumn,(0,tslib_es6.pi)({},cell.value))}};const columns=function(isMobile){return(0,tslib_es6.ev)((0,tslib_es6.ev)([columns_recipientColumn(isMobile)],(0,tslib_es6.CR)(isMobile?[]:[columns_organizationColumn]),!1),[columns_addressColumn(isMobile),columns_editActionColumn],!1)};var no_recipients=__webpack_require__("./app/assets/settings/no-recipients.png"),no_recipients_default=__webpack_require__.n(no_recipients),NoRecipients=function(_a){var message=_a.message;return(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack.Z,(0,tslib_es6.pi)({spacing:1,sx:{display:"flex",marginTop:"5%",alignItems:"center"}},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Box.Z,{component:"img",src:no_recipients_default(),alt:"no recipients image",sx:{width:336,maxWidth:"100%"}}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",variant:"body"},{children:message}))]}))},emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),FlexContainer=__webpack_require__("./app/components/Layout/FlexContainer.tsx"),constants=__webpack_require__("./app/styles/constants.ts"),animation=(0,emotion_react_browser_esm.F4)(Loader_templateObject_1||(Loader_templateObject_1=(0,tslib_es6.cy)(["\n\t0%, 80%, 100%{\n\t\ttransform: scale(0);\n\t}\n\t40%{\n\t\ttransform: scale(1);\n\t}\n"],["\n\t0%, 80%, 100%{\n\t\ttransform: scale(0);\n\t}\n\t40%{\n\t\ttransform: scale(1);\n\t}\n"]))),Dot=(0,emotion_styled_browser_esm.Z)("div")(Loader_templateObject_2||(Loader_templateObject_2=(0,tslib_es6.cy)(["\n  height: ",";\n  width: ",";\n  border-radius: 50%;\n  background-color: ",";\n  position: relative;\n  animation: 1.2s "," ease-in-out infinite;\n\n  &:nth-of-type(2) {\n    margin: 0 calc("," * 0.75);\n    animation: 1.2s "," ease-in-out infinite 0.15555s;\n  }\n\n  &:nth-of-type(3) {\n    animation: 1.2s "," ease-in-out infinite 0.3s;\n  }\n"],["\n  height: ",";\n  width: ",";\n  border-radius: 50%;\n  background-color: ",";\n  position: relative;\n  animation: 1.2s "," ease-in-out infinite;\n\n  &:nth-of-type(2) {\n    margin: 0 calc("," * 0.75);\n    animation: 1.2s "," ease-in-out infinite 0.15555s;\n  }\n\n  &:nth-of-type(3) {\n    animation: 1.2s "," ease-in-out infinite 0.3s;\n  }\n"])),(function(props){return props.size}),(function(props){return props.size}),(function(props){return props.dotColor}),animation,(function(props){return props.size}),animation,animation);var Loader_templateObject_1,Loader_templateObject_2;const components_Loader=function(props){var size=props.size||"20px",color=props.color||constants.O9.primary;return(0,emotion_react_jsx_runtime_browser_esm.BX)(FlexContainer.ZP,(0,tslib_es6.pi)({className:props.className,horizontalAlign:FlexContainer.Kq.Center,verticalAlign:FlexContainer.g$.Center},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Dot,{size,dotColor:color}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Dot,{size,dotColor:color}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Dot,{size,dotColor:color})]}))};var DataGridWrapper=(0,styled.ZP)(Box.Z)(RecipientsTable_templateObject_1||(RecipientsTable_templateObject_1=(0,tslib_es6.cy)(["\n  margin-top: 0 !important;\n  flex: 1;\n  position: relative;\n"],["\n  margin-top: 0 !important;\n  flex: 1;\n  position: relative;\n"]))),RecipientsTableDataGrid=(0,styled.ZP)(DataGridPro.ZP)(RecipientsTable_templateObject_2||(RecipientsTable_templateObject_2=(0,tslib_es6.cy)(["\n  border: none;\n  justify-content: flex-start;\n\n  .MuiTablePagination-displayedRows {\n    display: none;\n  }\n  .MuiDataGrid-columnHeaders {\n    border: none;\n  }\n\n  .MuiDataGrid-cell {\n    padding: "," 0;\n  }\n\n  .MuiDataGrid-row.Mui-selected,\n  .MuiDataGrid-row.Mui-selected:hover {\n    background-color: ",";\n  }\n\n  .MuiDataGrid-row .MuiDataGrid-cell:focus,\n  .MuiDataGrid-row.Mui-selected .MuiDataGrid-cell:focus {\n    background-color: transparent;\n  }\n\n  @media screen and (max-width: ","px) {\n    .MuiDataGrid-cell {\n      padding: "," 0;\n    }\n  }\n"],["\n  border: none;\n  justify-content: flex-start;\n\n  .MuiTablePagination-displayedRows {\n    display: none;\n  }\n  .MuiDataGrid-columnHeaders {\n    border: none;\n  }\n\n  .MuiDataGrid-cell {\n    padding: "," 0;\n  }\n\n  .MuiDataGrid-row.Mui-selected,\n  .MuiDataGrid-row.Mui-selected:hover {\n    background-color: ",";\n  }\n\n  .MuiDataGrid-row .MuiDataGrid-cell:focus,\n  .MuiDataGrid-row.Mui-selected .MuiDataGrid-cell:focus {\n    background-color: transparent;\n  }\n\n  @media screen and (max-width: ","px) {\n    .MuiDataGrid-cell {\n      padding: "," 0;\n    }\n  }\n"])),shippoTheme.Z.spacing(2),colors.O.accent.background.success,shippoTheme.Z.breakpoints.values.sm,shippoTheme.Z.spacing(1.75));function getRowHeight(){return"auto"}var RecipientsTable_templateObject_1,RecipientsTable_templateObject_2,RecipientsTable=function(_a){var addresses=_a.addresses,count=_a.count,fromSearch=_a.fromSearch,onPageChange=_a.onPageChange,page=_a.page,pageSize=_a.pageSize,t=_a.t,isMobile=(0,useMediaQuery.Z)(shippoTheme.Z.breakpoints.down("md")),tableColumns=(0,react.useMemo)((function(){return columns(isMobile)}),[isMobile]),tableRows=addresses?function recipientsTableRows(addresses){return addresses.map((function(addressObj){var address=addressObj.address;return{id:addressObj.id,recipient:{name:null==address?void 0:address.name,organization:null==address?void 0:address.organization},organization:{name:null==address?void 0:address.organization},address:{addressLine1:null==address?void 0:address.address_line_1,addressLine2:(null==address?void 0:address.address_line_2)||void 0,cityLocality:null==address?void 0:address.city_locality,stateProvince:null==address?void 0:address.state_province,postalCode:null==address?void 0:address.postal_code,countryCode:null==address?void 0:address.country_code},editAction:{addressObj}}})).filter((function(address){return address}))}(addresses):[];return 0===tableRows.length?(0,emotion_react_jsx_runtime_browser_esm.tZ)(NoRecipients,{message:t(fromSearch?"settings:addressBook.recipient.zeroSearchResults":"settings:addressBook.recipient.noSavedRecipients")}):(0,emotion_react_jsx_runtime_browser_esm.tZ)(DataGridWrapper,{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(RecipientsTableDataGrid,{getRowHeight,columns:tableColumns,disableColumnSelector:!0,disableColumnMenu:!0,hideFooter:Number(count)<=Number(pageSize),headerHeight:0,rowCount:count,rows:tableRows,onPageChange,page,pageSize,pagination:!0,paginationMode:"server",rowsPerPageOptions:[pageSize||0]})})};function RecipientsTableWrapper(_a){var error=_a.error,loading=_a.loading,t=_a.t,rest=(0,tslib_es6._T)(_a,["error","loading","t"]);return error?(0,emotion_react_jsx_runtime_browser_esm.tZ)(Alert.Z,(0,tslib_es6.pi)({severity:"error"},{children:t("settings:addressBook.error")})):loading?(0,emotion_react_jsx_runtime_browser_esm.tZ)(Box.Z,(0,tslib_es6.pi)({mt:6},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(components_Loader,{})})):(0,emotion_react_jsx_runtime_browser_esm.tZ)(RecipientsTable,(0,tslib_es6.pi)({t},rest))}const RecipientsTable_stories={title:"RecipientsTableWrapper",component:RecipientsTableWrapper};var RecipientTemplateWrapper=(0,translate.Iu)("settings")((function(_a){var t=_a.t,props=(0,tslib_es6._T)(_a,["t"]),providerValue=function useRecipientsContextProviderValue(_a){var t=_a.t,searchValue=_a.searchValue;return(0,react.useMemo)((function(){return{t,searchValue}}),[t,searchValue])}(t);return(0,emotion_react_jsx_runtime_browser_esm.tZ)(context.Provider,(0,tslib_es6.pi)({value:providerValue},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(RecipientsTableWrapper,(0,tslib_es6.pi)({t},props))}))})),Template=function(args){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(RecipientTemplateWrapper,(0,tslib_es6.pi)({},args))},RecipientsTable_stories_RecipientsTable=function(args){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Template,(0,tslib_es6.pi)({},args))};RecipientsTable_stories_RecipientsTable.args={loading:!1,error:!1,fromSearch:!1,addresses:(0,addresses.AT)(5)};var ErrorState=function(args){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Template,(0,tslib_es6.pi)({},args))};ErrorState.args={loading:!1,error:!0,fromSearch:!1,addresses:(0,addresses.AT)(5)};var LoadingState=function(args){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Template,(0,tslib_es6.pi)({},args))};LoadingState.args={loading:!0,error:!1,fromSearch:!1,addresses:(0,addresses.AT)(5)};var RecipientsTable_stories_NoRecipients=function(args){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Template,(0,tslib_es6.pi)({},args))};RecipientsTable_stories_NoRecipients.args={loading:!1,error:!1,fromSearch:!1,addresses:[]};var NoRecipientsFromSearch=function(args){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Template,(0,tslib_es6.pi)({},args))};NoRecipientsFromSearch.args={loading:!1,error:!1,fromSearch:!0,addresses:[]},RecipientsTable_stories_RecipientsTable.parameters={...RecipientsTable_stories_RecipientsTable.parameters,docs:{...RecipientsTable_stories_RecipientsTable.parameters?.docs,source:{originalSource:"args => {\n  return <Template {...args} />;\n}",...RecipientsTable_stories_RecipientsTable.parameters?.docs?.source}}},ErrorState.parameters={...ErrorState.parameters,docs:{...ErrorState.parameters?.docs,source:{originalSource:"args => {\n  return <Template {...args} />;\n}",...ErrorState.parameters?.docs?.source}}},LoadingState.parameters={...LoadingState.parameters,docs:{...LoadingState.parameters?.docs,source:{originalSource:"args => {\n  return <Template {...args} />;\n}",...LoadingState.parameters?.docs?.source}}},RecipientsTable_stories_NoRecipients.parameters={...RecipientsTable_stories_NoRecipients.parameters,docs:{...RecipientsTable_stories_NoRecipients.parameters?.docs,source:{originalSource:"args => {\n  return <Template {...args} />;\n}",...RecipientsTable_stories_NoRecipients.parameters?.docs?.source}}},NoRecipientsFromSearch.parameters={...NoRecipientsFromSearch.parameters,docs:{...NoRecipientsFromSearch.parameters?.docs,source:{originalSource:"args => {\n  return <Template {...args} />;\n}",...NoRecipientsFromSearch.parameters?.docs?.source}}}}}]);