(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[2148],{"./app/assets/settings/no-recipients.png":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"assets/9fa1a6dddf0246a8e4bf73c113ff858f.png"},"./app/components/CountryFlag/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>components_CountryFlag});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),constants=__webpack_require__("./app/styles/constants.ts"),Flag=(0,emotion_styled_browser_esm.Z)("span")(templateObject_1||(templateObject_1=(0,tslib_es6.cy)(["\n  border: 1px solid ",";\n  border-radius: 2px;\n  height: fit-content;\n  align-self: center;\n  line-height: 0;\n  min-width: 0.875rem;\n"],["\n  border: 1px solid ",";\n  border-radius: 2px;\n  height: fit-content;\n  align-self: center;\n  line-height: 0;\n  min-width: 0.875rem;\n"])),constants.O9.gray100);var templateObject_1;const components_CountryFlag=function(_a){var className=_a.className,country=_a.country,props=(0,tslib_es6._T)(_a,["className","country"]);return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Flag,(0,tslib_es6.pi)({className:"".concat(className||""," flag-icon flag-icon-").concat(country.toLocaleLowerCase())},props))}},"./app/components/Layout/FlexContainer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Kq:()=>HorizontalAlign,Qb:()=>FlexDirection,ZP:()=>__WEBPACK_DEFAULT_EXPORT__,g$:()=>VerticalAlign});var VerticalAlign,HorizontalAlign,FlexDirection,FlexWrap,tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_emotion_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js");!function(VerticalAlign){VerticalAlign.Stretch="stretch",VerticalAlign.Center="center",VerticalAlign.Start="start",VerticalAlign.End="end",VerticalAlign.BaseLine="baseline"}(VerticalAlign||(VerticalAlign={})),function(HorizontalAlign){HorizontalAlign.Start="start",HorizontalAlign.Center="center",HorizontalAlign.SpaceBetween="space-between",HorizontalAlign.SpaceAround="space-around",HorizontalAlign.SpaceEvenly="space-evenly",HorizontalAlign.End="end",HorizontalAlign.FlexStart="flex-start",HorizontalAlign.FlexEnd="flex-end"}(HorizontalAlign||(HorizontalAlign={})),function(FlexDirection){FlexDirection.Row="row",FlexDirection.Column="column",FlexDirection.RowReverse="row-reverse"}(FlexDirection||(FlexDirection={})),function(FlexWrap){FlexWrap.NoWrap="nowrap",FlexWrap.Wrap="wrap",FlexWrap.WrapReverse="wrap-reverse"}(FlexWrap||(FlexWrap={}));var FlexContainer=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.Z)("div")(templateObject_1||(templateObject_1=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.cy)(["\n  display: flex;\n  ",";\n  ",";\n  ",";\n  ",";\n"],["\n  display: flex;\n  ",";\n  ",";\n  ",";\n  ",";\n"])),(function(props){return props.verticalAlign?"align-items: ".concat(props.verticalAlign,";"):""}),(function(props){return props.horizontalAlign?"justify-content: ".concat(props.horizontalAlign,";"):""}),(function(props){return props.flexDirection?"flex-direction: ".concat(props.flexDirection,";"):""}),(function(props){return props.flexWrap?"flex-wrap: ".concat(props.flexWrap,";"):""}));const __WEBPACK_DEFAULT_EXPORT__=FlexContainer;var templateObject_1,templateObject_2;(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_0__.Z)(FlexContainer)(templateObject_2||(templateObject_2=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.cy)(["\n  height: 100%;\n"],["\n  height: 100%;\n"])))},"./app/tests/mocks/addresses.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AT:()=>getMockAddressBooks,Dj:()=>fromAddress,Fv:()=>usTerritoryAddresses,Hc:()=>toAddress,JL:()=>addressFactory,UK:()=>mockJSONAddress,Us:()=>returnAddress,ol:()=>internationalAddress,xQ:()=>militaryAddresses});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_constants_countries__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/constants/countries.ts"),_constants_states__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/constants/states.ts"),faker__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/faker/index.js"),_types_Address__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/types/Address.ts"),usStatesByStateName=Object.entries(_constants_states__WEBPACK_IMPORTED_MODULE_1__.uX).reduce((function(accum,_a){var _b=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.CR)(_a,2),key=_b[0];return accum[_b[1].name]=key,accum}),{}),addressId=1,addressFactory=function(opts){void 0===opts&&(opts={isDefaultReturn:!1,isDefaultSender:!1}),opts.seed&&faker__WEBPACK_IMPORTED_MODULE_2__.seed(opts.seed);var state=opts.state||usStatesByStateName[faker__WEBPACK_IMPORTED_MODULE_2__.address.state()];return{company:void 0===opts.company?faker__WEBPACK_IMPORTED_MODULE_2__.company.companyName():opts.company,street1:opts.street1||faker__WEBPACK_IMPORTED_MODULE_2__.address.streetAddress(!1),street2:opts.street2||faker__WEBPACK_IMPORTED_MODULE_2__.address.secondaryAddress(),streetNumber:opts.streetNumber||"",city:opts.city||faker__WEBPACK_IMPORTED_MODULE_2__.address.city(),state,zip:opts.zip||faker__WEBPACK_IMPORTED_MODULE_2__.address.zipCodeByState(state),name:opts.name||"".concat(faker__WEBPACK_IMPORTED_MODULE_2__.name.firstName()," ").concat(faker__WEBPACK_IMPORTED_MODULE_2__.name.lastName()),phone:"6502080696",email:opts.email||faker__WEBPACK_IMPORTED_MODULE_2__.internet.email(),id:opts.id||(addressId+=1),isDefaultSender:opts.isDefaultSender,isDefaultReturn:opts.isDefaultReturn,objectCreated:opts.objectCreated||new Date,objectUpdated:opts.objectUpdated||new Date,storeAddressId:opts.storeAddressId,storePlatformNames:opts.storePlatformNames,country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}},internationalAddress=(_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US,{id:12345,objectId:"5a24f0f5951a4fb2ba1232b4f0e684e3",objectState:"VALID",objectPurpose:"QUOTE",objectSource:"FULLY_ENTERED",objectCreated:new Date("2018-06-29T00:06:08.682Z"),objectUpdated:new Date("2018-06-29T00:06:08.682Z"),objectOwner:"malcolm_fdv@shippo.com",name:"Juan Carlos",company:"",streetNumber:null,street1:"Lavalle 1171",street2:"",street3:"",city:"San Nicolas",state:"Buenos Aires",zip:"2900",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.AR,longitude:null,latitude:null,phone:"",email:"",isResidential:!1,ip:null,messages:[],metadata:"",test:!1}),toAddress={id:23456,objectId:"5a24f0f5951a4fb2ba1232b4f0e684e3",objectState:"VALID",objectPurpose:"QUOTE",objectSource:"FULLY_ENTERED",objectCreated:new Date("2018-06-29T00:06:08.682Z"),objectUpdated:new Date("2018-06-29T00:06:08.682Z"),objectOwner:"malcolm_fdv@shippo.com",name:"HoFu Tsai",company:"",streetNumber:null,street1:"420 Colon Ave.",street2:"",street3:"",city:"San Francisco",state:"CA",zip:"94127",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US,longitude:null,latitude:null,phone:"4243201686",email:"",isResidential:!1,ip:null,messages:[],metadata:"",test:!1},fromAddress={id:44444,city:"San Francisco",company:"",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US,email:"",ip:null,isResidential:!1,latitude:null,longitude:null,messages:[],metadata:"",name:"HoFu Tsai",objectCreated:new Date("2019-08-17T23:26:06.041Z"),objectId:"ce543b58be2a4368b4b31f466057ffdb",objectOwner:"malcolm_fdv@shippo.com",objectPurpose:"PURCHASE",objectSource:"FULLY_ENTERED",objectState:"VALID",objectUpdated:new Date("2019-08-17T23:54:07.752Z"),phone:"4243201686",state:"CA",street1:"731 Market St.",street2:"",street3:"",streetNumber:null,test:!1,zip:"94103"},returnAddress={id:55555,city:"San Francisco",company:"",email:"",ip:null,isResidential:!1,latitude:null,longitude:null,messages:[],metadata:"",name:"Nick Foo",objectCreated:new Date("2019-08-17T23:14:32.568Z"),objectId:"4ae855d9b0954b42ba597516725ae33f",objectOwner:"malcolm_fdv@shippo.com",objectPurpose:"PURCHASE",objectSource:"INVALID",objectState:"VALID",objectUpdated:new Date("2019-08-17T23:14:32.568Z"),phone:"4243201686",street1:"500 Market St.",street2:"",street3:"",streetNumber:null,state:"CA",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US,zip:"94103",test:!1},militaryAddresses={APOAE:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"APO",state:"AE",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),APOAP:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"APO",state:"AP",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),APOAA:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"APO",state:"AA",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),FPOAE:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"FPO",state:"AE",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),FPOAP:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"FPO",state:"AP",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),FPOAA:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"FPO",state:"AA",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US})},usTerritoryAddresses={AS:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Tutuila",state:"AS",zip:"96799",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),GU:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Tumon",state:"GU",zip:"96913",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),MP:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Tutuila",state:"MP",zip:"96950",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),MH:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Majuro",state:"MH",zip:"96960",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),FM:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Colonia",state:"FM",zip:"96943",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),PW:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Koror",state:"PW",zip:"96940",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),PR:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Guayama",state:"PR",zip:"00784",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),UM:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"Midway Atoll",state:"UM",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US}),VI:(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},toAddress),{city:"St. John",state:"VI",zip:"00830",country:_constants_countries__WEBPACK_IMPORTED_MODULE_0__.ZP.US})},mockJSONAddress={id:123,object_state:"VALID",object_purpose:"QUOTE",object_source:"FULLY_ENTERED",object_created:"2018-06-29T00:06:08.682Z",object_updated:"2018-06-29T00:06:08.682Z",object_id:"5a24f0f5951a4fb2ba1232b4f0e684e3",object_owner:"fungi@shippo.com",name:"Lechuga",company:"Pechugas Express",street_no:"",street1:"731 Market St",street2:"Ste 200",street3:"",city:"San Francisco",state:"CA",zip:"94103",country:"US",phone:"18006668888",email:"fungi@shippo.com",is_residential:!1,ip:null,messages:[],metadata:"",test:!1},AddressBookFactory=function(seedId){seedId&&faker__WEBPACK_IMPORTED_MODULE_2__.seed(seedId);var addressType=[_types_Address__WEBPACK_IMPORTED_MODULE_3__.MH.RESIDENTIAL,_types_Address__WEBPACK_IMPORTED_MODULE_3__.MH.UNKNOWN];return{id:faker__WEBPACK_IMPORTED_MODULE_2__.datatype.uuid(),address:{name:"".concat(faker__WEBPACK_IMPORTED_MODULE_2__.name.firstName(),", ").concat(faker__WEBPACK_IMPORTED_MODULE_2__.name.lastName()),organization:faker__WEBPACK_IMPORTED_MODULE_2__.company.companyName(),email:faker__WEBPACK_IMPORTED_MODULE_2__.internet.email(),phone:faker__WEBPACK_IMPORTED_MODULE_2__.phone.phoneNumber(),address_line_1:faker__WEBPACK_IMPORTED_MODULE_2__.address.streetAddress(!0),address_line_2:"",street_no:"",city_locality:faker__WEBPACK_IMPORTED_MODULE_2__.address.city(),state_province:faker__WEBPACK_IMPORTED_MODULE_2__.address.stateAbbr(),postal_code:faker__WEBPACK_IMPORTED_MODULE_2__.address.zipCode(),country_code:faker__WEBPACK_IMPORTED_MODULE_2__.address.countryCode(),address_type:addressType[faker__WEBPACK_IMPORTED_MODULE_2__.datatype.number({min:0,max:1})]},updated_at:faker__WEBPACK_IMPORTED_MODULE_2__.datatype.datetime().toString(),created_at:faker__WEBPACK_IMPORTED_MODULE_2__.datatype.datetime().toString()}},getMockAddressBooks=function(length){for(var n=0,addresses=[];n<length;)n++,addresses.push(AddressBookFactory());return addresses}},"./app/utils/TrackingHelper/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>trackingHelper});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),uuid__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/uuid/index.js"),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/lodash.js"),trackingHelper=new(function(){function TrackingHelper(){this.appVersion="classic",this.isBulk=!1}return TrackingHelper.prototype.properties=function(){var _a;return{appVersionName:this.appVersion,isBulk:this.isBulk,orderId:this.orderId,orderIds:this.orderIds,userDetails:this.userDetails,trackedOrderDetailsByShipment:this.trackedOrderDetailsByShipment,selectedOrders:this.selectedOrders,orderQuantity:(null===(_a=this.orderIds)||void 0===_a?void 0:_a.length)||(this.orderId?1:0)}},TrackingHelper.prototype.getReferenceId=function(){return(0,uuid__WEBPACK_IMPORTED_MODULE_0__.v4)()},TrackingHelper.prototype.getBaseTrackingReference=function(initialEventName,appLocation){return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)({initialEventName,referenceId:this.getReferenceId(),appLocation},(0,lodash__WEBPACK_IMPORTED_MODULE_1__.cloneDeep)(this.properties()))},TrackingHelper.prototype.extendTrackingReference=function(trackingReference,requiredProps){return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)({},(0,lodash__WEBPACK_IMPORTED_MODULE_1__.cloneDeep)(trackingReference)),(0,lodash__WEBPACK_IMPORTED_MODULE_1__.cloneDeep)(requiredProps))},TrackingHelper.prototype.appendGlobalProps=function(input){return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)({},input),(0,lodash__WEBPACK_IMPORTED_MODULE_1__.cloneDeep)(this.properties()))},TrackingHelper.prototype.getTrackingReference=function(initialEventName,appLocation,requiredProps){var trackingReference=this.getBaseTrackingReference(initialEventName,appLocation);return this.extendTrackingReference(trackingReference,requiredProps)},TrackingHelper.prototype.amendTrackingReferenceOrders=function(trackingReference,orderIds){var duped=(0,lodash__WEBPACK_IMPORTED_MODULE_1__.cloneDeep)(trackingReference);if(duped.orderId=void 0,duped.orderIds=void 0,duped.orderQuantity=void 0,duped.isBulk=!1,!orderIds)return duped;switch(orderIds.length){case 0:return duped;case 1:return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)({},duped),{orderId:orderIds[0],orderQuantity:1});default:return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)({},duped),{orderIds,orderQuantity:orderIds.length,isBulk:!0})}},TrackingHelper.prototype.amendTrackingReferenceTrackedOrderDetailsByShipment=function(trackingReference,trackedOrderDetailsByShipment){return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)({},(0,lodash__WEBPACK_IMPORTED_MODULE_1__.cloneDeep)(trackingReference)),{trackedOrderDetailsByShipment})},TrackingHelper.prototype.amendTrackingReferenceOrderSelection=function(trackingReference,selectedOrders){if(!selectedOrders)return trackingReference;var orderIds=Object.keys(selectedOrders),trackingReferenceWithOrderIds=trackingHelper.amendTrackingReferenceOrders(trackingReference,orderIds);return trackingReferenceWithOrderIds.selectedOrders=selectedOrders,trackingReferenceWithOrderIds},TrackingHelper}())},"./app/utils/TrackingHelper/types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var _a;__webpack_require__.d(__webpack_exports__,{Dy:()=>ADDRESS_TRACKING_EVENT,M1:()=>LABEL_PURCHASED_EVENT,N2:()=>CARRIER_ACCOUNT_TRACKING_EVENT,PL:()=>PACKAGE_TRACKING_EVENT,Rh:()=>RECIPIENT_ADDRESS_BOOK_QUERIED,SF:()=>DEFAULT_UPDATED_EVENT,TR:()=>LABEL_UPDATED_EVENT,VT:()=>RATE_DISPLAYED_EVENT,Wq:()=>API_TOKEN_UPDATED,XH:()=>IBD_MODAL_TRACKING_EVENT,c1:()=>RATES_UPDATED_EVENT,cv:()=>PARCEL_BOT_TRACKING_EVENT,dn:()=>PAYMENT_METHOD_EVENT,kn:()=>MANIFEST_TRACKING_EVENT,oq:()=>BULK_BAR_TRACKING_EVENT,uc:()=>ITEM_UPDATED_EVENT,wU:()=>RECIPIENT_ADDRESS_BOOK_UPDATED,xD:()=>ORDER_TRACKING_EVENT});var ADDRESS_TRACKING_EVENT={name:"Address Updated",operations:{ADDED:"added",CREATED:"created",UPDATED:"updated",SAVE_ATTEMPTED:"save attempted",VIEWED:"viewed",DELETED:"deleted"}},CARRIER_ACCOUNT_TRACKING_EVENT={name:"Carrier Account Updated",operations:{ADDED:"added",STARTED:"started",SELECTED:"selected",SAVE_ATTEMPTED:"save attempted",CLOSED:"closed",ACTIVATED:"activated",DEACTIVATED:"deactivated",EDITED:"edited"}},DEFAULT_UPDATED_EVENT={name:"Default Updated",operations:{LABEL:"label",INTERNATIONAL:"international"}},ORDER_TRACKING_EVENT={name:"Order Updated",operations:{ADDED:"added",UPDATED:"updated",IMPORT_STARTED:"import started",VIEWED:"viewed",DESELECTED:"deselected",DUPLICATED:"duplicated"}},LABEL_PURCHASED_EVENT={name:"Label Purchased",operations:{SAVE_ATTEMPTED:"save attempted",TRANSACTION_COMPLETED:"transaction completed"}},LABEL_UPDATED_EVENT={name:"Label Updated",operations:{DOWNLOADED:"downloaded"}},PACKAGE_TRACKING_EVENT={name:"Package Updated",operations:{CREATED:"created",SAVE_ATTEMPTED:"save attempted",DELETED:"deleted",BROWSED:"browsed",SEARCHED:"searched",ADDED:"added",UPDATED:"updated"}},PAYMENT_METHOD_EVENT={name:"Payment Method Updated",operations:{VIEWED:"viewed",ADDED:"added",SAVE_ATTEMPTED:"save attempted",UPDATED:"updated"}},RATES_UPDATED_EVENT={name:"Rates Updated",operations:{SELECTED:"selected",GENERATED:"generated"}},RATE_DISPLAYED_EVENT={name:"Rate Displayed",operations:{DISPLAYED:"displayed"}},RETURN_BATCH_ENTRY_CREATION_EVENT={name:"Return Label Creation",operations:{CREATED:"created",UPDATED:"updated"}},ITEM_UPDATED_EVENT={name:"Item Updated",operations:{VIWED:"viewed",ADDED:"added",EDITED:"edited",DELETED:"deleted",SAVED:"saved"}},MANIFEST_TRACKING_EVENT={name:"Manifest Updated",operations:{UPDATED:"updated",GENERATED:"generated",DOWNLOADED:"downloaded"}},PARCEL_BOT_TRACKING_EVENT={name:"Parcel Bot Updated",operations:{LOADED:"loaded",CLOSED:"closed",QUERIED:"queried",BACK:"back",RETURNED:"returned"}},BULK_BAR_TRACKING_EVENT={name:"Bulk Bar Updated",operations:{VIEWED:"viewed",SELECTED:"selected",COMPLETED:"completed"}},IBD_MODAL_TRACKING_EVENT={name:"IBD Modal Loaded",operations:{LOADED:"loaded",ACCEPT:"accept",CLOSED:"closed",CLICKED_OUT:"clicked out",CHECKBOX:"checkbox",TC:"TC",LEARN_MORE:"Learn More"}},RECIPIENT_ADDRESS_BOOK_UPDATED={name:"Recipient Address Book Updated",operations:{CREATED:"created",EDITED:"edited",SAVE_ATTEMPTED:"save attempted",DELETED:"deleted"}},RECIPIENT_ADDRESS_BOOK_QUERIED={name:"Recipient Address Book Queried",operations:{QUERIED:"queried",SELECTED:"selected"}},API_TOKEN_UPDATED={name:"Token Updated",operations:{GENERATED:"generated",DELETED:"deleted",COPIED:"copied"}};(_a={})[ADDRESS_TRACKING_EVENT.name]=ADDRESS_TRACKING_EVENT,_a[DEFAULT_UPDATED_EVENT.name]=DEFAULT_UPDATED_EVENT,_a[ORDER_TRACKING_EVENT.name]=ORDER_TRACKING_EVENT,_a[LABEL_PURCHASED_EVENT.name]=LABEL_PURCHASED_EVENT,_a[LABEL_UPDATED_EVENT.name]=LABEL_UPDATED_EVENT,_a[PACKAGE_TRACKING_EVENT.name]=PACKAGE_TRACKING_EVENT,_a[PAYMENT_METHOD_EVENT.name]=PAYMENT_METHOD_EVENT,_a[CARRIER_ACCOUNT_TRACKING_EVENT.name]=CARRIER_ACCOUNT_TRACKING_EVENT,_a[RATES_UPDATED_EVENT.name]=RATES_UPDATED_EVENT,_a[RATE_DISPLAYED_EVENT.name]=RATE_DISPLAYED_EVENT,_a[ITEM_UPDATED_EVENT.name]=ITEM_UPDATED_EVENT,_a[MANIFEST_TRACKING_EVENT.name]=MANIFEST_TRACKING_EVENT,_a[PARCEL_BOT_TRACKING_EVENT.name]=PARCEL_BOT_TRACKING_EVENT,_a[BULK_BAR_TRACKING_EVENT.name]=BULK_BAR_TRACKING_EVENT,_a[IBD_MODAL_TRACKING_EVENT.name]=IBD_MODAL_TRACKING_EVENT,_a[RECIPIENT_ADDRESS_BOOK_UPDATED.name]=RECIPIENT_ADDRESS_BOOK_UPDATED,_a[RECIPIENT_ADDRESS_BOOK_QUERIED.name]=RECIPIENT_ADDRESS_BOOK_QUERIED,_a[API_TOKEN_UPDATED.name]=API_TOKEN_UPDATED,_a[RETURN_BATCH_ENTRY_CREATION_EVENT.name]=RETURN_BATCH_ENTRY_CREATION_EVENT},"./app/utils/TrackingHelper/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K4:()=>trackAddressUpdate,Lv:()=>trackCarrierAccountUpdate,Od:()=>trackPackageUpdate,R4:()=>trackWithGlobalProps,Sl:()=>trackPaymentMethodUpdate,ht:()=>trackDownload,uD:()=>trackItemUpdated});var tslib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/lodash.js"),_utils_segment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/utils/segment/index.ts"),_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/utils/TrackingHelper/types.ts"),___WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/utils/TrackingHelper/index.ts");__webpack_require__("./node_modules/axios/index.js");function objectToSnake(input){return Object.entries(input).reduce((function(accum,curr){return accum[(0,lodash__WEBPACK_IMPORTED_MODULE_0__.snakeCase)(curr[0])]=curr[1],accum}),{})}var trackWithGlobalProps=function(appLocation,event,input){var propertiesAsSnakeCase=objectToSnake(omitNestedObjects((0,tslib__WEBPACK_IMPORTED_MODULE_5__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_5__.pi)({},___WEBPACK_IMPORTED_MODULE_3__.U.appendGlobalProps(input)),{appLocation})));(0,_utils_segment__WEBPACK_IMPORTED_MODULE_1__.j)(event,propertiesAsSnakeCase)},getShipmentIdsByOrderId=function(trackingReference,orderId){return trackingReference.selectedOrders&&trackingReference.selectedOrders[orderId]||[]},getShipmentProps=function(orderId,orderProcessingId,batchCount,trackedOrderDetailsByShipment){if(!trackedOrderDetailsByShipment)return{orderId,orderProcessingId,batchCount};var trackedOrderDetails=trackedOrderDetailsByShipment[orderProcessingId];return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.pi)({orderId,orderProcessingId,batchCount},trackedOrderDetails)},getAdditionalPropsSet=function(trackingReference){var ordersPropsSet=function(trackingReference){var _a;if(trackingReference.orderIds&&(null===(_a=trackingReference.orderIds)||void 0===_a?void 0:_a.length)>0){var shipmentIdsAppliedToOrderIds=trackingReference.orderIds.map((function(orderId){var shipmentIds=getShipmentIdsByOrderId(trackingReference,orderId);if(0===shipmentIds.length)return[{orderId}];var batchCount=shipmentIds.length;return shipmentIds.map((function(shipmentId){return getShipmentProps(orderId,shipmentId,batchCount,trackingReference.trackedOrderDetailsByShipment)}))}));return(0,lodash__WEBPACK_IMPORTED_MODULE_0__.flatten)(shipmentIdsAppliedToOrderIds)}if(trackingReference.orderId){var orderId_1=trackingReference.orderId,shipmentIds=getShipmentIdsByOrderId(trackingReference,orderId_1),batchCount_1=shipmentIds.length;return 0===batchCount_1?[{orderId:orderId_1}]:shipmentIds.map((function(shipmentId){return getShipmentProps(orderId_1,shipmentId,batchCount_1,trackingReference.trackedOrderDetailsByShipment)}))}return[]}(trackingReference);return ordersPropsSet.map((function(orderProps){return(0,tslib__WEBPACK_IMPORTED_MODULE_5__.pi)({},orderProps)}))},omitNestedObjects=function(values){return(0,lodash__WEBPACK_IMPORTED_MODULE_0__.pick)(values,Object.keys(values).filter((function(key){return!function(values){return!!values&&!!Object.values(values).find((function(v){return"object"==typeof v}))}(values[key])})))},applyTransformsForTrackedProps=function(trackingReference,properties){var referencePropertiesAsSnakeCase=objectToSnake((0,lodash__WEBPACK_IMPORTED_MODULE_0__.omit)(trackingReference,"selectedOrders","trackedOrderDetailsByShipment","trackedUserSettings","userDetails")),propertiesAsSnakeCase=objectToSnake(properties||{}),additionalPropsSet=getAdditionalPropsSet(trackingReference);return additionalPropsSet.length>0?additionalPropsSet.map((function(additionalProps){var additionalPropsAsSnakeCase=objectToSnake(additionalProps);return omitNestedObjects((0,tslib__WEBPACK_IMPORTED_MODULE_5__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_5__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_5__.pi)({},referencePropertiesAsSnakeCase),additionalPropsAsSnakeCase),propertiesAsSnakeCase))})):[omitNestedObjects((0,tslib__WEBPACK_IMPORTED_MODULE_5__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_5__.pi)({},referencePropertiesAsSnakeCase),propertiesAsSnakeCase))]},addCustomPropsByEventName=function(eventName,operation,propsSet){return eventName===_types__WEBPACK_IMPORTED_MODULE_2__.M1.name?function(eventName,operation,propsSet){return eventName===_types__WEBPACK_IMPORTED_MODULE_2__.M1.name&&operation===_types__WEBPACK_IMPORTED_MODULE_2__.M1.operations.SAVE_ATTEMPTED||operation===_types__WEBPACK_IMPORTED_MODULE_2__.M1.operations.TRANSACTION_COMPLETED?propsSet.map((function(set,idx){return set.rate_ids?(0,tslib__WEBPACK_IMPORTED_MODULE_5__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_5__.pi)({},set),{rate_id:set.rate_ids[idx]}):(0,tslib__WEBPACK_IMPORTED_MODULE_5__.pi)({},set)})):propsSet}(eventName,operation,propsSet):propsSet},trackingFunctionFactory=function(trackingEventName){return function(trackingReference,operation,additionalProps){!function(eventName,operation,trackingReference,properties){var propsSet=applyTransformsForTrackedProps(trackingReference,properties);(propsSet=addCustomPropsByEventName(eventName,operation,propsSet)).forEach((function(props){(0,_utils_segment__WEBPACK_IMPORTED_MODULE_1__.j)(eventName,(0,tslib__WEBPACK_IMPORTED_MODULE_5__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_5__.pi)({},props),{operation}))}));try{___WEBPACK_IMPORTED_MODULE_3__.U.fullStoryEvent&&eventName===_types__WEBPACK_IMPORTED_MODULE_2__.xD.name&&operation===_types__WEBPACK_IMPORTED_MODULE_2__.xD.operations.VIEWED&&___WEBPACK_IMPORTED_MODULE_3__.U.fullStoryEvent("".concat(_types__WEBPACK_IMPORTED_MODULE_2__.xD.name," ").concat(_types__WEBPACK_IMPORTED_MODULE_2__.xD.operations.VIEWED),{order_id:trackingReference.orderId||"",order_ids:trackingReference.orderIds||[],reference_id:trackingReference.referenceId})}catch(_a){}}(trackingEventName,operation,trackingReference,additionalProps)}},trackCarrierAccountUpdate=trackingFunctionFactory(_types__WEBPACK_IMPORTED_MODULE_2__.N2.name),trackAddressUpdate=trackingFunctionFactory(_types__WEBPACK_IMPORTED_MODULE_2__.Dy.name),trackPaymentMethodUpdate=(trackingFunctionFactory(_types__WEBPACK_IMPORTED_MODULE_2__.M1.name),trackingFunctionFactory(_types__WEBPACK_IMPORTED_MODULE_2__.dn.name)),trackPackageUpdate=trackingFunctionFactory(_types__WEBPACK_IMPORTED_MODULE_2__.PL.name),trackItemUpdated=(trackingFunctionFactory(_types__WEBPACK_IMPORTED_MODULE_2__.VT.name),trackingFunctionFactory(_types__WEBPACK_IMPORTED_MODULE_2__.uc.name)),trackLabelUpdated=(trackingFunctionFactory(_types__WEBPACK_IMPORTED_MODULE_2__.kn.name),trackingFunctionFactory(_types__WEBPACK_IMPORTED_MODULE_2__.TR.name));trackingFunctionFactory(_types__WEBPACK_IMPORTED_MODULE_2__.cv.name),trackingFunctionFactory(_types__WEBPACK_IMPORTED_MODULE_2__.SF.name),trackingFunctionFactory(_types__WEBPACK_IMPORTED_MODULE_2__.oq.name),trackingFunctionFactory(_types__WEBPACK_IMPORTED_MODULE_2__.XH.name),trackingFunctionFactory(_types__WEBPACK_IMPORTED_MODULE_2__.wU.name),trackingFunctionFactory(_types__WEBPACK_IMPORTED_MODULE_2__.Rh.name),trackingFunctionFactory(_types__WEBPACK_IMPORTED_MODULE_2__.Wq.name);var trackDownload=function(appLocation,event,orderSelection){var trackingReference=___WEBPACK_IMPORTED_MODULE_3__.U.getTrackingReference(_types__WEBPACK_IMPORTED_MODULE_2__.TR.name,appLocation,{type:event}),trackingReferenceWithOrderIds=___WEBPACK_IMPORTED_MODULE_3__.U.amendTrackingReferenceOrderSelection(trackingReference,orderSelection);trackLabelUpdated(trackingReferenceWithOrderIds,_types__WEBPACK_IMPORTED_MODULE_2__.TR.operations.DOWNLOADED,{})}},"./app/utils/segment/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{zW:()=>schema.ZP,j:()=>track});var esm_exports=__webpack_require__("./node_modules/@sentry/browser/node_modules/@sentry/core/esm/exports.js"),schema=__webpack_require__("./app/utils/segment/schema.ts");__webpack_require__("./node_modules/moment/moment.js"),__webpack_require__("./app/pages/Onboarding/onboarding.constants.ts"),__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/react-redux/es/index.js"),__webpack_require__("./app/selectors/user.selectors.ts");var track=function(name,properties){window.analytics?window.analytics.track(name,properties):esm_exports.uT("track called before window.analytics available",{level:"warning"})}},"./app/utils/segment/schema.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var Events;__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__,fK:()=>EVENT_ORIGIN_ORDER_DETAILS,wQ:()=>EVENT_ORIGIN_LEGACY_ORDER}),function(Events){Events.registered="Signed Up",Events.store_connected="Store Connected",Events.store_disconnected="Store Disconnected",Events.address_created="Address Created",Events.credit_card_added="Credit Card Added",Events.carrier_connected="Carrier Connected",Events.carrier_error_displayed="Carrier Error Displayed",Events.package_template_created="Package Template Created",Events.label_purchase="Label Purchased",Events.label_purchase_failed="Label Purchase Failed",Events.label_downloaded="Label Downloaded",Events.packing_slip_downloaded="Packing Slip Downloaded",Events.tracking_status_viewed="Tracking Status Viewed",Events.onboarding_step_completed="Step Completed",Events.onboarding_completed="Onboarding Completed",Events.get_started_viewed="Get Started Page View",Events.insurance_updated="Insurance Updated",Events.insurance_modal_opened="Insurance Modal Opened",Events.insurance_modal_link_clicked="Insurance Modal Link Clicked",Events.email_notification_changed="Email Notifications Changed",Events.insurance_option_onboarding="Insurance option during onboarding",Events.automatic_insurance_settings_update="Automatic insurance settings update",Events.insurance_removal="Insurance removal in confirmation modal",Events.insurance_removal_order_details="Remove Insurance from Order Details",Events.signaure_modal_opened="Signature Confirmation Modal Opened",Events.signature_modal_updated="Signature Confirmation Modal Updated",Events.signature_removal_order_details="Remove Signature from Order Details",Events.ups_surcharge_warning="UPS surcharge warnings",Events.insurance_details_opened="Insurance Details Opened From Sidebar",Events.signature_details_opened="Signature Details Opened From Sidebar",Events.signature_updated="Signature Details Updated From Sidebar",Events.new_insurance_updated="Insurance Updated From Sidebar",Events.insurance_link_clicked="Insurance Link Clicked From Sidebar",Events.insurance_removed_sidebar="Remove Insurance From Sidebar",Events.signature_removed_sidebar="Remove Signature From Sidebar",Events.promo_code_add_replace="Promo code added or replaced",Events.save_default_package_units="Default package units updated",Events.update_user_information="User profile updated",Events.update_user_language="User language updated",Events.order_search_completed="Order search completed",Events.order_search_result_selected="Order search row selected",Events.customs_options_form_submit="Customs Options Form Submit",Events.customs_items_form_submit="Customs Items Form Submit",Events.package_info_edited="Package Info Updated",Events.embeddable_next_params="Embeddable User Set Next Params",Events.plan_updated="Plan Updated"}(Events||(Events={}));var EVENT_ORIGIN_ORDER_DETAILS="Order details",EVENT_ORIGIN_LEGACY_ORDER="Legacy orders table";const __WEBPACK_DEFAULT_EXPORT__=Events},"./app/utils/translate.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Iu:()=>react_i18next__WEBPACK_IMPORTED_MODULE_0__.Iu,cC:()=>react_i18next__WEBPACK_IMPORTED_MODULE_0__.cC,eU:()=>react_i18next__WEBPACK_IMPORTED_MODULE_0__.eU});var react_i18next__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js")},"./app/pages/Settings/Recipients/RecipientsTable/RecipientsTable.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ErrorState:()=>ErrorState,LoadingState:()=>LoadingState,NoRecipients:()=>RecipientsTable_stories_NoRecipients,NoRecipientsFromSearch:()=>NoRecipientsFromSearch,RecipientsTable:()=>RecipientsTable_stories_RecipientsTable,default:()=>RecipientsTable_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),addresses=__webpack_require__("./app/tests/mocks/addresses.ts"),react=__webpack_require__("./node_modules/react/index.js");const context=(0,react.createContext)({t:function(){},searchValue:""});var translate=__webpack_require__("./app/utils/translate.ts"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),Box=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),DataGridPro=__webpack_require__("./node_modules/@goshippo/components/esm/DataGridPro/DataGridPro.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),colors=__webpack_require__("./node_modules/@goshippo/components/esm/styles/colors.js"),useMediaQuery=__webpack_require__("./node_modules/@mui/material/useMediaQuery/useMediaQuery.js"),Alert=__webpack_require__("./node_modules/@goshippo/components/esm/Alert/Alert.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js");function renderTextHighlight(text,searchValue){if(!text||!searchValue)return text;var list=(0,tslib_es6.ev)([],(0,tslib_es6.CR)(text.matchAll(new RegExp(searchValue,"gi"))),!1);if(!list.length)return text;var lastIdx=0,result=list.reduce((function(current,next){var subText=(0,tslib_es6.CR)(next,1)[0],idx=next.index;return current.push(text.substring(lastIdx,idx)),current.push((0,emotion_react_jsx_runtime_browser_esm.tZ)("mark",{children:subText},"mark-".concat(idx))),lastIdx=idx+subText.length,current}),[]);return result.push(text.substring(lastIdx)),result}const cells_RecipientCell=function(_a){var name=_a.name,organization=_a.organization,_b=(0,react.useContext)(context),t=_b.t,searchValue=_b.searchValue,isMobile=(0,useMediaQuery.Z)(shippoTheme.Z.breakpoints.down("md")),_c=(0,react.useMemo)((function(){return{recipientName:renderTextHighlight(name||"",searchValue),recipientOrganization:renderTextHighlight(organization||"",searchValue)}}),[searchValue,name,organization]),recipientName=_c.recipientName,recipientOrganization=_c.recipientOrganization;return(0,emotion_react_jsx_runtime_browser_esm.BX)(Box.Z,(0,tslib_es6.pi)({sx:{whiteSpace:"initial",padding:"0 ".concat(shippoTheme.Z.spacing(1)," 0 ").concat(shippoTheme.Z.spacing(.5)," "),"& mark":{background:colors.O.hoverFocus}}},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",variant:"body"},{children:recipientName})),isMobile&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",variant:organization?"body":"bodyItalic",color:organization?"default":colors.O.secondaryDisabled},{children:recipientOrganization||t("settings:addressBook.recipient.noCompany")}))]}))};var RecipientColumn=(0,react.memo)((function(props){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(cells_RecipientCell,(0,tslib_es6.pi)({},props))}));const columns_recipientColumn=function(isMobile){return{field:"recipient",flex:isMobile?1.25:1,sortable:!1,minWidth:isMobile?void 0:96,renderCell:function(cell){return cell.value&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(RecipientColumn,(0,tslib_es6.pi)({},cell.value))}}};const cells_OrganizationCell=function(_a){var name=_a.name,_b=(0,react.useContext)(context),t=_b.t,searchValue=_b.searchValue,organization=(0,react.useMemo)((function(){return renderTextHighlight(name||"",searchValue)}),[name,searchValue]);return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Box.Z,(0,tslib_es6.pi)({sx:{whiteSpace:"initial","& mark":{background:colors.O.hoverFocus}}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",variant:organization?"body":"bodyItalic",color:organization?"default":colors.O.secondaryDisabled},{children:organization||t("settings:addressBook.recipient.noCompany")}))}))};var OrganizationColumn=(0,react.memo)((function(props){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(cells_OrganizationCell,(0,tslib_es6.pi)({},props))}));const columns_organizationColumn={field:"organization",flex:1,sortable:!1,minWidth:96,renderCell:function(cell){return cell.value&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(OrganizationColumn,(0,tslib_es6.pi)({},cell.value))}};var Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),CountryFlag=__webpack_require__("./app/components/CountryFlag/index.ts"),AddressText=((0,styled.ZP)("div")(templateObject_1||(templateObject_1=(0,tslib_es6.cy)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n"],["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n"]))),(0,styled.ZP)(Typography.Z)(templateObject_2||(templateObject_2=(0,tslib_es6.cy)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  @media screen and (max-width: ","px) {\n    font-size: ",";\n    line-height: ",";\n  }\n"],["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  @media screen and (max-width: ","px) {\n    font-size: ",";\n    line-height: ",";\n  }\n"])),shippoTheme.Z.breakpoints.values.sm,shippoTheme.Z.spacing(1.5),shippoTheme.Z.spacing(2.055)));const cells_AddressCell=function(_a){var addressLine1=_a.addressLine1,addressLine2=_a.addressLine2,cityLocality=_a.cityLocality,stateProvince=_a.stateProvince,postalCode=_a.postalCode,countryCode=_a.countryCode,isMobile=(0,useMediaQuery.Z)(shippoTheme.Z.breakpoints.down("md"));return(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack.Z,(0,tslib_es6.pi)({direction:"row",spacing:2,sx:{alignItems:"center",width:"100%"}},{children:[countryCode&&!isMobile&&(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack.Z,{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"div"},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(CountryFlag.Z,{"data-testid":"customer-cell-country-flag",country:countryCode})})),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({variant:"caption",component:"div",sx:{color:colors.O.secondary},mx:"auto"},{children:countryCode}))]}),(0,emotion_react_jsx_runtime_browser_esm.BX)(Box.Z,(0,tslib_es6.pi)({sx:{overflow:"hidden"}},{children:[(0,emotion_react_jsx_runtime_browser_esm.BX)(AddressText,(0,tslib_es6.pi)({variant:"body",component:"p"},{children:[addressLine1," ",addressLine2]})),(0,emotion_react_jsx_runtime_browser_esm.BX)(AddressText,(0,tslib_es6.pi)({variant:"body",component:"p"},{children:[cityLocality,cityLocality&&stateProvince?", ":"",stateProvince," ",!isMobile&&postalCode]})),isMobile&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(AddressText,(0,tslib_es6.pi)({variant:"body",component:"p"},{children:postalCode}))]}))]}))};var templateObject_1,templateObject_2,AddressColumn=(0,react.memo)((function(props){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(cells_AddressCell,(0,tslib_es6.pi)({},props))}));const columns_addressColumn=function(isMobile){return{field:"address",flex:isMobile?1:1.25,sortable:!1,minWidth:isMobile?void 0:200,renderCell:function(cell){return cell.value&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(AddressColumn,(0,tslib_es6.pi)({},cell.value))}}};var Button=__webpack_require__("./node_modules/@goshippo/components/esm/Button/Button.js"),RecipientAddressFormProvider=__webpack_require__("./app/pages/Settings/Recipients/contexts/RecipientAddressFormProvider.tsx");const cells_EditActionCell=function(_a){var addressObj=_a.addressObj,t=(0,react.useContext)(context).t,_b=(0,RecipientAddressFormProvider.j)(),setEditingAddress=_b.setEditingAddress,openFormDrawer=_b.openFormDrawer,handleClick=(0,react.useCallback)((function(){setEditingAddress(addressObj),openFormDrawer()}),[addressObj,openFormDrawer,setEditingAddress]);return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Box.Z,(0,tslib_es6.pi)({sx:{padding:"0 ".concat(shippoTheme.Z.spacing(.5))}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(Button.Z,(0,tslib_es6.pi)({onClick:handleClick,color:"secondary",variant:"text"},{children:t("settings:recipients:edit")}))}))};var EditActionColumn=(0,react.memo)((function(props){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(cells_EditActionCell,(0,tslib_es6.pi)({},props))}));const columns_editActionColumn={field:"editAction",flex:.4,sortable:!1,minWidth:80,align:"right",renderCell:function(cell){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(EditActionColumn,(0,tslib_es6.pi)({},cell.value))}};const columns=function(isMobile){return(0,tslib_es6.ev)((0,tslib_es6.ev)([columns_recipientColumn(isMobile)],(0,tslib_es6.CR)(isMobile?[]:[columns_organizationColumn]),!1),[columns_addressColumn(isMobile),columns_editActionColumn],!1)};var no_recipients=__webpack_require__("./app/assets/settings/no-recipients.png"),no_recipients_default=__webpack_require__.n(no_recipients),NoRecipients=function(_a){var message=_a.message;return(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack.Z,(0,tslib_es6.pi)({spacing:1,sx:{display:"flex",marginTop:"5%",alignItems:"center"}},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Box.Z,{component:"img",src:no_recipients_default(),alt:"no recipients image",sx:{width:336,maxWidth:"100%"}}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",variant:"body"},{children:message}))]}))},emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),FlexContainer=__webpack_require__("./app/components/Layout/FlexContainer.tsx"),constants=__webpack_require__("./app/styles/constants.ts"),animation=(0,emotion_react_browser_esm.F4)(Loader_templateObject_1||(Loader_templateObject_1=(0,tslib_es6.cy)(["\n\t0%, 80%, 100%{\n\t\ttransform: scale(0);\n\t}\n\t40%{\n\t\ttransform: scale(1);\n\t}\n"],["\n\t0%, 80%, 100%{\n\t\ttransform: scale(0);\n\t}\n\t40%{\n\t\ttransform: scale(1);\n\t}\n"]))),Dot=(0,emotion_styled_browser_esm.Z)("div")(Loader_templateObject_2||(Loader_templateObject_2=(0,tslib_es6.cy)(["\n  height: ",";\n  width: ",";\n  border-radius: 50%;\n  background-color: ",";\n  position: relative;\n  animation: 1.2s "," ease-in-out infinite;\n\n  &:nth-of-type(2) {\n    margin: 0 calc("," * 0.75);\n    animation: 1.2s "," ease-in-out infinite 0.15555s;\n  }\n\n  &:nth-of-type(3) {\n    animation: 1.2s "," ease-in-out infinite 0.3s;\n  }\n"],["\n  height: ",";\n  width: ",";\n  border-radius: 50%;\n  background-color: ",";\n  position: relative;\n  animation: 1.2s "," ease-in-out infinite;\n\n  &:nth-of-type(2) {\n    margin: 0 calc("," * 0.75);\n    animation: 1.2s "," ease-in-out infinite 0.15555s;\n  }\n\n  &:nth-of-type(3) {\n    animation: 1.2s "," ease-in-out infinite 0.3s;\n  }\n"])),(function(props){return props.size}),(function(props){return props.size}),(function(props){return props.dotColor}),animation,(function(props){return props.size}),animation,animation);var Loader_templateObject_1,Loader_templateObject_2;const components_Loader=function(props){var size=props.size||"20px",color=props.color||constants.O9.primary;return(0,emotion_react_jsx_runtime_browser_esm.BX)(FlexContainer.ZP,(0,tslib_es6.pi)({className:props.className,horizontalAlign:FlexContainer.Kq.Center,verticalAlign:FlexContainer.g$.Center},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Dot,{size,dotColor:color}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Dot,{size,dotColor:color}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(Dot,{size,dotColor:color})]}))};var DataGridWrapper=(0,styled.ZP)(Box.Z)(RecipientsTable_templateObject_1||(RecipientsTable_templateObject_1=(0,tslib_es6.cy)(["\n  margin-top: 0 !important;\n  flex: 1;\n  position: relative;\n"],["\n  margin-top: 0 !important;\n  flex: 1;\n  position: relative;\n"]))),RecipientsTableDataGrid=(0,styled.ZP)(DataGridPro.ZP)(RecipientsTable_templateObject_2||(RecipientsTable_templateObject_2=(0,tslib_es6.cy)(["\n  border: none;\n  justify-content: flex-start;\n\n  .MuiTablePagination-displayedRows {\n    display: none;\n  }\n  .MuiDataGrid-columnHeaders {\n    border: none;\n  }\n\n  .MuiDataGrid-cell {\n    padding: "," 0;\n  }\n\n  .MuiDataGrid-row.Mui-selected,\n  .MuiDataGrid-row.Mui-selected:hover {\n    background-color: ",";\n  }\n\n  .MuiDataGrid-row .MuiDataGrid-cell:focus,\n  .MuiDataGrid-row.Mui-selected .MuiDataGrid-cell:focus {\n    background-color: transparent;\n  }\n\n  @media screen and (max-width: ","px) {\n    .MuiDataGrid-cell {\n      padding: "," 0;\n    }\n  }\n"],["\n  border: none;\n  justify-content: flex-start;\n\n  .MuiTablePagination-displayedRows {\n    display: none;\n  }\n  .MuiDataGrid-columnHeaders {\n    border: none;\n  }\n\n  .MuiDataGrid-cell {\n    padding: "," 0;\n  }\n\n  .MuiDataGrid-row.Mui-selected,\n  .MuiDataGrid-row.Mui-selected:hover {\n    background-color: ",";\n  }\n\n  .MuiDataGrid-row .MuiDataGrid-cell:focus,\n  .MuiDataGrid-row.Mui-selected .MuiDataGrid-cell:focus {\n    background-color: transparent;\n  }\n\n  @media screen and (max-width: ","px) {\n    .MuiDataGrid-cell {\n      padding: "," 0;\n    }\n  }\n"])),shippoTheme.Z.spacing(2),colors.O.accent.background.success,shippoTheme.Z.breakpoints.values.sm,shippoTheme.Z.spacing(1.75));function getRowHeight(){return"auto"}var RecipientsTable_templateObject_1,RecipientsTable_templateObject_2,RecipientsTable=function(_a){var addresses=_a.addresses,count=_a.count,fromSearch=_a.fromSearch,onPageChange=_a.onPageChange,page=_a.page,pageSize=_a.pageSize,t=_a.t,isMobile=(0,useMediaQuery.Z)(shippoTheme.Z.breakpoints.down("md")),tableColumns=(0,react.useMemo)((function(){return columns(isMobile)}),[isMobile]),tableRows=addresses?function recipientsTableRows(addresses){return addresses.map((function(addressObj){var address=addressObj.address;return{id:addressObj.id,recipient:{name:null==address?void 0:address.name,organization:null==address?void 0:address.organization},organization:{name:null==address?void 0:address.organization},address:{addressLine1:null==address?void 0:address.address_line_1,addressLine2:(null==address?void 0:address.address_line_2)||void 0,cityLocality:null==address?void 0:address.city_locality,stateProvince:null==address?void 0:address.state_province,postalCode:null==address?void 0:address.postal_code,countryCode:null==address?void 0:address.country_code},editAction:{addressObj}}})).filter((function(address){return address}))}(addresses):[];return 0===tableRows.length?(0,emotion_react_jsx_runtime_browser_esm.tZ)(NoRecipients,{message:t(fromSearch?"settings:addressBook.recipient.zeroSearchResults":"settings:addressBook.recipient.noSavedRecipients")}):(0,emotion_react_jsx_runtime_browser_esm.tZ)(DataGridWrapper,{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(RecipientsTableDataGrid,{getRowHeight,columns:tableColumns,disableColumnSelector:!0,disableColumnMenu:!0,hideFooter:Number(count)<=Number(pageSize),headerHeight:0,rowCount:count,rows:tableRows,onPageChange,page,pageSize,pagination:!0,paginationMode:"server",rowsPerPageOptions:[pageSize||0],disableVirtualization:!0,autoHeight:!0})})};function RecipientsTableWrapper(_a){var error=_a.error,loading=_a.loading,t=_a.t,rest=(0,tslib_es6._T)(_a,["error","loading","t"]);return error?(0,emotion_react_jsx_runtime_browser_esm.tZ)(Alert.Z,(0,tslib_es6.pi)({severity:"error"},{children:t("settings:addressBook.error")})):loading?(0,emotion_react_jsx_runtime_browser_esm.tZ)(Box.Z,(0,tslib_es6.pi)({mt:6},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(components_Loader,{})})):(0,emotion_react_jsx_runtime_browser_esm.tZ)(RecipientsTable,(0,tslib_es6.pi)({t},rest))}const RecipientsTable_stories={title:"RecipientsTableWrapper",component:RecipientsTableWrapper};var RecipientTemplateWrapper=(0,translate.Iu)("settings")((function(_a){var t=_a.t,props=(0,tslib_es6._T)(_a,["t"]),providerValue=function useRecipientsContextProviderValue(_a){var t=_a.t,searchValue=_a.searchValue;return(0,react.useMemo)((function(){return{t,searchValue}}),[t,searchValue])}(t);return(0,emotion_react_jsx_runtime_browser_esm.tZ)(context.Provider,(0,tslib_es6.pi)({value:providerValue},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(RecipientsTableWrapper,(0,tslib_es6.pi)({t},props))}))})),Template=function(args){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(RecipientTemplateWrapper,(0,tslib_es6.pi)({},args))},RecipientsTable_stories_RecipientsTable=function(args){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Template,(0,tslib_es6.pi)({},args))};RecipientsTable_stories_RecipientsTable.args={loading:!1,error:!1,fromSearch:!1,addresses:(0,addresses.AT)(5)};var ErrorState=function(args){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Template,(0,tslib_es6.pi)({},args))};ErrorState.args={loading:!1,error:!0,fromSearch:!1,addresses:(0,addresses.AT)(5)};var LoadingState=function(args){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Template,(0,tslib_es6.pi)({},args))};LoadingState.args={loading:!0,error:!1,fromSearch:!1,addresses:(0,addresses.AT)(5)};var RecipientsTable_stories_NoRecipients=function(args){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Template,(0,tslib_es6.pi)({},args))};RecipientsTable_stories_NoRecipients.args={loading:!1,error:!1,fromSearch:!1,addresses:[]};var NoRecipientsFromSearch=function(args){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Template,(0,tslib_es6.pi)({},args))};NoRecipientsFromSearch.args={loading:!1,error:!1,fromSearch:!0,addresses:[]},RecipientsTable_stories_RecipientsTable.parameters={...RecipientsTable_stories_RecipientsTable.parameters,docs:{...RecipientsTable_stories_RecipientsTable.parameters?.docs,source:{originalSource:"args => {\n  return <Template {...args} />;\n}",...RecipientsTable_stories_RecipientsTable.parameters?.docs?.source}}},ErrorState.parameters={...ErrorState.parameters,docs:{...ErrorState.parameters?.docs,source:{originalSource:"args => {\n  return <Template {...args} />;\n}",...ErrorState.parameters?.docs?.source}}},LoadingState.parameters={...LoadingState.parameters,docs:{...LoadingState.parameters?.docs,source:{originalSource:"args => {\n  return <Template {...args} />;\n}",...LoadingState.parameters?.docs?.source}}},RecipientsTable_stories_NoRecipients.parameters={...RecipientsTable_stories_NoRecipients.parameters,docs:{...RecipientsTable_stories_NoRecipients.parameters?.docs,source:{originalSource:"args => {\n  return <Template {...args} />;\n}",...RecipientsTable_stories_NoRecipients.parameters?.docs?.source}}},NoRecipientsFromSearch.parameters={...NoRecipientsFromSearch.parameters,docs:{...NoRecipientsFromSearch.parameters?.docs,source:{originalSource:"args => {\n  return <Template {...args} />;\n}",...NoRecipientsFromSearch.parameters?.docs?.source}}}}}]);