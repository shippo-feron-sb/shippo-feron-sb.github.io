"use strict";(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[7297],{"./app/pages/Orders/Blackbeard/OrdersTable/cells/CarrierService/TrackingCell.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>CarrierService_TrackingCell});var emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),carriers=__webpack_require__("./app/constants/carriers.ts"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),Box=__webpack_require__("./node_modules/@goshippo/components/esm/Box/Box.js"),IconButton=__webpack_require__("./node_modules/@goshippo/components/esm/IconButton/IconButton.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js"),ContentCopy=__webpack_require__("./node_modules/@mui/icons-material/esm/ContentCopy.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),CarrierServiceCellContainer=function(_a){var children=_a.children;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Stack.Z,(0,tslib_es6.pi)({direction:"row",spacing:1,sx:{placeItems:"center",width:"100%",height:"100%",flex:1,maxWidth:"264px",boxSizing:"border-box",py:1},"data-testid":"carrier-service-cell-container"},{children}))},TitleTypography=function(_a){var children=_a.children;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({color:"primary",component:"div",variant:"body",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{children}))},BodyTypography=function(_a){var children=_a.children,_b=_a.truncate,truncate=void 0===_b||_b,_c=_a.truncateDirection,truncateDirection=void 0===_c?"ltr":_c;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"div",color:"primary",variant:"caption",sx:truncate?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:truncateDirection,textAlign:"left"}:void 0,"data-testid":"body-typography-container"},{children}))},ProviderImage=function(_a){var alt=_a.alt,iconSrc=_a.iconSrc;return(0,emotion_react_jsx_runtime_browser_esm.tZ)("img",{style:{width:"1.5rem",borderRadius:"0.125rem"},alt,src:iconSrc})},MobileBasicTrackingCell=function(_a){var Label=_a.Label,LinkComponent=_a.LinkComponent,onClickCopy=_a.onClickCopy,trackingNumber=_a.trackingNumber;return(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack.Z,(0,tslib_es6.pi)({direction:"row",spacing:0,sx:{placeItems:"center",width:"100%",height:"100%",flex:1,maxWidth:"264px",boxSizing:"border-box",py:1},"data-testid":"carrier-service-cell-container"},{children:[(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack.Z,(0,tslib_es6.pi)({sx:{overflow:"hidden",flex:1}},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(TitleTypography,{children:Label}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(BodyTypography,(0,tslib_es6.pi)({truncateDirection:"rtl"},{children:LinkComponent||trackingNumber}))]})),!!trackingNumber&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(Box.Z,(0,tslib_es6.pi)({style:{justifySelf:"flex-end"}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(IconButton.Z,(0,tslib_es6.pi)({sx:{padding:shippoTheme.Z.spacing(.5)},"data-testid":"content-copy-icon",onClick:function(e){e.stopPropagation(),onClickCopy()}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(ContentCopy.Z,{})}))}))]}))};const cells_BasicTrackingCell=function(_a){var isMobile=_a.isMobile,Label=_a.Label,LinkComponent=_a.LinkComponent,onClickCopy=_a.onClickCopy,trackingNumber=_a.trackingNumber,providerImage=_a.providerImage;return isMobile?(0,emotion_react_jsx_runtime_browser_esm.tZ)(MobileBasicTrackingCell,{Label,LinkComponent,onClickCopy,trackingNumber,providerImage}):(0,emotion_react_jsx_runtime_browser_esm.BX)(CarrierServiceCellContainer,{children:[providerImage?(0,emotion_react_jsx_runtime_browser_esm.tZ)(ProviderImage,{alt:"Provider icon",iconSrc:providerImage}):(0,emotion_react_jsx_runtime_browser_esm.tZ)(ProviderImage,{alt:"",iconSrc:""}),(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack.Z,(0,tslib_es6.pi)({sx:{overflow:"hidden",flex:1}},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(TitleTypography,{children:Label}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(BodyTypography,(0,tslib_es6.pi)({truncateDirection:"rtl"},{children:LinkComponent||trackingNumber}))]})),!!trackingNumber&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(Box.Z,(0,tslib_es6.pi)({style:{justifySelf:"flex-end"}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(IconButton.Z,(0,tslib_es6.pi)({"data-testid":"content-copy-icon",onClick:function(e){e.stopPropagation(),onClickCopy()}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(ContentCopy.Z,{})}))}))]})};var react=__webpack_require__("./node_modules/react/index.js"),Carrier=__webpack_require__("./app/types/Carrier.ts"),batchEntryRendering=__webpack_require__("./app/utils/batchEntryRendering.ts");const CarrierService_TrackingCell=(0,react.memo)((function(_a){var _b,trackingRate=_a.trackingRate,transaction=_a.transaction,addSnackbarAlert=_a.addSnackbarAlert,t=_a.t;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(cells_BasicTrackingCell,{trackingNumber:transaction.trackingNumber,onClickCopy:function(){(null==transaction?void 0:transaction.trackingNumber)&&("clipboard"in navigator?navigator.clipboard.writeText(transaction.trackingNumber):(0,batchEntryRendering.mm)(transaction.trackingNumber),addSnackbarAlert(t("orders:mobileNotifications:copyTrackingNumber",{count:1}),"success"))},Label:(0,emotion_react_jsx_runtime_browser_esm.BX)(emotion_react_jsx_runtime_browser_esm.HY,{children:[trackingRate.provider," Tracking"]}),providerImage:trackingRate.provider?null===(_b=carriers.Wu[(0,Carrier.I)(trackingRate.provider)])||void 0===_b?void 0:_b.icon:void 0})}))},"./app/utils/batchEntryRendering.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Vo:()=>noRatesErrorState,hH:()=>getShouldRenderOldExperienceData,mm:()=>overlyComplicatedTrackingNumberSelection,r_:()=>getOldExperienceTransaction});var types_Order__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/types/Order.ts"),types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/types/OrdersBatch.ts");__webpack_require__("./app/types/Transaction.ts");function getOldExperienceTransaction(transactions,batchEntry){return(null==batchEntry?void 0:batchEntry.transactionObjectId)?transactions.find((function(t){return t.objectId===batchEntry.transactionObjectId})):transactions[transactions.length-1]}function getShouldRenderOldExperienceData(order,batchEntry){var isFulfilledWithCompleteOrErrorBatchEntry=function getIsFulfilledWithCompleteOrErrorBatchEntry(order,batchEntry){return!(!(0,types_Order__WEBPACK_IMPORTED_MODULE_0__.KD)(order)||!batchEntry||[types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__.jV.COMPLETE_SHIPMENT,types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__.jV.PENDING,types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__.jV.PROCESSING_SHIPMENT].includes(batchEntry.objectStatus)||0!==batchEntry.partialFulfillmentRank)}(order,batchEntry);return((0,types_Order__WEBPACK_IMPORTED_MODULE_0__.Ef)(order)&&!batchEntry||isFulfilledWithCompleteOrErrorBatchEntry)&&!(0,types_Order__WEBPACK_IMPORTED_MODULE_0__.ge)(order)}function overlyComplicatedTrackingNumberSelection(trackingNumber){var textArea=document.createElement("textarea");textArea.textContent=trackingNumber,document.body.appendChild(textArea);var selection=document.getSelection(),range=document.createRange();range.selectNode(textArea),null==selection||selection.removeAllRanges(),null==selection||selection.addRange(range),document.execCommand("copy"),null==selection||selection.removeAllRanges(),document.body.removeChild(textArea)}function noRatesErrorState(batchEntry,shipment){return!!(batchEntry&&batchEntry.objectStatus===types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__.jV.COMPLETE_SHIPMENT&&shipment&&0===shipment.rates.length&&shipment.messages.length>0)}},"./app/pages/Orders/Blackbeard/OrdersTable/cells/CarrierService/TrackingCell.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{RowOfTrackingCells:()=>RowOfTrackingCells,SimpleTrackingCell:()=>SimpleTrackingCell,default:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),_TrackingCell__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/pages/Orders/Blackbeard/OrdersTable/cells/CarrierService/TrackingCell.tsx");const __WEBPACK_DEFAULT_EXPORT__={title:"Blackbeard/TrackingCell",component:_TrackingCell__WEBPACK_IMPORTED_MODULE_0__.Z,parameters:{layout:"centered"},argTypes:{}};var SimpleTrackingCell=function(args){return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.tZ)(_TrackingCell__WEBPACK_IMPORTED_MODULE_0__.Z,(0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)({},args))}.bind({});SimpleTrackingCell.args={addSnackbarAlert:function(){},t:function(){},trackingRate:{provider:"USPS"},transaction:{trackingNumber:"92001901755477000029917247",trackingUrlProvider:"USPS"}};var RowOfTrackingCells=function(){var addSnackbarAlert=function(){},t=function(key){return key};return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.BX)("div",(0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)({style:{display:"flex",flexDirection:"row"}},{children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.BX)("div",(0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)({style:{display:"flex",flexDirection:"column",gap:"1rem",padding:"1rem",width:"125px"}},{children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.tZ)(_TrackingCell__WEBPACK_IMPORTED_MODULE_0__.Z,{t,addSnackbarAlert,trackingRate:{provider:"USPS"},transaction:{trackingNumber:"92001901755477000029917247",trackingUrlProvider:"https://tools.usps.com/go/TrackConfirmAction_input?origTrackNum=92001901755477000029917247"}}),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.tZ)(_TrackingCell__WEBPACK_IMPORTED_MODULE_0__.Z,{t,addSnackbarAlert,trackingRate:{provider:"UPS"},transaction:{trackingNumber:"92001901755",trackingUrlProvider:"UPS"}}),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.tZ)(_TrackingCell__WEBPACK_IMPORTED_MODULE_0__.Z,{t,addSnackbarAlert,trackingRate:{provider:"DHL"},transaction:{trackingNumber:"9200",trackingUrlProvider:"https://webtrack.dhlglobalmail.com/?trackingnumber=420080549274811111111200060282"}})]})),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.BX)("div",(0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)({style:{display:"flex",flexDirection:"column",gap:"1rem",padding:"1rem",width:"400px"}},{children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.tZ)(_TrackingCell__WEBPACK_IMPORTED_MODULE_0__.Z,{t,addSnackbarAlert,trackingRate:{provider:"USPS"},transaction:{trackingNumber:"92001901755477000029917247",trackingUrlProvider:"https://tools.usps.com/go/TrackConfirmAction_input?origTrackNum=92001901755477000029917247"}}),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.tZ)(_TrackingCell__WEBPACK_IMPORTED_MODULE_0__.Z,{t,addSnackbarAlert,trackingRate:{provider:"UPS"},transaction:{trackingNumber:"92001901755",trackingUrlProvider:"UPS"}}),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.tZ)(_TrackingCell__WEBPACK_IMPORTED_MODULE_0__.Z,{t,addSnackbarAlert,trackingRate:{provider:"DHL"},transaction:{trackingNumber:"9200",trackingUrlProvider:"https://webtrack.dhlglobalmail.com/?trackingnumber=420080549274811111111200060282"}})]}))]}))};SimpleTrackingCell.parameters={...SimpleTrackingCell.parameters,docs:{...SimpleTrackingCell.parameters?.docs,source:{originalSource:"(args: ComponentProps) => {\n  return <TrackingCell {...args} />;\n}",...SimpleTrackingCell.parameters?.docs?.source}}},RowOfTrackingCells.parameters={...RowOfTrackingCells.parameters,docs:{...RowOfTrackingCells.parameters?.docs,source:{originalSource:"() => {\n  const addSnackbarAlert = () => {};\n  const t = (key: string) => key;\n  return <div style={{\n    display: 'flex',\n    flexDirection: 'row'\n  }}>\n      <div style={{\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '1rem',\n      padding: '1rem',\n      width: '125px'\n    }}>\n        <TrackingCell t={t} addSnackbarAlert={addSnackbarAlert} trackingRate={{\n        provider: 'USPS'\n      }} transaction={{\n        trackingNumber: '92001901755477000029917247',\n        trackingUrlProvider: 'https://tools.usps.com/go/TrackConfirmAction_input?origTrackNum=92001901755477000029917247'\n      }} />\n        <TrackingCell t={t} addSnackbarAlert={addSnackbarAlert} trackingRate={{\n        provider: 'UPS'\n      }} transaction={{\n        trackingNumber: '92001901755',\n        trackingUrlProvider: 'UPS'\n      }} />\n        <TrackingCell t={t} addSnackbarAlert={addSnackbarAlert} trackingRate={{\n        provider: 'DHL'\n      }} transaction={{\n        trackingNumber: '9200',\n        trackingUrlProvider: 'https://webtrack.dhlglobalmail.com/?trackingnumber=420080549274811111111200060282'\n      }} />\n      </div>\n      <div style={{\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '1rem',\n      padding: '1rem',\n      width: '400px'\n    }}>\n        <TrackingCell t={t} addSnackbarAlert={addSnackbarAlert} trackingRate={{\n        provider: 'USPS'\n      }} transaction={{\n        trackingNumber: '92001901755477000029917247',\n        trackingUrlProvider: 'https://tools.usps.com/go/TrackConfirmAction_input?origTrackNum=92001901755477000029917247'\n      }} />\n        <TrackingCell t={t} addSnackbarAlert={addSnackbarAlert} trackingRate={{\n        provider: 'UPS'\n      }} transaction={{\n        trackingNumber: '92001901755',\n        trackingUrlProvider: 'UPS'\n      }} />\n        <TrackingCell t={t} addSnackbarAlert={addSnackbarAlert} trackingRate={{\n        provider: 'DHL'\n      }} transaction={{\n        trackingNumber: '9200',\n        trackingUrlProvider: 'https://webtrack.dhlglobalmail.com/?trackingnumber=420080549274811111111200060282'\n      }} />\n      </div>\n    </div>;\n}",...RowOfTrackingCells.parameters?.docs?.source}}}}}]);