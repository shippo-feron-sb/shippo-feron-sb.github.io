"use strict";(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[9472],{"./app/pages/Orders/All/OrderDetailsPage/RatingErrors/hasRatingErrors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_types_Address__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/types/Address.ts"),_types_CustomsDeclaration__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/types/CustomsDeclaration.ts"),_types_Order__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/types/Order.ts"),_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/types/OrdersBatch.ts"),_types_Transaction__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./app/types/Transaction.ts");const __WEBPACK_DEFAULT_EXPORT__=function(order,batchEntry,shipment,transaction,rates,hasValidSenderAddress){var _a,_b,_c,_d,showRecipientAddressError=(0,_types_Order__WEBPACK_IMPORTED_MODULE_2__.$I)(order)&&!(null==batchEntry?void 0:batchEntry.addressTo),showParcelError=!(null==batchEntry?void 0:batchEntry.parcel),_e=(0,_types_Address__WEBPACK_IMPORTED_MODULE_0__.ZK)(order,batchEntry),addressFrom=_e.addressFrom,addressTo=_e.addressTo,hasPhoneNumberRequiredError=(0,_types_CustomsDeclaration__WEBPACK_IMPORTED_MODULE_1__.gG)({addressFrom,addressTo}).hasPhoneNumberRequiredError,isAddressFromIncomplete=!!addressFrom&&(0,_types_Address__WEBPACK_IMPORTED_MODULE_0__.I2)(addressFrom),showSenderAddressError=!hasValidSenderAddress&&!addressFrom||isAddressFromIncomplete,transactionHasErrors=(null==batchEntry?void 0:batchEntry.objectStatus)===_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_3__.jV.COMPLETE_TRANSACTION&&(null==transaction?void 0:transaction.status)===_types_Transaction__WEBPACK_IMPORTED_MODULE_4__.LN.ERROR||(null==batchEntry?void 0:batchEntry.objectStatus)===_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_3__.jV.TRANSACTION_REQUEST_FAILED,hasShipmentErrors=!!shipment&&shipment.messages.length>0&&0===rates.length,hasParcelWeightErrors=batchEntry?!(Number(null===(_a=batchEntry.parcel)||void 0===_a?void 0:_a.weight)>0&&(null===(_b=batchEntry.parcel)||void 0===_b?void 0:_b.weightUnit)):!(Number(null===(_c=null==order?void 0:order.parcel)||void 0===_c?void 0:_c.weight)>0&&(null===(_d=null==order?void 0:order.parcel)||void 0===_d?void 0:_d.weightUnit)),batchEntryErrors=(null==batchEntry?void 0:batchEntry.errors)?(0,tslib__WEBPACK_IMPORTED_MODULE_5__.ev)([],(0,tslib__WEBPACK_IMPORTED_MODULE_5__.CR)(batchEntry.errors),!1):[],orderErrors=0===(null==batchEntry?void 0:batchEntry.partialFulfillmentRank)||0===order.partialFulfillmentRequests.length?(0,tslib__WEBPACK_IMPORTED_MODULE_5__.ev)([],(0,tslib__WEBPACK_IMPORTED_MODULE_5__.CR)(order.errors),!1):[],hasExceededPackageWeightError=!!(batchEntryErrors.length?batchEntryErrors:orderErrors).find((function(error){return"order_weight_exceeded"===error.code}));return{hasErrors:showRecipientAddressError||showParcelError||showSenderAddressError||transactionHasErrors||hasShipmentErrors||hasParcelWeightErrors||hasExceededPackageWeightError||hasPhoneNumberRequiredError,hasExceededPackageWeightError,transactionHasErrors,hasShipmentErrors,hasParcelWeightErrors,showRecipientAddressError,showSenderAddressError,showParcelError,hasPhoneNumberRequiredError}}},"./app/selectors/batch-entry.composite.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e9:()=>batchEntryShipmentIsLoading,zk:()=>getAllOrders,_t:()=>getAreAllPartialFulfillmentRequestsSelected,zO:()=>getAreAllSenderReturnAddressesEqual,cv:()=>getAreSomePartialFulfillmentRequestsSelected,LA:()=>getIncompleteRegStatusFromRates,VO:()=>getIsBatchEntryReadyForCheckout,se:()=>getIsBatchEntryTransactionSuccess,F0:()=>getOrderHasValidBatchEntryToBuyObject,n7:()=>getOrdersTableData,A:()=>getRatesForBatchEntry,C$:()=>getSelectedOrdersMostCommonShipmentDate,tA:()=>getSelectedRateBatchEntry,Dq:()=>getShipmentByBatchEntry,aA:()=>getShipmentIsLoadingFromBatchEntry,Ol:()=>getValidBatchEntriesToBuyCount,s3:()=>getValidBatchEntriesToBuyObject,gk:()=>makeGetBatchEntryTransactionFromOrder,kZ:()=>makeGetIsBatchEntryTransactionSuccess,jQ:()=>makeGetShipmentIsLoadingFromBatchEntries,j9:()=>makeGetShipmentIsLoadingFromBatchEntry});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),currency=__webpack_require__("./app/constants/currency.ts"),format=__webpack_require__("./node_modules/date-fns/esm/format/index.js"),isSameDay=__webpack_require__("./node_modules/date-fns/esm/isSameDay/index.js"),flatten=__webpack_require__("./node_modules/lodash-es/flatten.js"),forOwn=__webpack_require__("./node_modules/lodash-es/forOwn.js"),keyBy=__webpack_require__("./node_modules/lodash-es/keyBy.js"),moment=__webpack_require__("./node_modules/moment/moment.js"),hasRatingErrors=__webpack_require__("./app/pages/Orders/All/OrderDetailsPage/RatingErrors/hasRatingErrors.ts"),es=__webpack_require__("./node_modules/reselect/es/index.js"),batch_entry_selectors=__webpack_require__("./app/selectors/batch-entry.selectors.ts"),props_selectors=__webpack_require__("./app/selectors/props.selectors.ts"),Address=__webpack_require__("./app/types/Address.ts"),APIMessage=__webpack_require__("./app/types/APIMessage.ts"),OrderBatchEntry=__webpack_require__("./app/types/OrderBatchEntry.ts"),OrdersBatch=__webpack_require__("./app/types/OrdersBatch.ts"),Transaction=__webpack_require__("./app/types/Transaction.ts"),carrier_accounts_selectors=__webpack_require__("./app/selectors/carrier-accounts.selectors.ts"),orders_batch_selectors=__webpack_require__("./app/selectors/orders-batch.selectors.ts"),orders_selectors=__webpack_require__("./app/selectors/orders.selectors.ts"),rates_selectors=__webpack_require__("./app/selectors/rates.selectors.ts"),shipments_selectors=__webpack_require__("./app/selectors/shipments.selectors.ts"),transactions_selectors=__webpack_require__("./app/selectors/transactions.selectors.ts"),user_selectors=__webpack_require__("./app/selectors/user.selectors.ts"),makeGetShipmentIsLoadingFromBatchEntries=function(){var getBatchEntryByIds=(0,batch_entry_selectors.yF)();return(0,es.createSelector)(getBatchEntryByIds,shipments_selectors.TT,(function(batchEntries,shipmentLoadingStates){return(null==batchEntries?void 0:batchEntries.map((function(b){return!(!b||!b.shipmentObjectId)&&(!shipmentLoadingStates.hasOwnProperty(b.shipmentObjectId)||!!shipmentLoadingStates[b.shipmentObjectId])})).some((function(b){return b})))||!1}))};function batchEntryShipmentIsLoading(shipmentLoadingStates,batchEntry){return!(!batchEntry||!batchEntry.shipmentObjectId)&&(!shipmentLoadingStates.hasOwnProperty(batchEntry.shipmentObjectId)||!!shipmentLoadingStates[batchEntry.shipmentObjectId])}var makeGetShipmentIsLoadingFromBatchEntry=function(){var getBatchEntryById=(0,batch_entry_selectors.Jf)();return(0,es.createSelector)(getBatchEntryById,shipments_selectors.TT,(function(batchEntry,shipmentLoadingStates){return batchEntryShipmentIsLoading(shipmentLoadingStates,batchEntry||void 0)}))},getShipmentIsLoadingFromBatchEntry=(0,es.createSelector)(batch_entry_selectors.GW,shipments_selectors.TT,(function(batchEntry,shipmentLoadingStates){return!(!batchEntry||!batchEntry.shipmentObjectId)&&(!shipmentLoadingStates.hasOwnProperty(batchEntry.shipmentObjectId)||!!shipmentLoadingStates[batchEntry.shipmentObjectId])})),makeGetIsBatchEntryTransactionSuccess=function(){var getBatchEntryById=(0,batch_entry_selectors.Jf)();return(0,es.createSelector)(getBatchEntryById,orders_selectors.cT,transactions_selectors.VY,(function(batchEntry,orders,transactions){var _a,_b;if(!batchEntry)return!1;var order=orders[batchEntry.orderObjectId],transactionId=batchEntry.transactionObjectId,transactionFromBatchEntry=transactionId?transactions[transactionId]:null,transaction=null===(_a=null==order?void 0:order.transactions)||void 0===_a?void 0:_a.find((function(transaction){return transaction.objectId===transactionId}));return(null===(_b=transactionFromBatchEntry||transaction)||void 0===_b?void 0:_b.status)===Transaction.LN.SUCCESS}))},getRatesForBatchEntry=(0,es.createSelector)(batch_entry_selectors.GW,rates_selectors.L0,rates_selectors.Dm,(function(batchEntry,activeRates,ratesByShipment){return batchEntry&&batchEntry.shipmentObjectId?(ratesByShipment[batchEntry.shipmentObjectId]||[]).map((function(rateId){return activeRates[rateId]})):[]})),getSelectedRateBatchEntry=(0,es.createSelector)(batch_entry_selectors.GW,rates_selectors.L0,rates_selectors.VF,(function(batchEntry,activeRates,selectedRates){if(!batchEntry||!batchEntry.shipmentObjectId)return null;var selectedRate=selectedRates[batchEntry.shipmentObjectId];return selectedRate?activeRates[selectedRate]:null})),getSelectedBatchEntries=(0,es.createSelector)(orders_selectors.A0,(function(selectedOrders){return(0,flatten.Z)(Object.values(selectedOrders))})),getSelectedBatchEntriesByOrderId=(0,es.createSelector)(orders_selectors.A0,props_selectors.ik,(function(selectedOrders,orderObjectId){return selectedOrders[orderObjectId]||[]})),getBatchEntriesDataForSelectedOrders=(0,es.createSelector)(getSelectedBatchEntries,batch_entry_selectors.p8,(function(batchEntryIds,batchEntries){return batchEntryIds.map((function(batchEntryId){return batchEntries[batchEntryId]})).filter((function(v){return v}))})),getSelectedBatchEntriesShipments=(0,es.createSelector)(getBatchEntriesDataForSelectedOrders,shipments_selectors.B9,(function(batchEntries,shipmentData){return batchEntries.reduce((function(shipments,_a){var shipmentObjectId=_a.shipmentObjectId;if(shipmentObjectId){var shipment=shipmentData[shipmentObjectId];shipment&&shipments.push(shipment)}return shipments}),[])})),getSelectedBatchEntriesShipmentsMessagesWithoutHidden=(0,es.createSelector)(getSelectedBatchEntriesShipments,(function(shipments){return shipments.reduce((function(selectedMessages,_a){var messages=_a.messages;return(0,tslib_es6.ev)((0,tslib_es6.ev)([],(0,tslib_es6.CR)(selectedMessages),!1),(0,tslib_es6.CR)(messages),!1)}),[]).filter(APIMessage.OL)})),getAddressesFromOrderSelection=((0,es.createSelector)(getSelectedBatchEntriesShipmentsMessagesWithoutHidden,(function(messages){var messagesByCarrier={};messages.forEach((function(message){var _a,text=message.text,source=message.source,carrierMessages=messagesByCarrier[source];carrierMessages?carrierMessages[text]=message:messagesByCarrier[source]=((_a={})[text]=message,_a)}));var uniqueMessagesArray=[];return(0,forOwn.Z)(messagesByCarrier,(function(messages){(0,forOwn.Z)(messages,(function(message){uniqueMessagesArray.push(message)}))})),uniqueMessagesArray})),(0,es.createSelector)(orders_selectors.A0,orders_selectors.cT,batch_entry_selectors.p8,user_selectors.x7,user_selectors.al,(function(orderSelection,ordersData,batchEntryData,defaultSenderAddress,defaultReturnAddress){return Object.entries(orderSelection).reduce((function(addresses,_a){var _b=(0,tslib_es6.CR)(_a,2),orderId=_b[0],batchEntries=_b[1],order=ordersData[orderId];if(batchEntries.length>0)batchEntries.forEach((function(id){var batchEntry=batchEntryData[id],senderAddress=(null==batchEntry?void 0:batchEntry.addressFrom)||(null==order?void 0:order.addressFrom)||defaultSenderAddress,returnAddress=(null==batchEntry?void 0:batchEntry.addressReturn)||(null==order?void 0:order.addressReturn)||defaultReturnAddress;senderAddress&&addresses.senderAddresses.every((function(address){return!(0,Address.WH)(senderAddress,address)}))&&addresses.senderAddresses.push(senderAddress),returnAddress&&addresses.returnAddresses.every((function(address){return!(0,Address.WH)(returnAddress,address)}))&&addresses.returnAddresses.push(returnAddress)}));else{var senderAddress_1=(null==order?void 0:order.addressFrom)||defaultSenderAddress,returnAddress_1=(null==order?void 0:order.addressReturn)||defaultReturnAddress;senderAddress_1&&addresses.senderAddresses.every((function(address){return!(0,Address.WH)(senderAddress_1,address)}))&&addresses.senderAddresses.push(senderAddress_1),returnAddress_1&&addresses.returnAddresses.every((function(address){return!(0,Address.WH)(returnAddress_1,address)}))&&addresses.returnAddresses.push(returnAddress_1)}return addresses}),{senderAddresses:[],returnAddresses:[]})}))),getAreAllSenderReturnAddressesEqual=(0,es.createSelector)(getAddressesFromOrderSelection,(function(addressesFromOrderSelection){return(0,Address.uo)(addressesFromOrderSelection.senderAddresses.concat(addressesFromOrderSelection.returnAddresses))})),getSelectedRatesForSelectedOrders=((0,es.createSelector)(getAddressesFromOrderSelection,(function(addressesFromOrderSelection){return addressesFromOrderSelection.senderAddresses.length>1})),(0,es.createSelector)(getAddressesFromOrderSelection,(function(addressesFromOrderSelection){return addressesFromOrderSelection.returnAddresses.length>1})),(0,es.createSelector)(getBatchEntriesDataForSelectedOrders,rates_selectors.L0,rates_selectors.VF,(function(batchEntries,activeRates,selectedRates){return batchEntries.map((function(batchEntry){if(!batchEntry.shipmentObjectId)return null;var selectedRate=selectedRates[batchEntry.shipmentObjectId];return selectedRate?activeRates[selectedRate]:null})).filter((function(v){return v}))}))),getOrderObjectIdByBatchEntry=(0,es.createSelector)(batch_entry_selectors.p8,props_selectors.jn,(function(batchEntries,batchEntryId){var _a;return(null===(_a=batchEntries[batchEntryId])||void 0===_a?void 0:_a.orderObjectId)||null})),getShipmentByBatchEntry=((0,es.createSelector)(getOrderObjectIdByBatchEntry,orders_selectors.cT,(function(orderObjectId,ordersData){return orderObjectId?ordersData[orderObjectId]:null})),(0,es.createSelector)(getSelectedRatesForSelectedOrders,(function(rates){return rates.reduce((function(obj,rate){return(0,tslib_es6.pi)((0,tslib_es6.pi)({},obj),{value:obj.value+Number(rate.amount),currencyISO:rate.currency})}),{value:0,currencyISO:currency.Q.USD.iso})})),(0,es.createSelector)(shipments_selectors.B9,batch_entry_selectors.GW,(function(shipmentsData,batchEntry){return batchEntry&&batchEntry.shipmentObjectId?shipmentsData[batchEntry.shipmentObjectId]:null}))),batchEntriesToBuy=function(batchEntryIds,entriesData){return batchEntryIds.map((function(batchEntryId){return entriesData[batchEntryId]})).filter((function(v){return v}))},getBatchEntriesToBuy=(0,es.createSelector)(props_selectors.UG,batch_entry_selectors.p8,batchEntriesToBuy),getBatchEntryIdsFromStore=(0,es.createSelector)(orders_selectors.A0,(function(selectedOrders){return(0,flatten.Z)(Object.values(selectedOrders))})),getBatchEntriesToBuyEntirelyFromStore=(0,es.createSelector)(getBatchEntryIdsFromStore,batch_entry_selectors.p8,batchEntriesToBuy),batchEntriestoBuyMostCommonShipmentDates=function(batchEntries){var dateCounts=batchEntries.map((function(batchEntry){return batchEntry.shipmentDate?batchEntry.shipmentDate.toDate():new Date})).reduce((function(acc,date){var _a,formattedDate=(0,format.default)(date,"MM/dd/yy");return(0,tslib_es6.pi)((0,tslib_es6.pi)({},acc),((_a={})[formattedDate]=(acc[formattedDate]||0)+1,_a))}),{}),mostCommon=Object.keys(dateCounts).reduce((function(a,b){return dateCounts[a]>dateCounts[b]?a:b}),(0,format.default)(new Date,"MM/dd/yy"));return new Date(mostCommon)},getBatchEntriesToBuyMostCommonShipmentDate=(0,es.createSelector)(getBatchEntriesToBuy,batchEntriestoBuyMostCommonShipmentDates),getBatchEntriesToBuyMostCommonShipmentDateEntirelyFromStore=(0,es.createSelector)(getBatchEntriesToBuyEntirelyFromStore,batchEntriestoBuyMostCommonShipmentDates),validBatchEntriesToBuy=function(batchEntries,selectedRates,commonShipmentDate){return batchEntries.filter((function(batchEntry){return(0,OrderBatchEntry.j4)(batchEntry)&&!!selectedRates[batchEntry.shipmentObjectId]&&(0,isSameDay.default)(commonShipmentDate,batchEntry.shipmentDate?batchEntry.shipmentDate.toDate():new Date)}))},getValidBatchEntriesToBuy=(0,es.createSelector)(getBatchEntriesToBuy,rates_selectors.VF,getBatchEntriesToBuyMostCommonShipmentDate,validBatchEntriesToBuy),getValidBatchEntriesToBuyEntirelyFromStore=(0,es.createSelector)(getBatchEntriesToBuyEntirelyFromStore,rates_selectors.VF,getBatchEntriesToBuyMostCommonShipmentDateEntirelyFromStore,validBatchEntriesToBuy),getValidBatchEntriesToBuyObject=(0,es.createSelector)(getValidBatchEntriesToBuyEntirelyFromStore,(function(validBatchEntriesToBuy){return(0,keyBy.Z)(validBatchEntriesToBuy,"id")})),getOrderHasValidBatchEntryToBuyObject=(0,es.createSelector)(getValidBatchEntriesToBuyObject,batch_entry_selectors.tp,(function(validBatchEntriesToBuyObject,batchEntriesByOrderId){var orderHasValidBatchEntryToBuyObject={};return Object.entries(batchEntriesByOrderId).forEach((function(_a){var _b=(0,tslib_es6.CR)(_a,2),orderId=_b[0];_b[1].some((function(batchEntryId){return validBatchEntriesToBuyObject[batchEntryId]}))&&(orderHasValidBatchEntryToBuyObject[orderId]=!0)})),orderHasValidBatchEntryToBuyObject})),getValidBatchEntriesToBuyCount=(0,es.createSelector)(getValidBatchEntriesToBuy,(function(validBatchEntriesToBuy){return validBatchEntriesToBuy.length||0})),getIsBatchEntryReadyForCheckout=((0,es.createSelector)(orders_selectors.Nw,getValidBatchEntriesToBuyCount,(function(selectedCount,validCount){return selectedCount-validCount})),(0,es.createSelector)(getBatchEntriesDataForSelectedOrders,getSelectedBatchEntries,rates_selectors.VF,(function(batchEntries,batchEntryIds,selectedRates){return batchEntries.filter((function(batchEntry){return batchEntryIds.includes(batchEntry.id)&&(0,OrderBatchEntry.j4)(batchEntry)&&!!selectedRates[batchEntry.shipmentObjectId]}))})),(0,es.createSelector)(getBatchEntriesDataForSelectedOrders,orders_selectors.cT,rates_selectors.VF,(function(batchEntries,ordersData,selectedRates){return batchEntries.filter((function(batchEntry){return(0,OrderBatchEntry.j4)(batchEntry)&&!!selectedRates[batchEntry.shipmentObjectId]})).map((function(batchEntry){return ordersData[batchEntry.orderObjectId]})).filter((function(v){return v}))})),(0,es.createSelector)(batch_entry_selectors.GW,rates_selectors.VF,orders_selectors.Zu,(function(batchEntry,selectedRates,isUpdatingOrder){return!!batchEntry&&(!!selectedRates[batchEntry.shipmentObjectId]&&(0,OrderBatchEntry.j4)(batchEntry)&&!isUpdatingOrder)}))),getRatesForBatchEntriesToBuy=(0,es.createSelector)(getBatchEntriesToBuy,rates_selectors.VF,rates_selectors.L0,getBatchEntriesToBuyMostCommonShipmentDate,(function(batchEntries,selectedRates,activeRates,commonShipmentDate){return batchEntries.map((function(batchEntry){if(!(0,isSameDay.default)(commonShipmentDate,batchEntry.shipmentDate?batchEntry.shipmentDate.toDate():new Date))return null;if(!batchEntry.shipmentObjectId||batchEntry.transactionObjectId)return null;var rateId=selectedRates[batchEntry.shipmentObjectId];return activeRates[rateId]})).filter((function(v){return!!v}))})),makeGetBatchEntryTransactionFromOrder=((0,es.createSelector)(getBatchEntriesToBuy,(function(batchEntries){return batchEntries.reduce((function(count,batchEntry){return batchEntry.extras&&batchEntry.extras.isReturnRequested?count+1:count}),0)})),function(){var getBatchEntryById=(0,batch_entry_selectors.Jf)();return(0,es.createSelector)(getBatchEntryById,orders_selectors.cT,(function(batchEntry,ordersData){if(!batchEntry)return null;var order=ordersData[batchEntry.orderObjectId];return order&&batchEntry&&order.transactions&&order.transactions.find((function(transaction){return transaction.objectId===batchEntry.transactionObjectId}))||null}))}),getIsBatchEntryTransactionSuccess=(0,es.createSelector)(props_selectors.jn,batch_entry_selectors.p8,orders_selectors.cT,transactions_selectors.VY,(function(batchEntryId,batchEntries,orders,transactions){var _a,_b,batchEntry=batchEntries[batchEntryId];if(!batchEntry)return!1;var order=orders[batchEntry.orderObjectId],transactionId=batchEntry.transactionObjectId,transactionFromBatchEntry=transactionId?transactions[transactionId]:null,transaction=null===(_a=null==order?void 0:order.transactions)||void 0===_a?void 0:_a.find((function(transaction){return transaction.objectId===transactionId}));return(null===(_b=transactionFromBatchEntry||transaction)||void 0===_b?void 0:_b.status)===Transaction.LN.SUCCESS})),getSelectedOrdersMostCommonShipmentDate=(0,es.createSelector)(getBatchEntriesDataForSelectedOrders,(function(batchEntries){var dateCounts=batchEntries.map((function(batchEntry){return batchEntry.shipmentDate?batchEntry.shipmentDate.toDate():new Date})).reduce((function(acc,date){var _a,formattedDate=(0,format.default)(date,"MM/dd/yy");return(0,tslib_es6.pi)((0,tslib_es6.pi)({},acc),((_a={})[formattedDate]=(acc[formattedDate]||0)+1,_a))}),{}),mostCommon=Object.keys(dateCounts).reduce((function(a,b){return dateCounts[a]>dateCounts[b]?a:b}),(0,format.default)(new Date,"MM/dd/yy"));return new Date(mostCommon)})),getOrdersTableData=((0,es.createSelector)(batch_entry_selectors.Ft,props_selectors.jn,(function(rules,batchEntryId){return rules&&rules[batchEntryId]||null})),(0,es.createSelector)(orders_selectors.AU,batch_entry_selectors.p8,batch_entry_selectors.tp,(function(orders,batchEntriesData,batchEntriesByOrderId){return orders.reduce((function(data,order){var notReturnBatchEntriesIds=(batchEntriesByOrderId[order.objectId]||[]).map((function(beId){return batchEntriesData[beId]})).filter((function(_a){return!_a.isReturn})).map((function(_a){return _a.id}));if(notReturnBatchEntriesIds.length<=1)return(0,tslib_es6.ev)((0,tslib_es6.ev)([],(0,tslib_es6.CR)(data),!1),[{order,kind:"single",batchEntry:notReturnBatchEntriesIds[0]?batchEntriesData[notReturnBatchEntriesIds[0]]:null}],!1);var batchEntriesSortedByRank=(0,OrderBatchEntry.Ud)(notReturnBatchEntriesIds,batchEntriesData);return(0,tslib_es6.ev)((0,tslib_es6.ev)((0,tslib_es6.ev)([],(0,tslib_es6.CR)(data),!1),[{order,kind:"partial-parent"}],!1),(0,tslib_es6.CR)(batchEntriesSortedByRank.map((function(beId){return{order,kind:"partial-child",batchEntry:batchEntriesData[beId]}}))),!1)}),[])}))),getAreAllPartialFulfillmentRequestsSelected=((0,es.createSelector)(orders_selectors.tW,(function(orders){return orders})),(0,es.createSelector)(getSelectedBatchEntriesByOrderId,batch_entry_selectors.BG,(function(selectedBatchEntries,batchEntriesByOrder){return selectedBatchEntries.length===batchEntriesByOrder.length}))),getAreSomePartialFulfillmentRequestsSelected=(0,es.createSelector)(getSelectedBatchEntriesByOrderId,batch_entry_selectors.BG,(function(selectedBatchEntries,batchEntriesByOrder){return!!selectedBatchEntries.length&&selectedBatchEntries.length<batchEntriesByOrder.length})),getIncompleteRegStatusFromRates=((0,es.createSelector)(getSelectedBatchEntries,batch_entry_selectors.p8,batch_entry_selectors.EK,shipments_selectors.TT,(function(selectedBatchEntries,batchEntryData,batchEntryLoadingStates,shipmentLoadingStates){return selectedBatchEntries.some((function(batchEntryId){var batchEntry=batchEntryData[batchEntryId];return!!batchEntry&&(!!batchEntryLoadingStates[batchEntry.orderObjectId]||![OrdersBatch.jV.COMPLETE_TRANSACTION,OrdersBatch.jV.TRANSACTION_REQUEST_FAILED].includes(batchEntry.objectStatus)&&(!!batchEntry.shipmentObjectId&&(batchEntry.objectStatus===OrdersBatch.jV.PROCESSING_SHIPMENT||(!shipmentLoadingStates.hasOwnProperty(batchEntry.shipmentObjectId)||!!shipmentLoadingStates[batchEntry.shipmentObjectId]))))}))})),(0,es.createSelector)(props_selectors.UG,batch_entry_selectors.p8,(function(batchEntryIds,batchEntryData){return batchEntryIds.some((function(batchEntryId){if(!batchEntryId||!batchEntryData||!batchEntryData[batchEntryId])return!1;var partialFulfillmentRank=batchEntryData[batchEntryId].partialFulfillmentRank;return!!partialFulfillmentRank&&partialFulfillmentRank>0}))})),(0,es.createSelector)(getRatesForBatchEntriesToBuy,carrier_accounts_selectors.dI,(function(ratesToBuy,regStatuses){return ratesToBuy.reduce((function(acc,rate){var _a,carrierAccountObjectId=rate.carrierAccount,regStatus=regStatuses[carrierAccountObjectId];return regStatus?(0,tslib_es6.pi)((0,tslib_es6.pi)({},acc),((_a={})[carrierAccountObjectId]=regStatus,_a)):acc}),{})}))),getAllOrders=(0,es.createSelector)(orders_selectors.AU,batch_entry_selectors.tp,(function(orders,beByOrder){return orders.reduce((function(obj,curr){var _a;return(0,tslib_es6.pi)((0,tslib_es6.pi)({},obj),((_a={})[curr.objectId]=beByOrder[curr.objectId]||[],_a))}),{})})),getFirstBatchEntryIdFromOrder=(0,es.createSelector)(batch_entry_selectors.tp,props_selectors.ik,(function(batchEntriesByOrder,orderObjectId){var batchEntries=batchEntriesByOrder[orderObjectId]||[];return 1!==batchEntries.length?null:batchEntries[0]}));(0,es.createSelector)(getFirstBatchEntryIdFromOrder,batch_entry_selectors.p8,(function(batchEntryId,batchEntryData){return batchEntryId?batchEntryData[batchEntryId]:null})),(0,es.createSelector)(orders_batch_selectors.VZ,(function(apiMessagesByOrderId){return Object.entries(apiMessagesByOrderId).filter((function(_a){return!!(0,tslib_es6.CR)(_a,2)[1].filter((function(apiMessage){return"failed_address_validation"===apiMessage.code})).length})).map((function(_a){var _b=(0,tslib_es6.CR)(_a,2);return{orderId:_b[0],errorMessages:_b[1]}}))})),(0,es.createSelector)(batch_entry_selectors.p8,shipments_selectors.B9,orders_selectors.cT,user_selectors.d7,(function(batchEntryData,shipmentsData,ordersData,isUserSenderAddressValid){var unpurchasedBatchEntriesWithExpiredShipmentDate={};return Object.values(batchEntryData).forEach((function(batchEntry){var _a,_b;if([OrdersBatch.jV.COMPLETE_SHIPMENT,OrdersBatch.jV.PENDING].includes(batchEntry.objectStatus)){var isUnpurchasedBatchEntryWithExpiredShipmentDate=!1;((null===(_a=batchEntry.shipmentDate)||void 0===_a?void 0:_a.isBefore(moment(),"day"))||batchEntry.shipmentObjectId&&(null===(_b=shipmentsData[batchEntry.shipmentObjectId])||void 0===_b?void 0:_b.shipmentDate.isBefore(moment(),"day"))||batchEntry.objectStatus===OrdersBatch.jV.PENDING&&batchEntry.parcel&&ordersData[batchEntry.orderObjectId]&&!(0,hasRatingErrors.Z)(ordersData[batchEntry.orderObjectId],batchEntry,null,null,[],isUserSenderAddressValid).hasErrors)&&(isUnpurchasedBatchEntryWithExpiredShipmentDate=!0),isUnpurchasedBatchEntryWithExpiredShipmentDate&&(unpurchasedBatchEntriesWithExpiredShipmentDate[batchEntry.orderObjectId]?unpurchasedBatchEntriesWithExpiredShipmentDate[batchEntry.orderObjectId].push(batchEntry.id):unpurchasedBatchEntriesWithExpiredShipmentDate[batchEntry.orderObjectId]=[batchEntry.id])}})),unpurchasedBatchEntriesWithExpiredShipmentDate})),(0,es.createSelector)(batch_entry_selectors.p8,(function(batchEntryData){return Object.values(batchEntryData).reduce((function(selection,batchEntry){return(0,OrderBatchEntry.fg)(batchEntry)&&(selection[batchEntry.orderObjectId]?selection[batchEntry.orderObjectId].push(batchEntry.id):selection[batchEntry.orderObjectId]=[batchEntry.id]),selection}),{})}))},"./app/selectors/batch-entry.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BG:()=>getBatchEntriesIdByOrderObjectId,CL:()=>makeGetDoesBatchEntryNeedNewRates,CP:()=>getBatchEntriesByIds,EK:()=>getBatchEntryLoadingStates,Ft:()=>getBatchEntryAssociatedRules,GW:()=>getBatchEntryById,H1:()=>makeGetIsBatchEntriesProcessingShipment,HX:()=>getIsBatchEntryProcessingShipment,Jf:()=>makeGetBatchEntryById,N0:()=>getBatchEntryByIdsStateless,OD:()=>getBatchEntryHasTransactionRequestFailed,W0:()=>makeGetBatchEntryIsCompleted,Xj:()=>makeGetIsBatchEntryProcessingShipment,jW:()=>getRuleForBatchEntry,kR:()=>batchEntryIsCompleted,lG:()=>batchEntryIsProcessingShipment,no:()=>getBatchEntryIsCompleted,oT:()=>getFirstBatchEntryFromOrder,p8:()=>getBatchEntryData,tp:()=>getBatchEntriesByOrderId,yF:()=>makeGetBatchEntryByIds,zk:()=>makeGetBatchEntriesIsCompleted});var reselect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/reselect/es/index.js"),_selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/selectors/props.selectors.ts"),_types_OrderBatchEntry__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/types/OrderBatchEntry.ts"),_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/types/OrdersBatch.ts"),getBatchEntryStore=function(state){return state.batchEntry},getBatchEntryData=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryStore,(function(batchEntryStore){return batchEntryStore.data})),getBatchEntryAssociatedRules=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryStore,(function(batchEntryStore){return batchEntryStore.associatedRules})),getBatchEntriesByOrderId=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryStore,(function(batchEntryStore){return batchEntryStore.byOrderId})),getBatchEntryLoadingStates=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryStore,_selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.q3,(function(batchEntryStore,orderObjectIds){return orderObjectIds.reduce((function(batchEntries,orderObjectId){var batchEntryIds=batchEntryStore.byOrderId[orderObjectId]||[];return batchEntries.concat(batchEntryIds.map((function(id){return batchEntryStore.data[id]})).filter((function(be){return be})))}),[])})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryStore,(function(batchEntryStore){return batchEntryStore.loadState}))),getBatchEntriesIdByOrderObjectId=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryStore,_selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.ik,(function(batchEntryStore,orderObjectId){return batchEntryStore.byOrderId[orderObjectId]&&batchEntryStore.byOrderId[orderObjectId].map((function(beId){return batchEntryStore.data[beId]})).filter((function(be){return be})).sort((function(a,b){return a.partialFulfillmentRank-b.partialFulfillmentRank})).map((function(be){return be.id}))||[]})),makeGetBatchEntryById=function(){return(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryData,_selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.jn,(function(batchEntryData,batchEntryId){return batchEntryData[batchEntryId]||null}))},getBatchEntryById=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryData,_selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.jn,(function(batchEntryData,batchEntryId){return batchEntryData[batchEntryId]||null}));function getBatchEntryByIdsStateless(batchEntryData,batchEntryIds){return batchEntryIds.map((function(batchEntryId){return batchEntryData[batchEntryId]})).filter((function(batchEntry){return batchEntry}))}var getBatchEntriesByIds=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryData,_selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.UG,getBatchEntryByIdsStateless);function batchEntryIsCompleted(batchEntry){return!!batchEntry&&batchEntry.objectStatus===_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__.jV.COMPLETE_TRANSACTION}var makeGetBatchEntryIsCompleted=function(){var getBatchEntryById=makeGetBatchEntryById();return(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryById,(function(batchEntry){return batchEntryIsCompleted(batchEntry||void 0)}))},getBatchEntryIsCompleted=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryById,(function(batchEntry){return!!batchEntry&&batchEntry.objectStatus===_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__.jV.COMPLETE_TRANSACTION})),makeGetBatchEntryByIds=function(){return(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryData,_selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.UG,(function(batchEntryData,batchEntryIds){return batchEntryIds.length>0?null==batchEntryIds?void 0:batchEntryIds.map((function(id){return batchEntryData[id]||null})):[]}))};function batchEntryIsProcessingShipment(batchEntry){return!!batchEntry&&!batchEntry.shipmentObjectId&&batchEntry.objectStatus===_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__.jV.PROCESSING_SHIPMENT}var makeGetIsBatchEntryProcessingShipment=function(){var getBatchEntryById=makeGetBatchEntryById();return(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryById,(function(batchEntry){return!!batchEntry&&(!batchEntry.shipmentObjectId&&batchEntry.objectStatus===_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__.jV.PROCESSING_SHIPMENT)}))},getIsBatchEntryProcessingShipment=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryById,(function(batchEntry){return!!batchEntry&&(!batchEntry.shipmentObjectId&&batchEntry.objectStatus===_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__.jV.PROCESSING_SHIPMENT)})),makeGetIsBatchEntriesProcessingShipment=function(){var getBatchEntryByIds=makeGetBatchEntryByIds();return(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryByIds,(function(batchEntries){return!!(batchEntries&&batchEntries.length>0)&&batchEntries.map((function(b){return!!b&&(!b.shipmentObjectId&&b.objectStatus===_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__.jV.PROCESSING_SHIPMENT)})).some((function(b){return b}))}))},makeGetBatchEntriesIsCompleted=function(){var getBatchEntryByIds=makeGetBatchEntryByIds();return(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryByIds,(function(batchEntries){return!!(batchEntries&&batchEntries.length>0)&&batchEntries.map((function(b){return!!b&&b.objectStatus===_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__.jV.COMPLETE_TRANSACTION})).some((function(b){return b}))}))},getBatchEntryHasTransactionRequestFailed=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryById,(function(batchEntry){return!!batchEntry&&batchEntry.objectStatus===_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_1__.jV.TRANSACTION_REQUEST_FAILED})),makeGetDoesBatchEntryNeedNewRates=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryStore,_selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.jn,(function(batchEntryStore,batchEntryId){var _a;return(null===(_a=batchEntryStore.data[batchEntryId])||void 0===_a?void 0:_a.orderObjectId)||null})),function(){var getBatchEntryById=makeGetBatchEntryById();return(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryById,(function(batchEntry){return!!batchEntry&&(0,_types_OrderBatchEntry__WEBPACK_IMPORTED_MODULE_0__.fg)(batchEntry)}))}),getRuleForBatchEntry=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntryAssociatedRules,_selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.jn,(function(rules,batchEntryId){return rules&&rules[batchEntryId]||null})),getFirstBatchEntryIdFromOrder=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(_selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.UG,getBatchEntryData,(function(batchEntryIds,batchEntryData){return batchEntryIds.some((function(batchEntryId){if(!batchEntryId||!batchEntryData||!batchEntryData[batchEntryId])return!1;var partialFulfillmentRank=batchEntryData[batchEntryId].partialFulfillmentRank;return!!partialFulfillmentRank&&partialFulfillmentRank>0}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getBatchEntriesByOrderId,_selectors_props_selectors__WEBPACK_IMPORTED_MODULE_3__.ik,(function(batchEntriesByOrder,orderObjectId){var batchEntries=batchEntriesByOrder[orderObjectId]||[];return 1!==batchEntries.length?null:batchEntries[0]}))),getFirstBatchEntryFromOrder=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getFirstBatchEntryIdFromOrder,getBatchEntryData,(function(batchEntryId,batchEntryData){return batchEntryId?batchEntryData[batchEntryId]:null}))},"./app/selectors/carrier-accounts.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Cr:()=>getCarrierAccountsErrorMessage,Ei:()=>getHasUpsMarketplaceOrMasterAcc,ME:()=>hasEBayCanadaPostAccount,Mb:()=>getCarrierAccountsObjectIdMap,VS:()=>getIsSavingCarrierAccount,dI:()=>getCarrierAccountRegStatusesIncomplete,oT:()=>getSuccessfulFetch,sv:()=>getEditCarrierServiceLevelsError});var _constants_carriers__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/constants/carriers.ts"),reselect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/reselect/es/index.js"),_types_CarrierAccountRegStatus__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/types/CarrierAccountRegStatus.ts"),_utils_fetchable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/utils/fetchable.ts"),getCarrierAccountsStore=function(state){return state.carrierAccounts},getCarrierAccounts=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.carrierAccounts})),getCarrierAccountRegStatusMap=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccountsStore,(function(carrierAccountStore){return carrierAccountStore.carrierAccountRegStatusMap})),getExtractedCarrierAccountRegStatusMap=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccountRegStatusMap,(function(carrierAccountRegStatusMap){return(0,_utils_fetchable__WEBPACK_IMPORTED_MODULE_3__.sL)(carrierAccountRegStatusMap)||{}})),getCarrierAccountsObjectIdMap=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccounts,getExtractedCarrierAccountRegStatusMap,(function(carrierAccounts,carrierAccountRegStatusMap){return carrierAccounts.filter((function(carrierAccount){return carrierAccountRegStatusMap[carrierAccount.objectId]?carrierAccount.isShippoAccount&&carrierAccountRegStatusMap[carrierAccount.objectId]!==_types_CarrierAccountRegStatus__WEBPACK_IMPORTED_MODULE_1__.B.OPTED_OUT:carrierAccount.isShippoAccount}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.carrierAccounts.filter((function(carrierAccount){return!carrierAccount.isShippoAccount}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){var objectIdMap={};return carrierAccountsStore.carrierAccounts.map((function(carrierAccount){carrierAccount.objectId&&(objectIdMap[carrierAccount.objectId]=carrierAccount)})),objectIdMap}))),getHasUpsMarketplaceOrMasterAcc=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return hasMasterAccount(carrierAccountsStore.carrierAccounts,_constants_carriers__WEBPACK_IMPORTED_MODULE_0__.B8)})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccounts,getExtractedCarrierAccountRegStatusMap,(function(carrierAccounts,carrierAccountRegStatusMap){return hasCarrierAccountWithParameter(carrierAccounts,"billing_address_street1")||hasRegisteredMasterAccount(carrierAccounts,_constants_carriers__WEBPACK_IMPORTED_MODULE_0__.B8,carrierAccountRegStatusMap)}))),hasEBayCanadaPostAccount=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccounts,getExtractedCarrierAccountRegStatusMap,(function(carrierAccounts,carrierAccountRegStatusMap){return hasRegisteredMasterAccount(carrierAccounts,_constants_carriers__WEBPACK_IMPORTED_MODULE_0__.U4,carrierAccountRegStatusMap)})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return hasCarrierAccountWithParameter(carrierAccountsStore.carrierAccounts,"platform_id_key","eBay")}))),getCarrierAccountRegStatusesIncomplete=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getExtractedCarrierAccountRegStatusMap,(function(carrierAccountsRegStatuses){return Object.keys(carrierAccountsRegStatuses).reduce((function(results,objectId){return carrierAccountsRegStatuses[objectId]!==_types_CarrierAccountRegStatus__WEBPACK_IMPORTED_MODULE_1__.B.COMPLETE&&(results[objectId]=carrierAccountsRegStatuses[objectId]),results}),{})})),getIsSavingCarrierAccount=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.isFetchingCarrierAccounts})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.isSavingCarrierAccount}))),getCarrierAccountsErrorMessage=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.errorMessage})),getSuccessfulFetch=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.successfulSubmit})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.successfulFetch}))),getEditCarrierServiceLevelsError=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.editingCarrierAccountId})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.modalStatus})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getCarrierAccountsStore,(function(carrierAccountsStore){return carrierAccountsStore.editingCarrierServiceLevelsError}))),hasCarrierAccountWithParameter=function(carrierAccounts,parameterKey,parameterValue){return carrierAccounts.some((function(account){return account.parameters&&account.parameters[parameterKey]&&(void 0===parameterValue||account.parameters[parameterKey]===parameterValue)}))},hasMasterAccount=function(carrierAccounts,carrier){return carrierAccounts.some((function(account){return account.isShippoAccount&&account.carrier.id===carrier.id}))},hasRegisteredMasterAccount=function(carrierAccounts,carrier,regStatuses){return carrierAccounts.some((function(account){return account.isShippoAccount&&account.carrier.id===carrier.id&&account.objectId&&regStatuses[account.objectId]===_types_CarrierAccountRegStatus__WEBPACK_IMPORTED_MODULE_1__.B.COMPLETE||regStatuses[account.objectId]===_types_CarrierAccountRegStatus__WEBPACK_IMPORTED_MODULE_1__.B.OPTED_OUT}))}},"./app/selectors/orders-batch.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{VZ:()=>getFailedBatchEntriesMessages,co:()=>getOrder});var tslib__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),lodash_es_difference__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/lodash-es/difference.js"),reselect__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/reselect/es/index.js"),_selectors_orders_selectors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/selectors/orders.selectors.ts"),_selectors_rates_selectors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/selectors/rates.selectors.ts"),_types_Order__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/types/Order.ts"),_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/types/OrdersBatch.ts"),_types_Shipment__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./app/types/Shipment.ts"),_types_Transaction__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./app/types/Transaction.ts"),_transactions_selectors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./app/selectors/transactions.selectors.ts"),getOrderIdFromProps=function(_,props){return props.orderId},getBatchStore=function(state){return state.ordersBatch},getBatchData=((0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.isLoadingBatch})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.data}))),getBatchOrders=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.orders})),getBatchEntries=((0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchOrders,(function(orders){return orders.allObjectIds.length})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.batchEntries}))),getBatchShipments=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.shipments})),getBatchTransactions=((0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.hasPollingTimedOut})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.transactions}))),getBatchOrdersData=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchOrders,(function(batchOrders){return batchOrders.data})),getBatchOrdersAllIds=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchOrders,(function(batchOrders){return batchOrders.allObjectIds})),getOrder=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(_selectors_orders_selectors__WEBPACK_IMPORTED_MODULE_0__.cT,getOrderIdFromProps,(function(ordersData,orderObjectId){return ordersData[orderObjectId]})),getBatchEntriesData=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchEntries,(function(batchEntries){return batchEntries.data})),getBatchEntriesByOrder=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchEntries,(function(batchEntries){return batchEntries.byOrderObjectId})),getBatchShipmentsData=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchShipments,(function(batchShipments){return batchShipments.data})),getBatchShipmentByShipmentId=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchShipmentsData,(function(_,props){return props.shipmentObjectId}),(function(batchShipmentData,shipmentObjectId){return batchShipmentData[shipmentObjectId]})),getBatchShipmentsByBatchEntry=((0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchShipmentByShipmentId,getBatchEntriesData,(function(batchShipment,batchEntries){return batchEntries[batchShipment.batchEntryId]})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchShipmentByShipmentId,getBatchEntriesData,(function(batchShipment,batchEntries){return batchEntries[batchShipment.batchEntryId]})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchShipments,(function(batchShipments){return batchShipments.byBatchEntryId}))),getBatchTransactionsData=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchTransactions,(function(batchTransactions){return batchTransactions.data})),getBatchTransactionsByBatchEntry=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchTransactions,(function(batchTransactions){return batchTransactions.byBatchEntryId})),getBatchExcludedOrderIds=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.excludedOrdersIds})),getBatchOrder=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchOrdersData,getOrderIdFromProps,(function(batchOrdersData,orderObjectId){return batchOrdersData[orderObjectId]})),getOutboundBatchEntryFromOrderId=((0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchData,(function(batchData){return batchData?batchData.id:null})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchEntriesData,getBatchEntriesByOrder,getOrderIdFromProps,(function(batchEntriesData,batchEntriesByOrder,orderId){return Object.values(batchEntriesData).find((function(batchEntry){return batchEntriesByOrder[orderId].includes(batchEntry.id)&&!batchEntry.isReturn}))||null}))),getBatchOrderBatchEntries=((0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getOutboundBatchEntryFromOrderId,(function(batchEntry){return batchEntry?batchEntry.id:null})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchOrder,getBatchEntriesData,getBatchEntriesByOrder,(function(batchOrder,batchEntriesData,batchEntriesByOrder){return batchOrder?(batchEntriesByOrder[batchOrder.objectId]||[]).map((function(batchEntryId){return batchEntriesData[batchEntryId]})):[]}))),getOutboundBatchEntry=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchOrderBatchEntries,(function(batchEntries){return batchEntries.find((function(batchEntry){return!batchEntry.isReturn}))||null})),getReturnBatchEntry=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchOrderBatchEntries,(function(batchEntries){return batchEntries.find((function(batchEntry){return batchEntry.isReturn}))||null})),getBatchEntryOutboundShipment=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getOutboundBatchEntry,getBatchShipmentsData,getBatchShipmentsByBatchEntry,(function(outboundBatchEntry,batchShipmentsData,batchShipmentsByBatchEntry){return outboundBatchEntry?(batchShipmentsByBatchEntry[outboundBatchEntry.id]||[]).map((function(shipmentObjectId){return batchShipmentsData[shipmentObjectId]}))[0]:null})),getNotExcludedOrdersIds=((0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getOutboundBatchEntry,getBatchTransactionsData,getBatchTransactionsByBatchEntry,(function(outboundBatchEntry,batchTransactionsData,batchTransactionsByEntry){return outboundBatchEntry?(batchTransactionsByEntry[outboundBatchEntry.id]||[]).map((function(transactionObjectId){return batchTransactionsData[transactionObjectId]}))[0]:null})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getReturnBatchEntry,getBatchTransactionsData,getBatchTransactionsByBatchEntry,(function(returnBatchEntry,batchTransactionsData,batchTransactionsByEntry){return returnBatchEntry?(batchTransactionsByEntry[returnBatchEntry.id]||[]).map((function(transactionObjectId){return batchTransactionsData[transactionObjectId]}))[0]:null})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(_selectors_rates_selectors__WEBPACK_IMPORTED_MODULE_1__.VF,getBatchEntryOutboundShipment,(function(selectedRates,outboundShipment){return outboundShipment?selectedRates[outboundShipment.objectId]:null})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchEntryOutboundShipment,(function(outboundShipment){return outboundShipment?outboundShipment.selectedRateObjectId:null})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchOrdersAllIds,getBatchExcludedOrderIds,(function(allIds,excludedIds){return(0,lodash_es_difference__WEBPACK_IMPORTED_MODULE_8__.Z)(allIds,excludedIds)}))),getNotExcludedOrders=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(_selectors_orders_selectors__WEBPACK_IMPORTED_MODULE_0__.cT,getNotExcludedOrdersIds,(function(ordersData,notExcludedOrderIds){return notExcludedOrderIds.map((function(orderId){return ordersData[orderId]})).filter((function(v){return v}))})),getBatchValidOrders=((0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchEntriesData,getBatchExcludedOrderIds,(function(batchEntriesData,excludedOrdersIds){return Object.values(batchEntriesData).filter((function(batchEntry){return!excludedOrdersIds.includes(batchEntry.orderObjectId)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getNotExcludedOrders,getBatchEntries,(function(notExcludedOrders,batchEntries){return notExcludedOrders.filter((function(order){var entriesByOrder=batchEntries.byOrderObjectId[order.objectId];if(!entriesByOrder)return!1;var batchEntryId=entriesByOrder[0];return batchEntries.data[batchEntryId].objectStatus===_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_3__.jV.INVALID_ORDER}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getNotExcludedOrders,getBatchEntries,(function(notExcludedOrders,batchEntries){return notExcludedOrders.filter((function(order){var entriesByOrder=batchEntries.byOrderObjectId[order.objectId];if(!entriesByOrder)return!1;var batchEntryId=entriesByOrder[0];return batchEntries.data[batchEntryId].objectStatus!==_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_3__.jV.INVALID_ORDER}))}))),getOrdersWithTransactions=((0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getNotExcludedOrders,(function(notExcludedOrders){return notExcludedOrders.filter((function(order){return order.validationStatus===_types_Order__WEBPACK_IMPORTED_MODULE_2__.Qe.INVALID}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.currentStep})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.wasOrdersFetchTriggered})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchOrdersData,getBatchEntriesByOrder,getBatchTransactionsByBatchEntry,(function(batchOrders,batchEntriesByOrder,batchTransactionsByEntry){return Object.values(batchOrders).filter((function(batchOrder){return(batchEntriesByOrder[batchOrder.objectId]||[]).some((function(batchEntryId){return 0!==(batchTransactionsByEntry[batchEntryId]||[]).length}))}))}))),getSuccessfulBatchTransactions=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchTransactions,(function(batchTransactions){return Object.values(batchTransactions.data).filter((function(batchTransaction){return batchTransaction.objectStatus===_types_Transaction__WEBPACK_IMPORTED_MODULE_5__.LN.SUCCESS}))})),getEntriesWithSuccessfulTransactions=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchEntries,getSuccessfulBatchTransactions,(function(batchEntries,batchTransactions){return batchTransactions.map((function(batchTransaction){return{orderObjectId:batchEntries.data[batchTransaction.batchEntryId].orderObjectId,batchEntryId:batchTransaction.batchEntryId}})).reduce((function(entries,_a){var _b,orderObjectId=_a.orderObjectId,batchEntryId=_a.batchEntryId;return entries.orderObjectIds.push(orderObjectId),entries.batchEntryIds.push(batchEntryId),void 0===entries.orderSelection[orderObjectId]&&(entries.orderSelection=(0,tslib__WEBPACK_IMPORTED_MODULE_9__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_9__.pi)({},entries.orderSelection),((_b={})[orderObjectId]=[],_b))),entries.orderSelection[orderObjectId].push(batchEntryId),entries}),{batchEntryIds:[],orderObjectIds:[],orderSelection:{}})})),getIgnoredShipmentIds=((0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchEntriesData,getBatchEntriesByOrder,getEntriesWithSuccessfulTransactions,(function(batchEntriesData,batchEntriesByOrder,entriesWithSuccessfulTxns){return batchEntriesData?entriesWithSuccessfulTxns.orderObjectIds.reduce((function(list,successfulOrderId){var outboundBatchEntry,returnBatchEntry;return batchEntriesByOrder[successfulOrderId].forEach((function(batchEntryId){var batchEntry=batchEntriesData[batchEntryId];batchEntry.isReturn?returnBatchEntry=batchEntry:outboundBatchEntry=batchEntry})),outboundBatchEntry&&returnBatchEntry&&(0,_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_3__.Fs)(returnBatchEntry)?(0,tslib__WEBPACK_IMPORTED_MODULE_9__.ev)([outboundBatchEntry],(0,tslib__WEBPACK_IMPORTED_MODULE_9__.CR)(list),!1):list}),[]):[]})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getOrdersWithTransactions,(function(ordersWithTransactions){return ordersWithTransactions.map((function(batchOrder){return batchOrder.objectId}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.isSavingPackageInformation})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchData,(function(batchData){return batchData&&batchData.transactionGroupStatus?batchData.transactionGroupStatus:null})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchData,(function(batchData){return batchData&&batchData.returnTransactionGroupStatus?batchData.returnTransactionGroupStatus:null})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.selectedServiceLevelForAllOrders})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,_selectors_rates_selectors__WEBPACK_IMPORTED_MODULE_1__.VF,(function(batchStore,ratesData){return Object.keys(batchStore.shipments.data).filter((function(shipmentObjectId){return!ratesData[shipmentObjectId]}))}))),getIgnoredBatchEntries=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getIgnoredShipmentIds,getBatchStore,(function(ignoredShipmentIds,batchStore){return ignoredShipmentIds.reduce((function(ignoredBatchEntries,ignoredShipmentId){var batchShipment=batchStore.shipments.data[ignoredShipmentId],batchEntry=batchStore.batchEntries.data[batchShipment.batchEntryId],excludedOrder=batchStore.excludedOrdersIds.find((function(excludedOrderId){return excludedOrderId===batchEntry.orderObjectId}));return batchEntry.isReturn||excludedOrder?ignoredBatchEntries:(0,tslib__WEBPACK_IMPORTED_MODULE_9__.ev)((0,tslib__WEBPACK_IMPORTED_MODULE_9__.ev)([],(0,tslib__WEBPACK_IMPORTED_MODULE_9__.CR)(ignoredBatchEntries),!1),[batchEntry],!1)}),[])})),getShipmentsWithoutRates=((0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getIgnoredBatchEntries,(function(ignoredBatchEntries){return ignoredBatchEntries.map((function(ignoredBatchEntry){return ignoredBatchEntry.orderObjectId}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchData,(function(batchData){return!(!batchData||!batchData.transactionGroupStatus)&&[_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_3__.Ae.PROCESSING,_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_3__.Ae.COMPLETE].includes(batchData.transactionGroupStatus)})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.isCreatingTransactions})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.inlineEditModalOpen})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.inlineEditModalShowSlideContent})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.inlineEditOrderId})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchEntriesData,(function(_,props){return props.batchEntryId}),(function(batchEntriesData,batchEntryId){return batchEntriesData[batchEntryId].userInput||null})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.isFetchingUserBatchInput})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchShipmentsData,(function(batchShipmentsData){return Object.values(batchShipmentsData).filter((function(batchShipment){return 0===batchShipment.numRates&&(0,_types_Shipment__WEBPACK_IMPORTED_MODULE_4__.PD)(batchShipment.objectStatus)}))}))),getFailedShipmentsBatchEntries=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchEntriesData,(function(batchEntriesData){return Object.values(batchEntriesData).filter((function(batchEntry){return batchEntry.objectStatus===_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_3__.jV.SHIPMENT_REQUEST_FAILED}))})),getFailedTransactionBatchEntries=(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchEntriesData,getBatchTransactions,getBatchTransactionsData,(function(batchEntriesData,transactions,transactionsData){return Object.values(batchEntriesData).filter((function(batchEntry){return[_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_3__.jV.TRANSACTION_REQUEST_FAILED,_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_3__.jV.RATE_NOT_AVAILABLE].includes(batchEntry.objectStatus)||transactions.byBatchEntryId[batchEntry.id]&&transactionsData[transactions.byBatchEntryId[batchEntry.id][0]].objectStatus===_types_Transaction__WEBPACK_IMPORTED_MODULE_5__.LN.ERROR}))})),getFailedBatchEntriesMessages=((0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getFailedTransactionBatchEntries,_selectors_orders_selectors__WEBPACK_IMPORTED_MODULE_0__.cT,(function(failedBatchEntries,ordersData){return Object.values(failedBatchEntries).filter((function(entry){var _a;return null===(_a=ordersData[entry.orderObjectId])||void 0===_a?void 0:_a.orderNumber}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getFailedTransactionBatchEntries,getBatchTransactions,_transactions_selectors__WEBPACK_IMPORTED_MODULE_6__.VY,(function(failedBatchEntries,batchTransactions,transactionsData){return failedBatchEntries.reduce((function(messagesByOrderId,batchEntry){var _a,messages=[_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_3__.jV.TRANSACTION_REQUEST_FAILED,_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_3__.jV.RATE_NOT_AVAILABLE].includes(batchEntry.objectStatus)?[{kind:"APIMessage",code:batchEntry.objectStatus,source:"batch-entry",text:batchEntry.objectStatus===_types_OrdersBatch__WEBPACK_IMPORTED_MODULE_3__.jV.TRANSACTION_REQUEST_FAILED?"There was an error processing your request. Please try again later.":"Could not auto create return."}]:transactionsData[batchTransactions.byBatchEntryId[batchEntry.id][0]]?transactionsData[batchTransactions.byBatchEntryId[batchEntry.id][0]].messages:null;return messages?(0,tslib__WEBPACK_IMPORTED_MODULE_9__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_9__.pi)({},messagesByOrderId),((_a={})[batchEntry.orderObjectId]=messages,_a)):messagesByOrderId}),{})})));(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getShipmentsWithoutRates,getFailedShipmentsBatchEntries,(function(shipmentsWithoutRates,failedShipmentBatchEntries){return shipmentsWithoutRates.length+failedShipmentBatchEntries.length})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.selectedServiceLevelForAllOrders})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchValidOrders,getBatchEntriesByOrder,getBatchEntriesData,getBatchShipmentsByBatchEntry,_selectors_rates_selectors__WEBPACK_IMPORTED_MODULE_1__.VF,(function(batchValidOrders,batchEntriesByOrder,batchEntriesData,shipmentsByEntry,selectedRates){return batchValidOrders.reduce((function(list,validOrder){var batchEntries=batchEntriesByOrder[validOrder.objectId].map((function(entry){return batchEntriesData[entry]})).filter((function(batchEntry){return!batchEntry.isReturn}));if(0===batchEntries.length)return list;var shipments=shipmentsByEntry[batchEntries[0].id];if(!shipments||1!==shipments.length)return list;var selectedRate=selectedRates[shipments[0]];return selectedRate?(0,tslib__WEBPACK_IMPORTED_MODULE_9__.ev)((0,tslib__WEBPACK_IMPORTED_MODULE_9__.ev)([],(0,tslib__WEBPACK_IMPORTED_MODULE_9__.CR)(list),!1),[selectedRate],!1):list}),[])})),(0,reselect__WEBPACK_IMPORTED_MODULE_7__.createSelector)(getBatchStore,(function(batchStore){return batchStore.error}))},"./app/selectors/orders.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A0:()=>getSelectedOrders,AU:()=>getOrders,Cx:()=>getIsOrderLoading,G7:()=>getPatchBatchEntriesExtrasRequest,Km:()=>getPackingSlipUrl,Ky:()=>getIsBatchEntrySelected,Lv:()=>getSelectedOrdersData,Mp:()=>getOrderByObjectId,Nw:()=>getSelectedCount,Vc:()=>getIsLoading,Vu:()=>getAreAllOrdersSelected,Zu:()=>getIsUpdatingOrder,cT:()=>getOrdersData,g3:()=>getOrdersAllIds,jR:()=>makeGetOrderById,tW:()=>getTotalOrders,ub:()=>getIsOrderSelected,wH:()=>makeGetIsOrderPartiallyFulfilled});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),reselect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/reselect/es/index.js"),_types_Order__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/types/Order.ts"),_types_Transaction__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/types/Transaction.ts"),_utils_fetchable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./app/utils/fetchable.ts"),EMPTY_ORDER={partialFulfillmentRequests:[]},getOrdersStore=function(state){return state.orders},getOrderIdFromProps=function(_,props){return props.orderId},getOrderObjectIdFromProps=function(_,props){return props.orderObjectId},getOrderAction=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.orderAction})),getOrdersAllIds=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isSyncingOrders})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.hasNewOrders})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(orderStore){return orderStore.totalOrders})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.allIds}))),getOrdersData=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.data})),getOrders=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersAllIds,getOrdersData,(function(allIds,ordersData){return allIds.map((function(id){return ordersData[id]})).filter((function(v){return v}))})),getTotalOrders=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,(function(ordersData){return Object.values(ordersData).some((function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.Lq)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,(function(ordersData){return Object.values(ordersData).some((function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.si)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.totalOrders}))),getIsOrderLoading=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.allOrdersCount})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isLoadingOrdersCount})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.fetchOrderHasError})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isLoadingOrder}))),getIsLoading=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isLoading})),getPackingSlipUrl=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrderAction,(function(orderAction){return"hide"===orderAction.kind&&(0,_utils_fetchable__WEBPACK_IMPORTED_MODULE_3__.lH)((function(){return!1}),(function(){return!0}),(function(){return!1}),(function(){return!1}))(orderAction.request)})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.transactions})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.packingSlipUrl}))),getSelectedOrders=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.labelDownloadUrl})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.labelDownloadErrMsg})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isDownloadingLabels})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.notificationsLoading})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.notificationsSent})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.lastOrderId})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.selectedOrders}))),getSelectedOrdersData=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.checkedOrders})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.rowModelBeingEdited})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.ordersRemainingLabelDownload})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.checkoutRateAfterPoll})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,getOrdersData,(function(ordersSelection,ordersData){return Object.keys(ordersSelection).map((function(id){return ordersData[id]})).filter((function(v){return v}))}))),makeGetOrderById=function(){return(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,getOrderIdFromProps,(function(ordersData,orderId){return ordersData[orderId]}))},getOrderByObjectId=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,getOrderObjectIdFromProps,(function(ordersData,orderObjectId){return ordersData[orderObjectId]||EMPTY_ORDER})),makeGetIsOrderPartiallyFulfilled=function(){return(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrderByObjectId,(function(order){var e_1,_a,_b;if(!order.partialFulfillmentRequests||!order.totalPartialFulfillments)return!1;var hasFulfilledOrder=!1,hasUnfulfilledOrder=!1,_loop_1=function(request){request.transactionObjectId?(null===(_b=order.transactions.find((function(transaction){return transaction.objectId===request.transactionObjectId})))||void 0===_b?void 0:_b.status)===_types_Transaction__WEBPACK_IMPORTED_MODULE_1__.LN.SUCCESS?hasFulfilledOrder=!0:hasUnfulfilledOrder=!0:hasUnfulfilledOrder=!0;if(hasFulfilledOrder&&hasUnfulfilledOrder)return{value:!0}};try{for(var _c=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.XA)(order.partialFulfillmentRequests),_d=_c.next();!_d.done;_d=_c.next()){var state_1=_loop_1(_d.value);if("object"==typeof state_1)return state_1.value}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c.return)&&_a.call(_c)}finally{if(e_1)throw e_1.error}}return!1}))},getOrderById=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,getOrderIdFromProps,(function(ordersData,orderId){return ordersData[orderId]})),getIsUpdatingOrder=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrderById,(function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.Lq)(order)})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.some((function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.si)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.some((function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.Lq)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrdersData,(function(selectedOrdersData){return selectedOrdersData.every((function(order){return(0,_types_Order__WEBPACK_IMPORTED_MODULE_0__.Lq)(order)}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isUpdatingBatchEntry}))),getIsOrderSelected=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isSingleOrderMode})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isOnOrdersTableScreen})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,getOrderObjectIdFromProps,(function(selectedOrders,orderObjectId){return!!selectedOrders[orderObjectId]}))),getAreAllOrdersSelected=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,getOrdersAllIds,(function(selectedOrders,allIds){return Object.keys(selectedOrders).length===allIds.length})),getIsBatchEntrySelected=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,(function(_,props){return props}),(function(selectedOrders,props){return(selectedOrders[props.orderObjectId]||[]).includes(props.batchEntryId)})),getSelectedCount=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getSelectedOrders,(function(selectedOrders){return Object.values(selectedOrders).reduce((function(count,currVal){return currVal.length?count+currVal.length:count+1}),0)})),getPatchBatchEntriesExtrasRequest=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.batchEntryEditNotificationState})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(orderStore){return orderStore.patchBatchEntriesExtrasRequest}))),getOrdersDataByObjectIds=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersData,(function(_,props){return props.orderObjectIds}),(function(ordersData,orderObjectIds){return orderObjectIds.map((function(objectId){return ordersData[objectId]}))}));(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersDataByObjectIds,(function(ordersData){return ordersData.filter((function(order){var _a;return null===(_a=null==order?void 0:order.transactions)||void 0===_a?void 0:_a.some((function(transaction){return"SUCCESS"===transaction.status}))})).map((function(order){return order.transactions.filter((function(t){return"SUCCESS"===t.status}))[0].objectId}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isUpdatingCustomsItems})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isCreatingCustomsItems})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isSidePanelCheckout})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isUpdatingParcel})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.isLoadingOrderTags})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getOrdersStore,(function(ordersStore){return ordersStore.fetchOrderTagsHasError}))},"./app/selectors/props.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{UG:()=>getBatchEntryIdsFromProps,ik:()=>getOrderObjectIdFromProps,jn:()=>getBatchEntryIdFromProps,q3:()=>getOrderObjectIdsFromProps,t2:()=>getTransactionObjectIdFromProps});var getOrderObjectIdFromProps=function(_,props){return props.orderObjectId},getOrderObjectIdsFromProps=function(_,props){return props.orderObjectIds},getBatchEntryIdFromProps=function(_,props){return props.batchEntryId},getBatchEntryIdsFromProps=function(_,props){return props.batchEntryIds},getTransactionObjectIdFromProps=function(_,props){return props.transactionObjectId}},"./app/selectors/providers.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ft:()=>getServiceLevelsByAccountRequest,IE:()=>getAllServiceLevelsMapByAccount,J6:()=>getMappedServiceLevelsByToken,l4:()=>getIsServiceLevelsRequestComplete,tj:()=>getCarrierWithServiceLevelsByAccount,v7:()=>getIsServiceLevelsRequestInitiated});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),re_reselect__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/re-reselect/dist/index.js"),re_reselect__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(re_reselect__WEBPACK_IMPORTED_MODULE_3__),reselect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/reselect/es/index.js"),_types_ServiceLevel__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/types/ServiceLevel.ts"),_utils_fetchable__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./app/utils/fetchable.ts"),_user_selectors__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./app/selectors/user.selectors.ts"),getProvidersStore=function(state){return state.providers},getServiceLevelsByAccountRequest=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getProvidersStore,(function(providersStore){return providersStore.serviceLevelsByAccountRequest})),getMappedServiceLevelsByToken=((0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getProvidersStore,(function(providersStore){return providersStore.mappedServiceLevelsByAccount})),(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getProvidersStore,(function(providersStore){return providersStore.mappedServiceLevelsByToken}))),getCarrierWithServiceLevelsByAccount=re_reselect__WEBPACK_IMPORTED_MODULE_3___default()(getProvidersStore,(function(_,props){return props.carrierAccount}),(function(providersStore,carrierProps){var _a,targetCarrier=providersStore.mappedServiceLevelsByAccount[null===(_a=null==carrierProps?void 0:carrierProps.carrier)||void 0===_a?void 0:_a.providerToken];if(targetCarrier)return targetCarrier.find((function(carrier){return(null==carrier?void 0:carrier.objectId)===(null==carrierProps?void 0:carrierProps.objectId)}))}))((function(_,props){var _a;return null===(_a=null==props?void 0:props.carrierAccount)||void 0===_a?void 0:_a.objectId})),getAllServiceLevelsMapByAccount=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getProvidersStore,(function(providersStore){var allServiceLevelsByAccount={};return Object.values(providersStore.mappedServiceLevelsByAccount).forEach((function(providerAccounts){providerAccounts.forEach((function(providerAccount){var serviceLevelsByToken={};providerAccount.allServiceLevels.forEach((function(serviceLevel){serviceLevelsByToken[serviceLevel.token]=serviceLevel})),allServiceLevelsByAccount[providerAccount.objectId]=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_4__.pi)({},providerAccount),{serviceLevelsByToken})}))})),allServiceLevelsByAccount})),getIsServiceLevelsRequestInitiated=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getProvidersStore,(function(providersStore){var request=providersStore.serviceLevelsByAccountRequest;return(0,_utils_fetchable__WEBPACK_IMPORTED_MODULE_5__.A9)(request)||(0,_utils_fetchable__WEBPACK_IMPORTED_MODULE_5__.yL)(request)})),getIsServiceLevelsRequestComplete=(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getProvidersStore,(function(providersStore){var request=providersStore.serviceLevelsByAccountRequest;return(0,_utils_fetchable__WEBPACK_IMPORTED_MODULE_5__.K4)(request)||(0,_utils_fetchable__WEBPACK_IMPORTED_MODULE_5__.yL)(request)}));(0,reselect__WEBPACK_IMPORTED_MODULE_2__.createSelector)(getMappedServiceLevelsByToken,_user_selectors__WEBPACK_IMPORTED_MODULE_1__.f_,(function(mappedServiceLevelsByToken,userDefaultReturnServiceLevel){return(0,_types_ServiceLevel__WEBPACK_IMPORTED_MODULE_0__.Eo)({mappedServiceLevels:mappedServiceLevelsByToken,accountId:void 0,token:null==userDefaultReturnServiceLevel?void 0:userDefaultReturnServiceLevel.token})}))},"./app/selectors/rates.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Dm:()=>getRatesIdsByShipmentId,L0:()=>getActiveRates,VF:()=>getSelectedRates});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),reselect__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/reselect/es/index.js"),_selectors_providers_selectors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/selectors/providers.selectors.ts"),getRatesStore=function(state){return state.rates},getActiveRates=((0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getRatesStore,(function(ratesStore){return ratesStore.data})),(0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getRatesStore,_selectors_providers_selectors__WEBPACK_IMPORTED_MODULE_0__.IE,(function(ratesStore,activeServiceLevels){if(!activeServiceLevels||!Object.keys(activeServiceLevels).length)return ratesStore.data;var activeRates={};return Object.entries(ratesStore.data).forEach((function(_a){var _b,_c,_d,_e=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.CR)(_a,2),key=_e[0],rate=_e[1];!0!==(null===(_d=null===(_b=null==activeServiceLevels?void 0:activeServiceLevels[rate.carrierAccount])||void 0===_b?void 0:_b.serviceLevelsByToken[null!==(_c=rate.servicelevel.extended_token)&&void 0!==_c?_c:rate.servicelevel.token])||void 0===_d?void 0:_d.is_hidden)&&(activeRates[key]=rate)})),activeRates}))),getRatesIdsByShipmentId=(0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getRatesStore,getActiveRates,(function(ratesStore,activeRates){var ratesIdsByShipmentId={};return Object.entries(ratesStore.byShipmentId).forEach((function(_a){var _b=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.CR)(_a,2),key=_b[0],rateIds=_b[1];ratesIdsByShipmentId[key]=rateIds.filter((function(rateId){return activeRates[rateId]}))})),ratesIdsByShipmentId})),getSelectedRates=((0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getActiveRates,(function(ratesData){return Object.keys(ratesData).reduce((function(uniqueServiceLevels,rateObjectId){var _a,rate=ratesData[rateObjectId],serviceLevel=rate.servicelevel;return uniqueServiceLevels[serviceLevel.token]?uniqueServiceLevels:(0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)({},uniqueServiceLevels),((_a={})[serviceLevel.token]=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)((0,tslib__WEBPACK_IMPORTED_MODULE_2__.pi)({},serviceLevel),{provider:rate.provider}),_a))}),{})})),(0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getRatesStore,getActiveRates,(function(ratesStore,activeRates){var selectedRateIds={};return Object.entries(ratesStore.selectedRates).forEach((function(_a){var _b=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.CR)(_a,2),key=_b[0],rateId=_b[1];activeRates[rateId]&&(selectedRateIds[key]=rateId)})),selectedRateIds})));(0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getRatesStore,(function(ratesStore){return ratesStore.userTouchedRates})),(0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getActiveRates,getSelectedRates,(function(activeRates,batchSelectedRates){return Object.values(batchSelectedRates).map((function(selectedRate){return activeRates[selectedRate]})).filter((function(rate){return rate}))}))},"./app/selectors/shipments.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B9:()=>getShipmentsData,TT:()=>getShipmentLoadingStates,cX:()=>getShipmentByShipmentId});var reselect__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/reselect/es/index.js"),getShipmentsStore=function(state){return state.shipments},getShipmentIdFromProps=function(_,props){return props.shipmentId?props.shipmentId:""},getShipmentLoadingStates=(0,reselect__WEBPACK_IMPORTED_MODULE_0__.createSelector)(getShipmentsStore,(function(shipmentsStore){return shipmentsStore.loadState})),getShipmentsData=(0,reselect__WEBPACK_IMPORTED_MODULE_0__.createSelector)(getShipmentsStore,(function(shipmentsStore){return shipmentsStore.data})),getShipmentByShipmentId=(0,reselect__WEBPACK_IMPORTED_MODULE_0__.createSelector)(getShipmentsData,getShipmentIdFromProps,(function(shipmentsData,shipmentId){return shipmentsData[shipmentId]}));(0,reselect__WEBPACK_IMPORTED_MODULE_0__.createSelector)(getShipmentLoadingStates,getShipmentIdFromProps,(function(loadingState,shipmentObjectId){return!!loadingState[shipmentObjectId]}))},"./app/selectors/transactions.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{VY:()=>getTransactionsData});var reselect__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/reselect/es/index.js"),_selectors_props_selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./app/selectors/props.selectors.ts"),_types_Transaction__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./app/types/Transaction.ts"),getTransactionsState=function(state){return state.transactions},getTransactionsData=(0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getTransactionsState,(function(transactionsState){return transactionsState.data}));(0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getTransactionsData,(function(transactionsData){return Object.values(transactionsData).filter((function(transaction){return transaction.status===_types_Transaction__WEBPACK_IMPORTED_MODULE_0__.LN.SUCCESS}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getTransactionsData,(function(transactionsData){return Object.values(transactionsData).filter((function(transaction){return transaction.status===_types_Transaction__WEBPACK_IMPORTED_MODULE_0__.LN.ERROR}))})),(0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getTransactionsState,(function(transactionsState){return transactionsState.isRefundLoading})),(0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getTransactionsData,_selectors_props_selectors__WEBPACK_IMPORTED_MODULE_2__.t2,(function(transactionsData,transactionId){return transactionsData[transactionId]})),(0,reselect__WEBPACK_IMPORTED_MODULE_1__.createSelector)(getTransactionsState,(function(transactionsState){return transactionsState.fetchingTransactions}))}}]);