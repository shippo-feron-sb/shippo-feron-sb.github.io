"use strict";(self.webpackChunk_shippo_feron=self.webpackChunk_shippo_feron||[]).push([[6984],{"./node_modules/@goshippo/components/esm/Stack/Stack.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Stack_Stack_Stack});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),emotion_element_c39617d8_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-element-c39617d8.browser.esm.js"),objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),breakpoints=__webpack_require__("./node_modules/@mui/system/esm/breakpoints.js"),spacing=__webpack_require__("./node_modules/@mui/system/esm/spacing.js"),extendSxProp=__webpack_require__("./node_modules/@mui/system/esm/styleFunctionSx/extendSxProp.js"),deepmerge=__webpack_require__("./node_modules/@mui/utils/esm/deepmerge.js"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),useThemeProps=__webpack_require__("./node_modules/@mui/material/styles/useThemeProps.js");const _excluded=["component","direction","spacing","divider","children"];function joinChildren(children,separator){const childrenArray=react.Children.toArray(children).filter(Boolean);return childrenArray.reduce(((output,child,index)=>(output.push(child),index<childrenArray.length-1&&output.push(react.cloneElement(separator,{key:`separator-${index}`})),output)),[])}const StackRoot=(0,styled.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(props,styles)=>[styles.root]})((({ownerState,theme})=>{let styles=(0,esm_extends.Z)({display:"flex",flexDirection:"column"},(0,breakpoints.k9)({theme},(0,breakpoints.P$)({values:ownerState.direction,breakpoints:theme.breakpoints.values}),(propValue=>({flexDirection:propValue}))));if(ownerState.spacing){const transformer=(0,spacing.hB)(theme),base=Object.keys(theme.breakpoints.values).reduce(((acc,breakpoint)=>(("object"==typeof ownerState.spacing&&null!=ownerState.spacing[breakpoint]||"object"==typeof ownerState.direction&&null!=ownerState.direction[breakpoint])&&(acc[breakpoint]=!0),acc)),{}),directionValues=(0,breakpoints.P$)({values:ownerState.direction,base}),spacingValues=(0,breakpoints.P$)({values:ownerState.spacing,base});"object"==typeof directionValues&&Object.keys(directionValues).forEach(((breakpoint,index,breakpoints)=>{if(!directionValues[breakpoint]){const previousDirectionValue=index>0?directionValues[breakpoints[index-1]]:"column";directionValues[breakpoint]=previousDirectionValue}}));const styleFromPropValue=(propValue,breakpoint)=>{return{"& > :not(style) + :not(style)":{margin:0,[`margin${direction=breakpoint?directionValues[breakpoint]:ownerState.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[direction]}`]:(0,spacing.NA)(transformer,propValue)}};var direction};styles=(0,deepmerge.Z)(styles,(0,breakpoints.k9)({theme},spacingValues,styleFromPropValue))}return styles=(0,breakpoints.dt)(theme.breakpoints,styles),styles})),Stack=react.forwardRef((function Stack(inProps,ref){const themeProps=(0,useThemeProps.Z)({props:inProps,name:"MuiStack"}),props=(0,extendSxProp.Z)(themeProps),{component="div",direction="column",spacing=0,divider,children}=props,other=(0,objectWithoutPropertiesLoose.Z)(props,_excluded),ownerState={direction,spacing};return(0,jsx_runtime.jsx)(StackRoot,(0,esm_extends.Z)({as:component,ownerState,ref},other,{children:divider?joinChildren(children,divider):children}))})),Stack_Stack=Stack;var createTheme=__webpack_require__("./node_modules/@mui/material/styles/createTheme.js"),shippoTheme=__webpack_require__("./node_modules/@goshippo/components/esm/styles/shippoTheme.js");const stackTheme=(0,createTheme.Z)(shippoTheme.Z,{}),Stack_Stack_Stack=_a=>{var{children}=_a,props=(0,tslib_es6._T)(_a,["children"]);return(0,jsx_runtime.jsx)(emotion_element_c39617d8_browser_esm.a,Object.assign({theme:stackTheme},{children:(0,jsx_runtime.jsx)(Stack_Stack,Object.assign({},props,{children}))}))}},"./app/pages/Shipments/ShipmentsPage/ShipmentsTable/cells/StatusCell.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Delivered:()=>Delivered,DeliveredReturn:()=>DeliveredReturn,InTransit:()=>InTransit,InTransitReturn:()=>InTransitReturn,PreTransit:()=>PreTransit,PreTransitReturn:()=>PreTransitReturn,default:()=>StatusCell_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),Typography=__webpack_require__("./node_modules/@goshippo/components/esm/Typography/Typography.js"),Stack=__webpack_require__("./node_modules/@goshippo/components/esm/Stack/Stack.js"),Transaction=__webpack_require__("./app/types/Transaction.ts"),DescriptionContent=function(_a){var descriptionContent=_a.descriptionContent,truncateDescription=_a.truncateDescription;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"div",color:"primary",variant:"caption",sx:truncateDescription?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:void 0,"data-testid":"tracking-status-description"},{children:descriptionContent}))},DescriptionContainer=function(_a){var description=_a.description,truncateDescription=_a.truncateDescription;return"-"!==description?(0,emotion_react_jsx_runtime_browser_esm.tZ)(DescriptionContent,{truncateDescription,descriptionContent:description}):truncateDescription?(0,emotion_react_jsx_runtime_browser_esm.tZ)(DescriptionContent,{truncateDescription,descriptionContent:(0,emotion_react_jsx_runtime_browser_esm.tZ)("span",{children:"Â "})}):(0,emotion_react_jsx_runtime_browser_esm.tZ)(DescriptionContent,{truncateDescription})},RefundMessage=function(_a){var t=_a.t;switch(_a.transactionStatus){case Transaction.LN.REFUNDED:return t("shipments-page:cells:refunded");case Transaction.LN.REFUNDPENDING:return t("shipments-page:cells:refundPending")}},StatusCell=function(_a){var isMobile=_a.isMobile,messages=_a.messages,statusDetails=_a.statusDetails,transactionStatus=_a.transactionStatus,truncateDescription=_a.truncateDescription,t=_a.t;return transactionStatus===Transaction.LN.ERROR?(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack.Z,(0,tslib_es6.pi)({sx:{width:"100%"}},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",color:"primary",variant:"body","data-testid":"tracking-status-title"},{children:t("shipments-page:cells:error")})),!isMobile&&(truncateDescription?(null==messages?void 0:messages.length)&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(DescriptionContainer,{description:messages[0].text,truncateDescription}):null==messages?void 0:messages.map((function(m,idx){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(DescriptionContainer,{description:"".concat(m.text,"\n"),truncateDescription},idx)})))]})):transactionStatus===Transaction.LN.REFUNDED||transactionStatus===Transaction.LN.REFUNDPENDING?(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack.Z,(0,tslib_es6.pi)({sx:{width:"100%"}},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",color:"primary",variant:"body","data-testid":"tracking-status-title"},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(RefundMessage,{t,transactionStatus})})),!isMobile&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(DescriptionContainer,{description:"-",truncateDescription})]})):statusDetails?(0,emotion_react_jsx_runtime_browser_esm.BX)(Stack.Z,(0,tslib_es6.pi)({sx:{width:"100%"}},{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(Typography.Z,(0,tslib_es6.pi)({component:"p",color:"primary",variant:"body","data-testid":"tracking-status-title"},{children:statusDetails.title})),!isMobile&&(0,emotion_react_jsx_runtime_browser_esm.tZ)(DescriptionContainer,{description:statusDetails.description||"-",truncateDescription})]})):null};__webpack_require__("./app/types/Order.ts"),__webpack_require__("./app/types/Track.ts");function trackingStatusFieldToObject(trackingStatus,isReturn,isNewReturnExperience){if(trackingStatus){var splitStatus=trackingStatus.split(": ");if(splitStatus.length<2)return{title:splitStatus[0].trim()};var title=splitStatus[0].trim();if("pre-transit"===title.toLowerCase()&&(title="Pre-transit"),isReturn&&isNewReturnExperience)switch(title.toLowerCase()){case"pre-transit":title="".concat(title," return");break;case"in transit":case"in-transit":title="Return in transit";break;case"delivered":title="Return delivered";break;case"failure":title="Return failure"}return{title,description:splitStatus.slice(1).join(": ").trim()}}}const StatusCell_stories={title:"Orders V2 / Cells / StatusCell",component:StatusCell};var Template=function(args){var _a,_b,statusDetails=trackingStatusFieldToObject("".concat(null===(_a=args.statusDetails)||void 0===_a?void 0:_a.title,": ").concat(null===(_b=args.statusDetails)||void 0===_b?void 0:_b.description),!1,!1);return(0,emotion_react_jsx_runtime_browser_esm.tZ)("div",(0,tslib_es6.pi)({className:"MuiDataGrid-cell--withRenderer MuiDataGrid-cell MuiDataGrid-cell--textLeft",style:{minWidth:"300px",maxWidth:"300px",minHeight:"64px",maxHeight:"64px"}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(StatusCell,(0,tslib_es6.pi)({},args,{statusDetails}))}))},ReturnTemplate=function(args){var _a,_b,statusDetails=trackingStatusFieldToObject("".concat(null===(_a=args.statusDetails)||void 0===_a?void 0:_a.title,": ").concat(null===(_b=args.statusDetails)||void 0===_b?void 0:_b.description),!0,!0);return(0,emotion_react_jsx_runtime_browser_esm.tZ)("div",(0,tslib_es6.pi)({className:"MuiDataGrid-cell--withRenderer MuiDataGrid-cell MuiDataGrid-cell--textLeft",style:{minWidth:"300px",maxWidth:"300px",minHeight:"64px",maxHeight:"64px"}},{children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(StatusCell,(0,tslib_es6.pi)({},args,{statusDetails}))}))},PreTransit=Template.bind({});PreTransit.args={isMobile:!1,messages:void 0,statusDetails:{title:"Pre-Transit",description:"Shipment information has been transmitted to the shipping carrier."},transactionStatus:Transaction.LN.SUCCESS,t:function(key){return key}};var PreTransitReturn=ReturnTemplate.bind({});PreTransitReturn.args={isMobile:!1,messages:void 0,statusDetails:{title:"Pre-Transit",description:"Shipment information has been transmitted to the shipping carrier."},transactionStatus:Transaction.LN.SUCCESS,t:function(key){return key}};var InTransit=Template.bind({});InTransit.args={isMobile:!1,messages:void 0,statusDetails:{title:"In-Transit",description:"The packahge is on its way to a USPS facility."},transactionStatus:Transaction.LN.SUCCESS,t:function(key){return key}};var InTransitReturn=ReturnTemplate.bind({});InTransitReturn.args={isMobile:!1,messages:void 0,statusDetails:{title:"In-Transit",description:"The packahge is on its way to a USPS facility."},transactionStatus:Transaction.LN.SUCCESS,t:function(key){return key}};var Delivered=Template.bind({});Delivered.args={isMobile:!1,messages:void 0,statusDetails:{title:"Delivered",description:"The package has been delivered to the recipient."},transactionStatus:Transaction.LN.SUCCESS,t:function(key){return key}};var DeliveredReturn=ReturnTemplate.bind({});DeliveredReturn.args={isMobile:!1,messages:void 0,statusDetails:{title:"Delivered",description:"The package has been delivered to the merchant."},transactionStatus:Transaction.LN.SUCCESS,t:function(key){return key}},PreTransit.parameters={...PreTransit.parameters,docs:{...PreTransit.parameters?.docs,source:{originalSource:"(args: StatusCellProps) => {\n  const statusDetails = trackingStatusFieldToObject(`${args.statusDetails?.title}: ${args.statusDetails?.description}`, false, false);\n  return <div className=\"MuiDataGrid-cell--withRenderer MuiDataGrid-cell MuiDataGrid-cell--textLeft\" style={{\n    minWidth: '300px',\n    maxWidth: '300px',\n    minHeight: '64px',\n    maxHeight: '64px'\n  }}>\n      <StatusCell {...args} statusDetails={statusDetails} />\n    </div>;\n}",...PreTransit.parameters?.docs?.source}}},PreTransitReturn.parameters={...PreTransitReturn.parameters,docs:{...PreTransitReturn.parameters?.docs,source:{originalSource:"(args: StatusCellProps) => {\n  const statusDetails = trackingStatusFieldToObject(`${args.statusDetails?.title}: ${args.statusDetails?.description}`, true, true);\n  return <div className=\"MuiDataGrid-cell--withRenderer MuiDataGrid-cell MuiDataGrid-cell--textLeft\" style={{\n    minWidth: '300px',\n    maxWidth: '300px',\n    minHeight: '64px',\n    maxHeight: '64px'\n  }}>\n      <StatusCell {...args} statusDetails={statusDetails} />\n    </div>;\n}",...PreTransitReturn.parameters?.docs?.source}}},InTransit.parameters={...InTransit.parameters,docs:{...InTransit.parameters?.docs,source:{originalSource:"(args: StatusCellProps) => {\n  const statusDetails = trackingStatusFieldToObject(`${args.statusDetails?.title}: ${args.statusDetails?.description}`, false, false);\n  return <div className=\"MuiDataGrid-cell--withRenderer MuiDataGrid-cell MuiDataGrid-cell--textLeft\" style={{\n    minWidth: '300px',\n    maxWidth: '300px',\n    minHeight: '64px',\n    maxHeight: '64px'\n  }}>\n      <StatusCell {...args} statusDetails={statusDetails} />\n    </div>;\n}",...InTransit.parameters?.docs?.source}}},InTransitReturn.parameters={...InTransitReturn.parameters,docs:{...InTransitReturn.parameters?.docs,source:{originalSource:"(args: StatusCellProps) => {\n  const statusDetails = trackingStatusFieldToObject(`${args.statusDetails?.title}: ${args.statusDetails?.description}`, true, true);\n  return <div className=\"MuiDataGrid-cell--withRenderer MuiDataGrid-cell MuiDataGrid-cell--textLeft\" style={{\n    minWidth: '300px',\n    maxWidth: '300px',\n    minHeight: '64px',\n    maxHeight: '64px'\n  }}>\n      <StatusCell {...args} statusDetails={statusDetails} />\n    </div>;\n}",...InTransitReturn.parameters?.docs?.source}}},Delivered.parameters={...Delivered.parameters,docs:{...Delivered.parameters?.docs,source:{originalSource:"(args: StatusCellProps) => {\n  const statusDetails = trackingStatusFieldToObject(`${args.statusDetails?.title}: ${args.statusDetails?.description}`, false, false);\n  return <div className=\"MuiDataGrid-cell--withRenderer MuiDataGrid-cell MuiDataGrid-cell--textLeft\" style={{\n    minWidth: '300px',\n    maxWidth: '300px',\n    minHeight: '64px',\n    maxHeight: '64px'\n  }}>\n      <StatusCell {...args} statusDetails={statusDetails} />\n    </div>;\n}",...Delivered.parameters?.docs?.source}}},DeliveredReturn.parameters={...DeliveredReturn.parameters,docs:{...DeliveredReturn.parameters?.docs,source:{originalSource:"(args: StatusCellProps) => {\n  const statusDetails = trackingStatusFieldToObject(`${args.statusDetails?.title}: ${args.statusDetails?.description}`, true, true);\n  return <div className=\"MuiDataGrid-cell--withRenderer MuiDataGrid-cell MuiDataGrid-cell--textLeft\" style={{\n    minWidth: '300px',\n    maxWidth: '300px',\n    minHeight: '64px',\n    maxHeight: '64px'\n  }}>\n      <StatusCell {...args} statusDetails={statusDetails} />\n    </div>;\n}",...DeliveredReturn.parameters?.docs?.source}}}}}]);